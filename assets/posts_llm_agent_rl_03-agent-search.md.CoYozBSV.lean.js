import{_ as Q,c as e,o as r,ah as s,j as t,a as l}from"./chunks/framework.CvbyeFFO.js";const D=JSON.parse('{"title":"Agent-Search-RL 笔记","description":"","frontmatter":{"title":"Agent-Search-RL 笔记","date":"2025-05-30T10:53:30.000Z","create":"2025-05-30T10:53:30.000Z","categories":["Agent-Search-RL"],"tags":["R1-Searcher","Search-R1","ReSearch","DeepResearcher","WebSearch"]},"headers":[],"relativePath":"posts/llm/agent/rl/03-agent-search.md","filePath":"posts/llm/agent/rl/03-agent-search.md","lastUpdated":1753200077000}'),n={name:"posts/llm/agent/rl/03-agent-search.md"},i={class:"custom-block tip"},T={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},o={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.149ex"},xmlns:"http://www.w3.org/2000/svg",width:"29.993ex",height:"5.43ex",role:"img",focusable:"false",viewBox:"0 -1450 13256.7 2400","aria-hidden":"true"},m={class:"custom-block tip"},d={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.885ex",height:"2.213ex",role:"img",focusable:"false",viewBox:"0 -683 2601.3 978","aria-hidden":"true"},h={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.885ex",height:"2.213ex",role:"img",focusable:"false",viewBox:"0 -683 2601.3 978","aria-hidden":"true"},c={class:"custom-block tip"},u={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},k={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.149ex"},xmlns:"http://www.w3.org/2000/svg",width:"23.324ex",height:"5.43ex",role:"img",focusable:"false",viewBox:"0 -1450 10309.4 2400","aria-hidden":"true"},w={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.149ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.293ex",height:"5.43ex",role:"img",focusable:"false",viewBox:"0 -1450 11621.5 2400","aria-hidden":"true"},f={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},H={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.149ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.293ex",height:"5.43ex",role:"img",focusable:"false",viewBox:"0 -1450 11621.5 2400","aria-hidden":"true"},v={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.738ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.287ex",height:"4.812ex",role:"img",focusable:"false",viewBox:"0 -1359 9408.7 2127","aria-hidden":"true"},L={class:"custom-block tip"},x={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.733ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.209ex",height:"8.597ex",role:"img",focusable:"false",viewBox:"0 -2150 11584.2 3800","aria-hidden":"true"};function M(V,a,Z,R,A,S){return r(),e("div",null,[a[42]||(a[42]=s("",87)),t("div",i,[a[5]||(a[5]=s("",5)),t("p",null,[a[2]||(a[2]=l("主要是")),a[3]||(a[3]=t("code",null,"f1",-1)),a[4]||(a[4]=l("，")),t("mjx-container",T,[(r(),e("svg",o,a[0]||(a[0]=[s("",1)]))),a[1]||(a[1]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"w"),t("mi",null,"a"),t("mi",null,"r"),t("mi",null,"d"),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"{"),t("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mo",null,"−"),t("mn",null,"1"),t("mo",null,",")]),t("mtd",null,[t("mi",{mathvariant:"normal"},"格"),t("mi",{mathvariant:"normal"},"式"),t("mi",{mathvariant:"normal"},"错"),t("mi",{mathvariant:"normal"},"误")])]),t("mtr",null,[t("mtd",null,[t("mi",null,"f"),t("msub",null,[t("mn",null,"1"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"s"),t("mi",null,"c"),t("mi",null,"o"),t("mi",null,"r"),t("mi",null,"e")])]),t("mo",null,",")]),t("mtd",null,[t("mi",{mathvariant:"normal"},"格"),t("mi",{mathvariant:"normal"},"式"),t("mi",{mathvariant:"normal"},"正"),t("mi",{mathvariant:"normal"},"确")])])]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])])]),a[43]||(a[43]=s("",37)),t("div",m,[a[13]||(a[13]=t("div",{class:"custom-block-title"},"核心方法",-1)),a[14]||(a[14]=t("p",null,"R1-Searcher++",-1)),t("ul",null,[a[12]||(a[12]=s("",2)),t("li",null,[a[11]||(a[11]=l("Reward：答案(Cover EM) + 格式 + ")),t("mjx-container",d,[(r(),e("svg",p,a[6]||(a[6]=[s("",1)]))),a[7]||(a[7]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"R"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"g"),t("mi",null,"r"),t("mi",null,"o"),t("mi",null,"u"),t("mi",null,"p")])])])],-1))]),t("ul",null,[t("li",null,[t("mjx-container",h,[(r(),e("svg",g,a[8]||(a[8]=[s("",1)]))),a[9]||(a[9]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"R"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"g"),t("mi",null,"r"),t("mi",null,"o"),t("mi",null,"u"),t("mi",null,"p")])])])],-1))]),a[10]||(a[10]=l("：群体奖励机制，鼓励减少外部搜索依赖"))])])])])]),a[44]||(a[44]=s("",12)),t("div",c,[a[31]||(a[31]=t("div",{class:"custom-block-title"},"R1-Searcher 核心方法",-1)),a[32]||(a[32]=t("p",null,[l("提出"),t("code",null,"R1-Searcher"),l("框架，"),t("code",null,"两阶段RL方法"),l("，自主调用搜索工具，无需过程奖励或蒸馏，性能优于RAG。是")],-1)),t("ul",null,[t("li",null,[a[21]||(a[21]=t("p",null,[t("mark",null,"Stage-1：学会使用外部检索")],-1)),t("ul",null,[t("li",null,[a[17]||(a[17]=t("p",null,[t("strong",null,"检索奖励"),l("：n为工具使用次数，激发模型去搜索。")],-1)),t("mjx-container",u,[(r(),e("svg",k,a[15]||(a[15]=[s("",1)]))),a[16]||(a[16]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"R"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"t"),t("mi",null,"r"),t("mi",null,"i"),t("mi",null,"v"),t("mi",null,"a"),t("mi",null,"l")])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"{"),t("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mn",null,"0.5"),t("mo",null,",")]),t("mtd",null,[t("mi",null,"n"),t("mo",null,"≥"),t("mn",null,"1")])]),t("mtr",null,[t("mtd",null,[t("mn",null,"0"),t("mo",null,",")]),t("mtd",null,[t("mi",null,"n"),t("mo",null,"="),t("mn",null,"0")])])]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])]),t("li",null,[a[20]||(a[20]=t("p",null,[t("strong",null,"格式奖励"),l("："),t("code",null,"<think></..>, <answer></..>, <begin_of_query></..>")],-1)),t("mjx-container",w,[(r(),e("svg",b,a[18]||(a[18]=[s("",1)]))),a[19]||(a[19]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"R"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"f"),t("mi",null,"o"),t("mi",null,"r"),t("mi",null,"m"),t("mi",null,"a"),t("mi",null,"t")])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"{"),t("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mn",null,"0.5"),t("mo",null,",")]),t("mtd",null,[t("mtext",null,"correct")])]),t("mtr",null,[t("mtd",null,[t("mn",null,"0"),t("mo",null,",")]),t("mtd",null,[t("mtext",null,"incorrect")])])]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])])])]),t("li",null,[a[29]||(a[29]=t("p",null,[t("mark",null,"Stage-2：根据检索结果准确回答")],-1)),t("ul",null,[t("li",null,[t("p",null,[a[24]||(a[24]=t("strong",null,"格式奖励",-1)),a[25]||(a[25]=l(": ")),t("mjx-container",f,[(r(),e("svg",H,a[22]||(a[22]=[s("",1)]))),a[23]||(a[23]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"R"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"f"),t("mi",null,"o"),t("mi",null,"r"),t("mi",null,"m"),t("mi",null,"a"),t("mi",null,"t")])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"{"),t("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mn",null,"0"),t("mo",null,",")]),t("mtd",null,[t("mtext",null,"correct")])]),t("mtr",null,[t("mtd",null,[t("mo",null,"−"),t("mn",null,"2"),t("mo",null,",")]),t("mtd",null,[t("mtext",null,"incorrect")])])]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])])]),t("li",null,[a[28]||(a[28]=t("p",null,[t("strong",null,"答案奖励"),l("： "),t("mark",null,"利用F1_score来作为答案奖励"),l(", PN表示预测答案字数，RN表示参考答案字数，IN表示交集字数。")],-1)),t("mjx-container",v,[(r(),e("svg",y,a[26]||(a[26]=[s("",1)]))),a[27]||(a[27]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"R"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"a"),t("mi",null,"n"),t("mi",null,"s"),t("mi",null,"w"),t("mi",null,"e"),t("mi",null,"r")])]),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("mn",null,"2"),t("mo",null,"∗"),t("mi",null,"I"),t("mi",null,"N")]),t("mrow",null,[t("mi",null,"P"),t("mi",null,"N"),t("mo",null,"+"),t("mi",null,"R"),t("mi",null,"N")])])])],-1))])])])]),a[30]||(a[30]=t("li",null,[t("p",null,[t("mark",null,"训练期间检索到的文档会被mask"),l("，防止外部知识影响loss计算。")])],-1))])]),a[45]||(a[45]=t("p",null,[t("strong",null,"✍️实验配置")],-1)),t("div",L,[a[41]||(a[41]=t("div",{class:"custom-block-title"},"实验配置",-1)),t("ul",null,[a[37]||(a[37]=t("li",null,"模型：Qwen2.5-7B-Base, LLama-3.1-8B",-1)),a[38]||(a[38]=t("li",null,[t("strong",null,"训练数据in-domain"),l("："),t("mark",null,"HotPotQ (复杂推理)"),l(", "),t("mark",null,"2WikiMultiHopQA (多跳知识整合)"),l("。")],-1)),t("li",null,[a[35]||(a[35]=t("mark",null,"rollout次数和问题难度有关",-1)),a[36]||(a[36]=l("：")),t("mjx-container",x,[(r(),e("svg",E,a[33]||(a[33]=[s("",1)]))),a[34]||(a[34]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"N"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"l"),t("mi",null,"o"),t("mi",null,"u"),t("mi",null,"t")])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"{"),t("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mtext",null,"(0, 10)"),t("mo",null,",")]),t("mtd",null,[t("mtext",null,"简单")])]),t("mtr",null,[t("mtd",null,[t("mo",{stretchy:"false"},"["),t("mn",null,"10"),t("mo",null,","),t("mn",null,"20"),t("mo",{stretchy:"false"},")"),t("mo",null,",")]),t("mtd",null,[t("mi",{mathvariant:"normal"},"中"),t("mi",{mathvariant:"normal"},"等")])]),t("mtr",null,[t("mtd",null,[t("mo",{stretchy:"false"},"["),t("mn",null,"20"),t("mo",null,","),t("mo",{stretchy:"false"},")"),t("mo",null,",")]),t("mtd",null,[t("mi",{mathvariant:"normal"},"困"),t("mi",{mathvariant:"normal"},"难")])])]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])]),a[39]||(a[39]=t("li",null,[t("strong",null,"评估数据Out-of-domain"),l("："),t("mark",null,"Musique"),l("、"),t("mark",null,"Bamboogle"),l("。")],-1)),a[40]||(a[40]=t("li",null,[l("评估指标："),t("code",null,"ACC_R"),l("：关键词精准匹配， "),t("code",null,"ACC_L"),l("：GPT-4o-mini作为Judge。")],-1))])]),a[46]||(a[46]=s("",5))])}const q=Q(n,[["render",M]]);export{D as __pageData,q as default};

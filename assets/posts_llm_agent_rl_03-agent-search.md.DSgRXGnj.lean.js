import{_ as r,c as e,o as l,ah as T,j as t,a}from"./chunks/framework.CvbyeFFO.js";const R=JSON.parse('{"title":"Agent-Search-RL 笔记","description":"","frontmatter":{"title":"Agent-Search-RL 笔记","date":"2025-05-30T10:53:30.000Z","create":"2025-05-30T10:53:30.000Z","categories":["Agent-Search-RL"],"tags":["R1-Searcher","Search-R1","ReSearch","DeepResearcher","WebSearch"]},"headers":[],"relativePath":"posts/llm/agent/rl/03-agent-search.md","filePath":"posts/llm/agent/rl/03-agent-search.md","lastUpdated":null}'),s={name:"posts/llm/agent/rl/03-agent-search.md"},n={class:"custom-block tip"},o={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.149ex"},xmlns:"http://www.w3.org/2000/svg",width:"29.993ex",height:"5.43ex",role:"img",focusable:"false",viewBox:"0 -1450 13256.7 2400","aria-hidden":"true"},d={class:"custom-block tip"},i={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},h={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.149ex"},xmlns:"http://www.w3.org/2000/svg",width:"23.324ex",height:"5.43ex",role:"img",focusable:"false",viewBox:"0 -1450 10309.4 2400","aria-hidden":"true"},g={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},p={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.149ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.293ex",height:"5.43ex",role:"img",focusable:"false",viewBox:"0 -1450 11621.5 2400","aria-hidden":"true"},c={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.149ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.293ex",height:"5.43ex",role:"img",focusable:"false",viewBox:"0 -1450 11621.5 2400","aria-hidden":"true"},k={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},H={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.738ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.287ex",height:"4.812ex",role:"img",focusable:"false",viewBox:"0 -1359 9408.7 2127","aria-hidden":"true"},f={class:"custom-block tip"},w={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.733ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.209ex",height:"8.597ex",role:"img",focusable:"false",viewBox:"0 -2150 11584.2 3800","aria-hidden":"true"};function V(x,Q,M,y,v,Z){return l(),e("div",null,[Q[33]||(Q[33]=T("",17)),t("div",n,[Q[5]||(Q[5]=T("",5)),t("p",null,[Q[2]||(Q[2]=a("主要是")),Q[3]||(Q[3]=t("code",null,"f1",-1)),Q[4]||(Q[4]=a("，")),t("mjx-container",o,[(l(),e("svg",m,Q[0]||(Q[0]=[T("",1)]))),Q[1]||(Q[1]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"w"),t("mi",null,"a"),t("mi",null,"r"),t("mi",null,"d"),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"{"),t("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mo",null,"−"),t("mn",null,"1"),t("mo",null,",")]),t("mtd",null,[t("mi",{mathvariant:"normal"},"格"),t("mi",{mathvariant:"normal"},"式"),t("mi",{mathvariant:"normal"},"错"),t("mi",{mathvariant:"normal"},"误")])]),t("mtr",null,[t("mtd",null,[t("mi",null,"f"),t("msub",null,[t("mn",null,"1"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"s"),t("mi",null,"c"),t("mi",null,"o"),t("mi",null,"r"),t("mi",null,"e")])]),t("mo",null,",")]),t("mtd",null,[t("mi",{mathvariant:"normal"},"格"),t("mi",{mathvariant:"normal"},"式"),t("mi",{mathvariant:"normal"},"正"),t("mi",{mathvariant:"normal"},"确")])])]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])])]),Q[34]||(Q[34]=T("",34)),t("div",d,[Q[22]||(Q[22]=t("div",{class:"custom-block-title"},"R1-Searcher 核心方法",-1)),Q[23]||(Q[23]=t("p",null,[a("提出"),t("code",null,"R1-Searcher"),a("框架，"),t("code",null,"两阶段RL方法"),a("，自主调用搜索工具，无需过程奖励或蒸馏，性能优于RAG。是")],-1)),t("ul",null,[t("li",null,[Q[12]||(Q[12]=t("p",null,[t("mark",null,"Stage-1：学会使用外部检索")],-1)),t("ul",null,[t("li",null,[Q[8]||(Q[8]=t("p",null,[t("strong",null,"检索奖励"),a("：n为工具使用次数，激发模型去搜索。")],-1)),t("mjx-container",i,[(l(),e("svg",h,Q[6]||(Q[6]=[T("",1)]))),Q[7]||(Q[7]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"R"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"t"),t("mi",null,"r"),t("mi",null,"i"),t("mi",null,"v"),t("mi",null,"a"),t("mi",null,"l")])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"{"),t("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mn",null,"0.5"),t("mo",null,",")]),t("mtd",null,[t("mi",null,"n"),t("mo",null,"≥"),t("mn",null,"1")])]),t("mtr",null,[t("mtd",null,[t("mn",null,"0"),t("mo",null,",")]),t("mtd",null,[t("mi",null,"n"),t("mo",null,"="),t("mn",null,"0")])])]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])]),t("li",null,[Q[11]||(Q[11]=t("p",null,[t("strong",null,"格式奖励"),a("："),t("code",null,"<think></..>, <answer></..>, <begin_of_query></..>")],-1)),t("mjx-container",g,[(l(),e("svg",p,Q[9]||(Q[9]=[T("",1)]))),Q[10]||(Q[10]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"R"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"f"),t("mi",null,"o"),t("mi",null,"r"),t("mi",null,"m"),t("mi",null,"a"),t("mi",null,"t")])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"{"),t("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mn",null,"0.5"),t("mo",null,",")]),t("mtd",null,[t("mtext",null,"correct")])]),t("mtr",null,[t("mtd",null,[t("mn",null,"0"),t("mo",null,",")]),t("mtd",null,[t("mtext",null,"incorrect")])])]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])])])]),t("li",null,[Q[20]||(Q[20]=t("p",null,[t("mark",null,"Stage-2：根据检索结果准确回答")],-1)),t("ul",null,[t("li",null,[t("p",null,[Q[15]||(Q[15]=t("strong",null,"格式奖励",-1)),Q[16]||(Q[16]=a(": ")),t("mjx-container",c,[(l(),e("svg",u,Q[13]||(Q[13]=[T("",1)]))),Q[14]||(Q[14]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"R"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"f"),t("mi",null,"o"),t("mi",null,"r"),t("mi",null,"m"),t("mi",null,"a"),t("mi",null,"t")])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"{"),t("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mn",null,"0"),t("mo",null,",")]),t("mtd",null,[t("mtext",null,"correct")])]),t("mtr",null,[t("mtd",null,[t("mo",null,"−"),t("mn",null,"2"),t("mo",null,",")]),t("mtd",null,[t("mtext",null,"incorrect")])])]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])])]),t("li",null,[Q[19]||(Q[19]=t("p",null,[t("strong",null,"答案奖励"),a("： "),t("mark",null,"利用F1_score来作为答案奖励"),a(", PN表示预测答案字数，RN表示参考答案字数，IN表示交集字数。")],-1)),t("mjx-container",k,[(l(),e("svg",H,Q[17]||(Q[17]=[T("",1)]))),Q[18]||(Q[18]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"R"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"a"),t("mi",null,"n"),t("mi",null,"s"),t("mi",null,"w"),t("mi",null,"e"),t("mi",null,"r")])]),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("mn",null,"2"),t("mo",null,"∗"),t("mi",null,"I"),t("mi",null,"N")]),t("mrow",null,[t("mi",null,"P"),t("mi",null,"N"),t("mo",null,"+"),t("mi",null,"R"),t("mi",null,"N")])])])],-1))])])])]),Q[21]||(Q[21]=t("li",null,[t("p",null,[t("mark",null,"训练期间检索到的文档会被mask"),a("，防止外部知识影响loss计算。")])],-1))])]),Q[35]||(Q[35]=t("p",null,[t("strong",null,"✍️实验配置")],-1)),t("div",f,[Q[32]||(Q[32]=t("div",{class:"custom-block-title"},"实验配置",-1)),t("ul",null,[Q[28]||(Q[28]=t("li",null,"模型：Qwen2.5-7B-Base, LLama-3.1-8B",-1)),Q[29]||(Q[29]=t("li",null,[t("strong",null,"训练数据in-domain"),a("："),t("mark",null,"HotPotQ (复杂推理)"),a(", "),t("mark",null,"2WikiMultiHopQA (多跳知识整合)"),a("。")],-1)),t("li",null,[Q[26]||(Q[26]=t("mark",null,"rollout次数和问题难度有关",-1)),Q[27]||(Q[27]=a("：")),t("mjx-container",w,[(l(),e("svg",L,Q[24]||(Q[24]=[T("",1)]))),Q[25]||(Q[25]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"N"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"l"),t("mi",null,"o"),t("mi",null,"u"),t("mi",null,"t")])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"{"),t("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mtext",null,"(0, 10)"),t("mo",null,",")]),t("mtd",null,[t("mtext",null,"简单")])]),t("mtr",null,[t("mtd",null,[t("mo",{stretchy:"false"},"["),t("mn",null,"10"),t("mo",null,","),t("mn",null,"20"),t("mo",{stretchy:"false"},")"),t("mo",null,",")]),t("mtd",null,[t("mi",{mathvariant:"normal"},"中"),t("mi",{mathvariant:"normal"},"等")])]),t("mtr",null,[t("mtd",null,[t("mo",{stretchy:"false"},"["),t("mn",null,"20"),t("mo",null,","),t("mo",{stretchy:"false"},")"),t("mo",null,",")]),t("mtd",null,[t("mi",{mathvariant:"normal"},"困"),t("mi",{mathvariant:"normal"},"难")])])]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])]),Q[30]||(Q[30]=t("li",null,[t("strong",null,"评估数据Out-of-domain"),a("："),t("mark",null,"Musique"),a("、"),t("mark",null,"Bamboogle"),a("。")],-1)),Q[31]||(Q[31]=t("li",null,[a("评估指标："),t("code",null,"ACC_R"),a("：关键词精准匹配， "),t("code",null,"ACC_L"),a("：GPT-4o-mini作为Judge。")],-1))])]),Q[36]||(Q[36]=T("",5))])}const S=r(s,[["render",V]]);export{R as __pageData,S as default};

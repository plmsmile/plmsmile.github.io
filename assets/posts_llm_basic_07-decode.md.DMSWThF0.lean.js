import{_ as o,c as Q,o as e,ah as l,j as t,a as T}from"./chunks/framework.CvbyeFFO.js";const V=JSON.parse('{"title":"LLM 解码相关","description":"","frontmatter":{"title":"LLM 解码相关","date":"2025-11-14T23:38:44.000Z","create":"2025-11-14T23:38:44.000Z","categories":["llm-decode"],"tags":["topk","topp","Temperature","算术强度","预填充","解码"]},"headers":[],"relativePath":"posts/llm/basic/07-decode.md","filePath":"posts/llm/basic/07-decode.md","lastUpdated":null}'),s={name:"posts/llm/basic/07-decode.md"},r={class:"custom-block note"},i={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},n={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.462ex"},xmlns:"http://www.w3.org/2000/svg",width:"50.203ex",height:"2.158ex",role:"img",focusable:"false",viewBox:"0 -750 22189.8 954","aria-hidden":"true"};function d(m,a,c,p,h,u){return e(),Q("div",null,[a[7]||(a[7]=l("",17)),t("div",r,[a[5]||(a[5]=t("div",{class:"custom-block-title"},"解码提升效率方法",-1)),a[6]||(a[6]=t("p",null,[t("strong",null,"提高效率方法")],-1)),t("ul",null,[a[3]||(a[3]=t("li",null,[t("p",null,"批处理Batching"),t("ul",null,[t("li",null,[T("大批数据传到GPU，做一次处理，提高GPU利用率。 "),t("ul",null,[t("li",null,"静态批处理：等一批中最长的生成完成才结束，差异会有问题。")])]),t("li",null,"太大了会导致内存溢出，可以考虑KV Cache/LLM内存要求。")])],-1)),t("li",null,[a[2]||(a[2]=l("",2)),t("mjx-container",i,[(e(),Q("svg",n,a[0]||(a[0]=[l("",1)]))),a[1]||(a[1]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mtext",null,"总KV缓存大小"),t("mo",null,"="),t("mi",null,"b"),t("mo",null,"∗"),t("mi",null,"s"),t("mo",null,"∗"),t("mn",null,"2"),t("mo",null,"∗"),t("mtext",null,"n_layers"),t("mo",null,"∗"),t("mtext",null,"h_size"),t("mo",null,"∗"),t("mi",{mathvariant:"normal"},"精"),t("mi",{mathvariant:"normal"},"度")])])],-1))])]),a[4]||(a[4]=t("li",null,[t("p",null,"LLM 内存需求"),t("ul",null,[t("li",null,[T("权重："),t("code",null,"fp16，2m"),T(", "),t("code",null,"7B，14GB显存")]),t("li",null,"KV缓存")])],-1))])])])}const L=o(s,[["render",d]]);export{V as __pageData,L as default};

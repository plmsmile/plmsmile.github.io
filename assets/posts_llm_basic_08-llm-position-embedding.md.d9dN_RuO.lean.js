import{_ as s,c as l,o as e,ah as a,j as Q,a as T}from"./chunks/framework.CvbyeFFO.js";const Y6=JSON.parse('{"title":"LLM位置编码和长度外推系列","description":"","frontmatter":{"title":"LLM位置编码和长度外推系列","date":"2025-11-24T10:30:27.000Z","create":"2025-11-24T10:30:27.000Z","categories":["llm-position"],"tags":["Position Embedding","绝对位置编码","可训练式参数","三角式","递归式","绝对位置编码注意力公式","传统相对位置编码","旋转位置编码","RoPE","旋转矩阵","弧度","二维旋转","多维旋转","远程衰减性","高频分量","低频分量","周期性","旋转速度","长度外推","线性位置插值","NTK-Aware 插值","NTK-by-parts插值","Dynamic NTK","YaRN","注意力修正"]},"headers":[],"relativePath":"posts/llm/basic/08-llm-position-embedding.md","filePath":"posts/llm/basic/08-llm-position-embedding.md","lastUpdated":1763995754000}'),m={name:"posts/llm/basic/08-llm-position-embedding.md"},d={class:"custom-block info"},n={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},o={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.701ex"},xmlns:"http://www.w3.org/2000/svg",width:"23.886ex",height:"7.208ex",role:"img",focusable:"false",viewBox:"0 -1550.1 10557.6 3186.1","aria-hidden":"true"},r={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.601ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 1149.8 636","aria-hidden":"true"},h={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},p={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.656ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5594.1 1000","aria-hidden":"true"},g={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},H={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.63ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.112ex",height:"7.127ex",role:"img",focusable:"false",viewBox:"0 -1545.3 13309.7 3150","aria-hidden":"true"},u={class:"custom-block important"},c={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.315ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 1023.4 599.8","aria-hidden":"true"},w={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.159ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 954.4 636","aria-hidden":"true"},f={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},k={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.452ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.345ex",height:"2.149ex",role:"img",focusable:"false",viewBox:"0 -750 20484.3 950","aria-hidden":"true"},x={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.671ex",height:"1.595ex",role:"img",focusable:"false",viewBox:"0 -694 2064.4 705","aria-hidden":"true"},V={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.159ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 954.4 636","aria-hidden":"true"},b={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.912ex",height:"1.532ex",role:"img",focusable:"false",viewBox:"0 -666 845 677","aria-hidden":"true"},D={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.809ex",height:"1.692ex",role:"img",focusable:"false",viewBox:"0 -666 2567.4 748","aria-hidden":"true"},_={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},j={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.039ex"},xmlns:"http://www.w3.org/2000/svg",width:"22.898ex",height:"7.209ex",role:"img",focusable:"false",viewBox:"0 -1843.2 10120.9 3186.4","aria-hidden":"true"},C={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.385ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5474 1000","aria-hidden":"true"},S={class:"custom-block important"},B={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},R={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.781ex",height:"1.52ex",role:"img",focusable:"false",viewBox:"0 -661 345 672","aria-hidden":"true"},N={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.462ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.932ex",height:"1.957ex",role:"img",focusable:"false",viewBox:"0 -661 412 865","aria-hidden":"true"},P={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.452ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.242ex",height:"2.149ex",role:"img",focusable:"false",viewBox:"0 -750 4969 950","aria-hidden":"true"},I={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-8.335ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.689ex",height:"17.802ex",role:"img",focusable:"false",viewBox:"0 -4184.2 13564.6 7868.3","aria-hidden":"true"},q={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.97ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.242ex",height:"2.874ex",role:"img",focusable:"false",viewBox:"0 -841.7 1874.8 1270.4","aria-hidden":"true"},J={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},G={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-9.663ex"},xmlns:"http://www.w3.org/2000/svg",width:"65.889ex",height:"20.458ex",role:"img",focusable:"false",viewBox:"0 -4771.2 29122.9 9042.4","aria-hidden":"true"},K={class:"custom-block tip"},W={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.666ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.985ex",height:"1.666ex",role:"img",focusable:"false",viewBox:"0 -442 877.3 736.2","aria-hidden":"true"},$={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.666ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.561ex",height:"2.211ex",role:"img",focusable:"false",viewBox:"0 -683 1573.9 977.2","aria-hidden":"true"},Q1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.666ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.561ex",height:"2.211ex",role:"img",focusable:"false",viewBox:"0 -683 1573.9 977.2","aria-hidden":"true"},T1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.462ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.478ex",height:"1.957ex",role:"img",focusable:"false",viewBox:"0 -661 1979.4 865","aria-hidden":"true"},l1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},e1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.067ex",height:"1.462ex",role:"img",focusable:"false",viewBox:"0 -452 2681.7 646","aria-hidden":"true"},s1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},m1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.788ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.855ex",height:"6.708ex",role:"img",focusable:"false",viewBox:"0 -1732.4 13637.7 2964.8","aria-hidden":"true"},d1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.019ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.046ex",height:"2.951ex",role:"img",focusable:"false",viewBox:"0 -853.7 2230.5 1304.3","aria-hidden":"true"},o1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.666ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.361ex",height:"2.211ex",role:"img",focusable:"false",viewBox:"0 -683 1927.4 977.2","aria-hidden":"true"},i1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.666ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.985ex",height:"1.666ex",role:"img",focusable:"false",viewBox:"0 -442 877.3 736.2","aria-hidden":"true"},p1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.397ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -443 1501.7 637","aria-hidden":"true"},H1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.878ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 830 636","aria-hidden":"true"},c1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.666ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.361ex",height:"2.211ex",role:"img",focusable:"false",viewBox:"0 -683 1927.4 977.2","aria-hidden":"true"},w1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},y1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.666ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.944ex",height:"1.668ex",role:"img",focusable:"false",viewBox:"0 -443 859.3 737.2","aria-hidden":"true"},f1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},k1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.554ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.283ex",height:"4.25ex",role:"img",focusable:"false",viewBox:"0 -750 7639.3 1878.6","aria-hidden":"true"},x1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.019ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.046ex",height:"2.951ex",role:"img",focusable:"false",viewBox:"0 -853.7 2230.5 1304.3","aria-hidden":"true"},V1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Z1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.885ex"},xmlns:"http://www.w3.org/2000/svg",width:"24.722ex",height:"2.903ex",role:"img",focusable:"false",viewBox:"0 -891.7 10927.2 1283","aria-hidden":"true"},b1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.666ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.124ex",height:"2.261ex",role:"img",focusable:"false",viewBox:"0 -705 1380.9 999.2","aria-hidden":"true"},D1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.462ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.478ex",height:"1.957ex",role:"img",focusable:"false",viewBox:"0 -661 1979.4 865","aria-hidden":"true"},_1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},j1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.462ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.478ex",height:"1.957ex",role:"img",focusable:"false",viewBox:"0 -661 1979.4 865","aria-hidden":"true"},C1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.483ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3307.4 1000","aria-hidden":"true"},S1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.019ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.046ex",height:"2.951ex",role:"img",focusable:"false",viewBox:"0 -853.7 2230.5 1304.3","aria-hidden":"true"},R1={class:"custom-block note"},N1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.562ex",height:"2.009ex",role:"img",focusable:"false",viewBox:"0 -694 2900.5 888","aria-hidden":"true"},P1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.11ex",height:"1.505ex",role:"img",focusable:"false",viewBox:"0 -583 2700.4 665","aria-hidden":"true"},I1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.038ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3110.7 1000","aria-hidden":"true"},q1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.041ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 460 636","aria-hidden":"true"},J1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},G1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.601ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 1149.8 636","aria-hidden":"true"},K1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},W1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.576ex"},xmlns:"http://www.w3.org/2000/svg",width:"40.996ex",height:"2.579ex",role:"img",focusable:"false",viewBox:"0 -885.3 18120.2 1140.1","aria-hidden":"true"},Y1={class:"custom-block danger"},$1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.199ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2298 1000","aria-hidden":"true"},Q2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},T2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},a2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.149ex"},xmlns:"http://www.w3.org/2000/svg",width:"24.628ex",height:"5.43ex",role:"img",focusable:"false",viewBox:"0 -1450 10885.6 2400","aria-hidden":"true"},l2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},e2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.029ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2222.7 1000","aria-hidden":"true"},s2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.907ex",height:"2.361ex",role:"img",focusable:"false",viewBox:"0 -698.8 843.1 1043.8","aria-hidden":"true"},d2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.413ex",height:"2.739ex",role:"img",focusable:"false",viewBox:"0 -960.5 5928.7 1210.5","aria-hidden":"true"},o2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.413ex",height:"2.739ex",role:"img",focusable:"false",viewBox:"0 -960.5 5928.7 1210.5","aria-hidden":"true"},i2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},h2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.132ex"},xmlns:"http://www.w3.org/2000/svg",width:"45.62ex",height:"7.396ex",role:"img",focusable:"false",viewBox:"0 -1884.5 20164.1 3269.1","aria-hidden":"true"},p2={class:"custom-block danger"},g2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},H2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},u2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},c2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.676ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.403ex",height:"8.956ex",role:"img",focusable:"false",viewBox:"0 -1450 20510.1 3958.8","aria-hidden":"true"},L2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},w2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.676ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.517ex",height:"8.956ex",role:"img",focusable:"false",viewBox:"0 -1450 19676.5 3958.8","aria-hidden":"true"},y2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.048ex",height:"1.62ex",role:"img",focusable:"false",viewBox:"0 -705 1347 716","aria-hidden":"true"},k2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},x2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.096ex",height:"2.569ex",role:"img",focusable:"false",viewBox:"0 -885.3 16396.5 1135.3","aria-hidden":"true"},M2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},V2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-19.994ex"},xmlns:"http://www.w3.org/2000/svg",width:"79.425ex",height:"41.12ex",role:"img",focusable:"false",viewBox:"0 -9337.4 35106 18174.9","aria-hidden":"true"},Z2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.086ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 4016.2 1000","aria-hidden":"true"},v2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},D2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.209ex",height:"1.781ex",role:"img",focusable:"false",viewBox:"0 -705 2302.6 787","aria-hidden":"true"},A2={class:"custom-block danger"},_2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},j2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-10.69ex"},xmlns:"http://www.w3.org/2000/svg",width:"95.547ex",height:"22.511ex",role:"img",focusable:"false",viewBox:"0 -5225 42231.9 9950","aria-hidden":"true"},C2={class:"custom-block danger"},E2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},B2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},R2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},N2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.89ex",height:"2.446ex",role:"img",focusable:"false",viewBox:"0 -923.4 6581.4 1081.2","aria-hidden":"true"},P2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.787ex",height:"1.952ex",role:"img",focusable:"false",viewBox:"0 -705 1674 862.8","aria-hidden":"true"},I2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.601ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 1149.8 636","aria-hidden":"true"},q2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},X2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.126ex",height:"2.509ex",role:"img",focusable:"false",viewBox:"0 -951.4 8453.8 1109.2","aria-hidden":"true"},J2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},G2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-10.924ex"},xmlns:"http://www.w3.org/2000/svg",width:"98.771ex",height:"22.98ex",role:"img",focusable:"false",viewBox:"0 -5328.5 43656.8 10157","aria-hidden":"true"},K2={class:"custom-block info"},W2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.787ex",height:"1.952ex",role:"img",focusable:"false",viewBox:"0 -705 1674 862.8","aria-hidden":"true"},$2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},U2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.126ex",height:"2.509ex",role:"img",focusable:"false",viewBox:"0 -951.4 8453.8 1109.2","aria-hidden":"true"},Q3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.801ex",height:"1.952ex",role:"img",focusable:"false",viewBox:"0 -705 796 862.8","aria-hidden":"true"},T3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.519ex",height:"2.509ex",role:"img",focusable:"false",viewBox:"0 -951.4 5975.4 1109.2","aria-hidden":"true"},l3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},e3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.787ex",height:"1.952ex",role:"img",focusable:"false",viewBox:"0 -705 1674 862.8","aria-hidden":"true"},s3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.519ex",height:"2.509ex",role:"img",focusable:"false",viewBox:"0 -951.4 5975.4 1109.2","aria-hidden":"true"},d3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.787ex",height:"1.952ex",role:"img",focusable:"false",viewBox:"0 -705 1674 862.8","aria-hidden":"true"},o3={class:"custom-block important"},r3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},i3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.126ex",height:"2.509ex",role:"img",focusable:"false",viewBox:"0 -951.4 8453.8 1109.2","aria-hidden":"true"},h3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.421ex",height:"1.532ex",role:"img",focusable:"false",viewBox:"0 -666 1070 677","aria-hidden":"true"},g3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},H3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.126ex",height:"2.509ex",role:"img",focusable:"false",viewBox:"0 -951.4 8453.8 1109.2","aria-hidden":"true"},u3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},c3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.375ex"},xmlns:"http://www.w3.org/2000/svg",width:"29.419ex",height:"2.509ex",role:"img",focusable:"false",viewBox:"0 -943.3 13003 1108.9","aria-hidden":"true"},L3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},w3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.375ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.219ex",height:"2.509ex",role:"img",focusable:"false",viewBox:"0 -943.3 13356.6 1108.9","aria-hidden":"true"},y3={class:"custom-block warning"},f3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},k3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.394ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5478.1 1000","aria-hidden":"true"},x3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.999ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3977.4 1000","aria-hidden":"true"},V3={class:"custom-block danger"},Z3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.787ex",height:"1.952ex",role:"img",focusable:"false",viewBox:"0 -705 1674 862.8","aria-hidden":"true"},v3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},D3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.601ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 1149.8 636","aria-hidden":"true"},A3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.087ex"},xmlns:"http://www.w3.org/2000/svg",width:"34.216ex",height:"5.123ex",role:"img",focusable:"false",viewBox:"0 -1342 15123.6 2264.4","aria-hidden":"true"},j3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},C3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.658ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 9572.9 1000","aria-hidden":"true"},E3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.787ex",height:"1.952ex",role:"img",focusable:"false",viewBox:"0 -705 1674 862.8","aria-hidden":"true"},B3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},R3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.394ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5478.1 1000","aria-hidden":"true"},N3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.461ex",height:"2.283ex",role:"img",focusable:"false",viewBox:"0 -759 4181.6 1009","aria-hidden":"true"},P3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},F3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.552ex"},xmlns:"http://www.w3.org/2000/svg",width:"27.089ex",height:"4.627ex",role:"img",focusable:"false",viewBox:"0 -1359 11973.2 2045","aria-hidden":"true"},I3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},z3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"23.969ex",height:"2.7ex",role:"img",focusable:"false",viewBox:"0 -943.3 10594.3 1193.3","aria-hidden":"true"},q3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},X3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.909ex"},xmlns:"http://www.w3.org/2000/svg",width:"23.021ex",height:"4.945ex",role:"img",focusable:"false",viewBox:"0 -1342 10175.3 2185.8","aria-hidden":"true"},J3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},G3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.909ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.632ex",height:"4.984ex",role:"img",focusable:"false",viewBox:"0 -1359 4257.5 2202.8","aria-hidden":"true"},K3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},W3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.879ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.845ex",height:"8.89ex",role:"img",focusable:"false",viewBox:"0 -2214.6 17169.3 3929.3","aria-hidden":"true"},Y3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.09ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.232ex",height:"1.661ex",role:"img",focusable:"false",viewBox:"0 -694 2312.6 734","aria-hidden":"true"},U3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Q4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.552ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.202ex",height:"4.652ex",role:"img",focusable:"false",viewBox:"0 -1370 19537.3 2056","aria-hidden":"true"},t4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},T4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.308ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.176ex",height:"5.815ex",role:"img",focusable:"false",viewBox:"0 -1550.1 7149.8 2570.1","aria-hidden":"true"},a4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},l4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.725ex"},xmlns:"http://www.w3.org/2000/svg",width:"47.959ex",height:"5.566ex",role:"img",focusable:"false",viewBox:"0 -1697.8 21197.9 2460","aria-hidden":"true"},e4={class:"custom-block info"},s4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.394ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5478.1 1000","aria-hidden":"true"},d4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.394ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5478.1 1000","aria-hidden":"true"},o4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.461ex",height:"2.283ex",role:"img",focusable:"false",viewBox:"0 -759 4181.6 1009","aria-hidden":"true"},i4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.529ex",height:"2.765ex",role:"img",focusable:"false",viewBox:"0 -877 1117.7 1222","aria-hidden":"true"},p4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},g4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.552ex"},xmlns:"http://www.w3.org/2000/svg",width:"50.992ex",height:"4.627ex",role:"img",focusable:"false",viewBox:"0 -1359 22538.6 2045","aria-hidden":"true"},H4={class:"custom-block note"},u4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.448ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 640 453","aria-hidden":"true"},L4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},w4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"71.186ex",height:"2.718ex",role:"img",focusable:"false",viewBox:"0 -951.4 31464 1201.4","aria-hidden":"true"},y4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},f4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.329ex"},xmlns:"http://www.w3.org/2000/svg",width:"35.673ex",height:"5.956ex",role:"img",focusable:"false",viewBox:"0 -1603.3 15767.5 2632.7","aria-hidden":"true"},k4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.769ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1666 1000","aria-hidden":"true"},M4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},V4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.523ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 11723.1 1000","aria-hidden":"true"},Z4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.958ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.574ex",height:"9.047ex",role:"img",focusable:"false",viewBox:"0 -2249.3 14397.7 3998.6","aria-hidden":"true"},v4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},D4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.859ex",height:"1.692ex",role:"img",focusable:"false",viewBox:"0 -666 3473.6 748","aria-hidden":"true"},A4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.059ex",height:"1.927ex",role:"img",focusable:"false",viewBox:"0 -694 910 851.8","aria-hidden":"true"},j4={class:"custom-block note"},C4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},E4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.577ex"},xmlns:"http://www.w3.org/2000/svg",width:"36.971ex",height:"4.676ex",role:"img",focusable:"false",viewBox:"0 -1370 16341.2 2067","aria-hidden":"true"},S4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.059ex",height:"1.927ex",role:"img",focusable:"false",viewBox:"0 -694 910 851.8","aria-hidden":"true"},R4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},N4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.909ex"},xmlns:"http://www.w3.org/2000/svg",width:"23.021ex",height:"4.945ex",role:"img",focusable:"false",viewBox:"0 -1342 10175.3 2185.8","aria-hidden":"true"},O4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.561ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1574 1000","aria-hidden":"true"},F4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},I4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.909ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.632ex",height:"4.984ex",role:"img",focusable:"false",viewBox:"0 -1359 4257.5 2202.8","aria-hidden":"true"},z4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},q4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.859ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3473.6 1000","aria-hidden":"true"},X4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},J4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.174ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5381.1 1000","aria-hidden":"true"},G4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.324ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5447.1 1000","aria-hidden":"true"},W4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Y4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.879ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.845ex",height:"8.89ex",role:"img",focusable:"false",viewBox:"0 -2214.6 17169.3 3929.3","aria-hidden":"true"},$4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.112ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 5795.4 899","aria-hidden":"true"},Q6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.588ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 6005.7 899","aria-hidden":"true"},T6={class:"custom-block note"},a6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.312ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.232ex",height:"1.882ex",role:"img",focusable:"false",viewBox:"0 -694 2312.6 832","aria-hidden":"true"},e6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.09ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.232ex",height:"1.661ex",role:"img",focusable:"false",viewBox:"0 -694 2312.6 734","aria-hidden":"true"},m6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},d6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"23.969ex",height:"2.7ex",role:"img",focusable:"false",viewBox:"0 -943.3 10594.3 1193.3","aria-hidden":"true"},n6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},o6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.552ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.702ex",height:"4.652ex",role:"img",focusable:"false",viewBox:"0 -1370 6498.3 2056","aria-hidden":"true"},r6={class:"custom-block danger"},i6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.489ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.229ex",height:"1.486ex",role:"img",focusable:"false",viewBox:"0 -441 543 657","aria-hidden":"true"},p6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},g6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"20.891ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 9233.9 1000","aria-hidden":"true"},H6={class:"custom-block danger"},u6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},c6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.308ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.176ex",height:"5.815ex",role:"img",focusable:"false",viewBox:"0 -1550.1 7149.8 2570.1","aria-hidden":"true"},L6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},w6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.452ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.972ex",height:"2.17ex",role:"img",focusable:"false",viewBox:"0 -759 2639.5 959","aria-hidden":"true"},y6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},f6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.725ex"},xmlns:"http://www.w3.org/2000/svg",width:"47.959ex",height:"5.566ex",role:"img",focusable:"false",viewBox:"0 -1697.8 21197.9 2460","aria-hidden":"true"},k6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"20.93ex",height:"2.156ex",role:"img",focusable:"false",viewBox:"0 -759 9251.2 953","aria-hidden":"true"},M6={class:"custom-block danger"},V6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Z6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.126ex",height:"2.509ex",role:"img",focusable:"false",viewBox:"0 -951.4 8453.8 1109.2","aria-hidden":"true"},b6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.849ex",height:"2.269ex",role:"img",focusable:"false",viewBox:"0 -809 17171.1 1003","aria-hidden":"true"},D6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},A6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.909ex"},xmlns:"http://www.w3.org/2000/svg",width:"23.021ex",height:"4.945ex",role:"img",focusable:"false",viewBox:"0 -1342 10175.3 2185.8","aria-hidden":"true"},_6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},j6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.909ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.632ex",height:"4.984ex",role:"img",focusable:"false",viewBox:"0 -1359 4257.5 2202.8","aria-hidden":"true"},C6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.112ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 5795.4 899","aria-hidden":"true"},S6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.588ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 6005.7 899","aria-hidden":"true"},R6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},N6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.879ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.845ex",height:"8.89ex",role:"img",focusable:"false",viewBox:"0 -2214.6 17169.3 3929.3","aria-hidden":"true"},O6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},P6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.552ex"},xmlns:"http://www.w3.org/2000/svg",width:"27.089ex",height:"4.627ex",role:"img",focusable:"false",viewBox:"0 -1359 11973.2 2045","aria-hidden":"true"},F6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},I6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.725ex"},xmlns:"http://www.w3.org/2000/svg",width:"47.959ex",height:"5.566ex",role:"img",focusable:"false",viewBox:"0 -1697.8 21197.9 2460","aria-hidden":"true"};function z6(q6,t,X6,J6,G6,K6){return e(),l("div",null,[t[752]||(t[752]=a("",5)),Q("div",d,[t[12]||(t[12]=a("",3)),Q("mjx-container",n,[(e(),l("svg",o,t[0]||(t[0]=[a("",1)]))),t[1]||(t[1]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"α"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"m")]),Q("mo",null,","),Q("mi",null,"n")])])]),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"exp"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",{mathvariant:"bold-italic"},"q"),Q("mi",null,"m"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"k"),Q("mi",null,"n")])]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"j"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"N")]),Q("mi",null,"exp"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mfrac",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",{mathvariant:"bold-italic"},"q"),Q("mi",null,"m"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"k"),Q("mi",null,"j")])])]),Q("msqrt",null,[Q("msub",null,[Q("mi",null,"d"),Q("mi",null,"k")])])]),Q("mo",{stretchy:"false"},")")])])])],-1))]),t[13]||(t[13]=Q("p",null,[Q("strong",null,"引入位置信息的注意力权重")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[4]||(t[4]=T("为向量")),Q("mjx-container",r,[(e(),l("svg",i,t[2]||(t[2]=[a("",1)]))),t[3]||(t[3]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"q"),Q("mi",null,"m")])])],-1))]),t[5]||(t[5]=T()),t[6]||(t[6]=Q("code",null,"注入位置信息",-1))]),Q("mjx-container",h,[(e(),l("svg",p,t[7]||(t[7]=[a("",1)]))),t[8]||(t[8]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"q"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"m")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"q"),Q("mo",null,","),Q("mi",null,"m"),Q("mo",{stretchy:"false"},")")])])],-1))])]),t[9]||(t[9]=Q("li",null,[Q("p",null,[T("注意力权重："),Q("code",null,"和位置相关")])],-1))]),Q("mjx-container",g,[(e(),l("svg",H,t[10]||(t[10]=[a("",1)]))),t[11]||(t[11]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"α"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"m")]),Q("mo",null,","),Q("mi",null,"n")])])]),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"exp"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"q"),Q("mo",null,","),Q("mi",null,"m"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"k"),Q("mo",null,","),Q("mi",null,"n"),Q("mo",{stretchy:"false"},")")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"j"),Q("mo",null,"="),Q("mn",null,"1")])]),Q("mi",null,"N")]),Q("mi",null,"exp"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mfrac",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"q"),Q("mo",null,","),Q("mi",null,"m"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"k"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"j")]),Q("mo",{stretchy:"false"},")")])]),Q("msqrt",null,[Q("msub",null,[Q("mi",null,"d"),Q("mi",null,"k")])])]),Q("mo",{stretchy:"false"},")")])])])],-1))])]),t[753]||(t[753]=a("",3)),Q("div",u,[t[60]||(t[60]=Q("div",{class:"custom-block-title"},"绝对位置编码",-1)),t[61]||(t[61]=Q("p",null,[Q("strong",null,"0. 核心思想")],-1)),Q("ul",null,[Q("li",null,[Q("strong",null,[t[16]||(t[16]=T("直接为输入")),Q("mjx-container",c,[(e(),l("svg",L,t[14]||(t[14]=[a("",1)]))),t[15]||(t[15]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"k")])])],-1))]),t[17]||(t[17]=T("向量"))]),t[20]||(t[20]=T()),t[21]||(t[21]=Q("code",null,"增加一个位置向量",-1)),Q("mjx-container",w,[(e(),l("svg",y,t[18]||(t[18]=[a("",1)]))),t[19]||(t[19]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"k")])])])],-1))])])]),Q("mjx-container",f,[(e(),l("svg",k,t[22]||(t[22]=[a("",1)]))),t[23]||(t[23]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"k")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"k")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"k")])]),Q("mo",null,",")]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"1em"})]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"k")])]),Q("mrow",null,[Q("mtext",null,"为位置编码，与"),Q("mstyle",{mathcolor:"red"},[Q("mtext",null,"位置k")]),Q("mtext",null,"有关")]),Q("mi",null,"，")])],-1))]),t[62]||(t[62]=Q("p",null,[Q("strong",null,"1. 可训练式")],-1)),Q("ul",null,[Q("li",null,[t[26]||(t[26]=T("定义：把")),t[27]||(t[27]=Q("code",null,"位置向量",-1)),t[28]||(t[28]=T("作为")),t[29]||(t[29]=Q("code",null,"可训练参数",-1)),t[30]||(t[30]=T("，如")),Q("mjx-container",x,[(e(),l("svg",M,t[24]||(t[24]=[a("",1)]))),t[25]||(t[25]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"n"),Q("mo",null,"∗"),Q("mi",null,"d")])],-1))]),t[31]||(t[31]=T("维度。"))]),t[32]||(t[32]=Q("li",null,[T("缺点："),Q("code",null,"没有外推性"),T("，"),Q("code",null,"难处理超过最大长度n的位置信息")],-1))]),t[63]||(t[63]=Q("p",null,[Q("strong",null,"2. 三角式")],-1)),Q("ul",null,[Q("li",null,[t[41]||(t[41]=T("定义：")),Q("mjx-container",V,[(e(),l("svg",Z,t[33]||(t[33]=[a("",1)]))),t[34]||(t[34]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"k")])])],-1))]),t[42]||(t[42]=T("中")),Q("strong",null,[t[39]||(t[39]=T("第")),Q("mjx-container",b,[(e(),l("svg",v,t[35]||(t[35]=[a("",1)]))),t[36]||(t[36]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mn",null,"2"),Q("mi",null,"i")])],-1))]),t[40]||(t[40]=T("和")),Q("mjx-container",D,[(e(),l("svg",A,t[37]||(t[37]=[a("",1)]))),t[38]||(t[38]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mn",null,"2"),Q("mi",null,"i"),Q("mo",null,"+"),Q("mn",null,"1")])],-1))])]),t[43]||(t[43]=T()),t[44]||(t[44]=Q("code",null,"各位置的值",-1)),t[45]||(t[45]=T("，分别")),t[46]||(t[46]=Q("code",null,"由sin和cos函数来定义",-1)),t[47]||(t[47]=T("。"))])]),Q("mjx-container",_,[(e(),l("svg",j,t[48]||(t[48]=[a("",1)]))),t[49]||(t[49]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"k")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"2"),Q("mi",null,"i")])])])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"sin")]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mi",null,"k"),Q("msup",null,[Q("mn",null,"10000"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},")")])]),Q("mtr",null,[Q("mtd",null,[Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"k")]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"2"),Q("mi",null,"i"),Q("mo",null,"+"),Q("mn",null,"1")])])])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"cos")]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mi",null,"k"),Q("msup",null,[Q("mn",null,"10000"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},")")])])])])],-1))]),t[64]||(t[64]=a("",2)),Q("ul",null,[Q("li",null,[t[52]||(t[52]=T("定义：通过")),t[53]||(t[53]=Q("code",null,"递归计算位置编码",-1)),t[54]||(t[54]=T("，")),Q("mjx-container",C,[(e(),l("svg",E,t[50]||(t[50]=[a("",1)]))),t[51]||(t[51]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"k"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"="),Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"k")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[55]||(t[55]=T("，示例")),t[56]||(t[56]=Q("a",{href:"https://arxiv.org/abs/2003.09229",target:"_blank",rel:"noreferrer"},"论文",-1)),t[57]||(t[57]=T("。"))]),t[58]||(t[58]=Q("li",null,"优点：具有较好外推性",-1)),t[59]||(t[59]=Q("li",null,[T("缺点："),Q("code",null,"牺牲并行性"),T("，计算不足")],-1))])]),t[754]||(t[754]=a("",6)),Q("div",S,[t[85]||(t[85]=Q("div",{class:"custom-block-title"},"绝对位置编码Attention 公式",-1)),Q("p",null,[t[72]||(t[72]=T("💥")),Q("strong",null,[t[69]||(t[69]=T("计算")),Q("mjx-container",B,[(e(),l("svg",R,t[65]||(t[65]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D456",d:"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z",style:{"stroke-width":"3"}})])])],-1)]))),t[66]||(t[66]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"i")])],-1))]),t[70]||(t[70]=T("和")),Q("mjx-container",N,[(e(),l("svg",O,t[67]||(t[67]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D457",d:"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z",style:{"stroke-width":"3"}})])])],-1)]))),t[68]||(t[68]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"j")])],-1))]),t[71]||(t[71]=T("的attention"))])]),Q("ul",null,[Q("li",null,[t[75]||(t[75]=T("其中")),Q("mjx-container",P,[(e(),l("svg",F,t[73]||(t[73]=[a("",1)]))),t[74]||(t[74]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"q"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"、")]),Q("mi",null,"k"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"、")]),Q("mi",null,"v"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"、")]),Q("mi",null,"p")])],-1))]),t[76]||(t[76]=T("均为向量。"))])]),Q("mjx-container",I,[(e(),l("svg",z,t[77]||(t[77]=[a("",1)]))),t[78]||(t[78]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"i")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"i")])]),Q("mo",{stretchy:"false"},")"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"W"),Q("mi",null,"Q")])]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"1em"})]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"f"),Q("mi",null,"q")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"i")]),Q("mo",null,","),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"j")])]),Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"j")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"j")])]),Q("mo",{stretchy:"false"},")"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"W"),Q("mi",null,"K")])]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"1em"})]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"f"),Q("mi",null,"k")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"j")]),Q("mo",null,","),Q("mi",null,"j"),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"v"),Q("mi",null,"j")])]),Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"j")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"j")])]),Q("mo",{stretchy:"false"},")"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"W"),Q("mi",null,"V")])]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"1em"})]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"f"),Q("mi",null,"v")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"j")]),Q("mo",null,","),Q("mi",null,"j"),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"α"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"j")])])]),Q("mo",null,"="),Q("mtext",null,"softmax"),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"q"),Q("mi",null,"i")])]),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"k"),Q("mi",null,"j"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("mo",{stretchy:"false"},")")])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"j")])]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"α"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"i")]),Q("mo",null,","),Q("mi",null,"j")])])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"v"),Q("mi",null,"j")])])])])])])],-1))]),Q("p",null,[t[82]||(t[82]=T("⭐")),Q("strong",null,[Q("mjx-container",q,[(e(),l("svg",X,t[79]||(t[79]=[a("",1)]))),t[80]||(t[80]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"q"),Q("mi",null,"i")]),Q("msubsup",null,[Q("mi",null,"k"),Q("mi",null,"j"),Q("mi",null,"T")])])],-1))]),t[81]||(t[81]=T("展开项"))])]),t[86]||(t[86]=Q("ul",null,[Q("li",null,[T("后续"),Q("code",null,"相对位置编码"),T("都是"),Q("code",null,"基于此修改")])],-1)),Q("mjx-container",J,[(e(),l("svg",G,t[83]||(t[83]=[a("",1)]))),t[84]||(t[84]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"q"),Q("mi",{mathvariant:"bold-italic"},"i")])]),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",{mathvariant:"bold-italic"},"k"),Q("mi",{mathvariant:"bold-italic"},"j"),Q("mi",{mathvariant:"bold"},"⊤")])])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"i")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")"),Q("msub",null,[Q("mi",null,"W"),Q("mi",null,"Q")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"j")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"j")]),Q("mo",{stretchy:"false"},")"),Q("msub",null,[Q("mi",null,"W"),Q("mi",null,"K")]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")]),Q("mi",{mathvariant:"normal"},"⊤")])])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"i")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")"),Q("msub",null,[Q("mi",null,"W"),Q("mi",null,"Q")]),Q("mo",null,"⋅"),Q("msubsup",null,[Q("mi",null,"W"),Q("mi",null,"K"),Q("mi",null,"T")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"j")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"j")]),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"T")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"i")]),Q("msub",null,[Q("mi",null,"W"),Q("mi",null,"Q")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"i")]),Q("msub",null,[Q("mi",null,"W"),Q("mi",null,"Q")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("msubsup",null,[Q("mi",null,"W"),Q("mi",null,"K"),Q("mi",null,"T")]),Q("msubsup",null,[Q("mi",null,"x"),Q("mi",null,"j"),Q("mi",null,"T")]),Q("mo",null,"+"),Q("msubsup",null,[Q("mi",null,"W"),Q("mi",null,"K"),Q("mi",null,"T")]),Q("msubsup",null,[Q("mi",null,"p"),Q("mi",null,"j"),Q("mi",null,"T")]),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"i")])]),Q("msub",null,[Q("mi",null,"W"),Q("mi",null,"Q")]),Q("msubsup",null,[Q("mi",null,"W"),Q("mi",null,"K"),Q("mi",null,"T")]),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"x"),Q("mi",null,"j"),Q("mi",{mathvariant:"normal"},"⊤")])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"输"),Q("mi",{mathvariant:"normal"},"入"),Q("mi",null,"i")]),Q("mi",{mathvariant:"normal"},"和"),Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"输"),Q("mi",{mathvariant:"normal"},"入"),Q("mi",null,"j")])])]),Q("mo",null,"+"),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"i")])]),Q("msub",null,[Q("mi",null,"W"),Q("mi",null,"Q")]),Q("msubsup",null,[Q("mi",null,"W"),Q("mi",null,"K"),Q("mi",null,"T")]),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"p"),Q("mi",null,"j"),Q("mi",{mathvariant:"normal"},"⊤")])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"输"),Q("mi",{mathvariant:"normal"},"入"),Q("mi",null,"i")]),Q("mi",{mathvariant:"normal"},"和"),Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"位"),Q("mi",{mathvariant:"normal"},"置"),Q("mi",null,"j")])])]),Q("mo",null,"+"),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"i")])]),Q("msub",null,[Q("mi",null,"W"),Q("mi",null,"Q")]),Q("msubsup",null,[Q("mi",null,"W"),Q("mi",null,"K"),Q("mi",null,"T")]),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"x"),Q("mi",null,"j"),Q("mi",{mathvariant:"normal"},"⊤")])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"位"),Q("mi",{mathvariant:"normal"},"置"),Q("mi",null,"i")]),Q("mi",{mathvariant:"normal"},"和"),Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"输"),Q("mi",{mathvariant:"normal"},"入"),Q("mi",null,"j")])])]),Q("mo",null,"+"),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"i")])]),Q("msub",null,[Q("mi",null,"W"),Q("mi",null,"Q")]),Q("msubsup",null,[Q("mi",null,"W"),Q("mi",null,"K"),Q("mi",null,"T")]),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"p"),Q("mi",null,"j"),Q("mi",null,"T")])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"位"),Q("mi",{mathvariant:"normal"},"置"),Q("mi",null,"i")]),Q("mi",{mathvariant:"normal"},"和"),Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"位"),Q("mi",{mathvariant:"normal"},"置"),Q("mi",null,"j")])])])])])])])],-1))])]),t[755]||(t[755]=a("",2)),Q("div",K,[t[175]||(t[175]=Q("div",{class:"custom-block-title"},"相对位置编码",-1)),t[176]||(t[176]=Q("p",null,[T("🧠 ​"),Q("strong",null,"1、经典相对位置编码核心思想")],-1)),Q("ul",null,[Q("li",null,[t[100]||(t[100]=Q("p",null,[Q("strong",null,"核心")],-1)),Q("ul",null,[t[99]||(t[99]=Q("li",null,"从绝对位置attention公式出发",-1)),Q("li",null,[t[91]||(t[91]=Q("code",null,"去掉",-1)),Q("mjx-container",W,[(e(),l("svg",Y,t[87]||(t[87]=[a("",1)]))),t[88]||(t[88]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"j")])])])],-1))]),t[92]||(t[92]=T("及")),t[93]||(t[93]=Q("code",null,"复杂内容",-1)),t[94]||(t[94]=T(", 由")),t[95]||(t[95]=Q("code",null,"二元位置向量",-1)),Q("mjx-container",$,[(e(),l("svg",U,t[89]||(t[89]=[a("",1)]))),t[90]||(t[90]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"R"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"j")])])])])],-1))]),t[96]||(t[96]=T("来")),t[97]||(t[97]=Q("code",null,"代替",-1)),t[98]||(t[98]=T("，主要在softmax和v加权里变换。"))])])]),Q("li",null,[Q("p",null,[t[104]||(t[104]=T("💥")),Q("strong",null,[t[103]||(t[103]=T("相对位置")),Q("mjx-container",Q1,[(e(),l("svg",t1,t[101]||(t[101]=[a("",1)]))),t[102]||(t[102]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"R"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"j")])])])],-1))])])]),Q("ul",null,[Q("li",null,[t[107]||(t[107]=Q("code",null,"只依赖相对距离",-1)),t[108]||(t[108]=T()),Q("mjx-container",T1,[(e(),l("svg",a1,t[105]||(t[105]=[a("",1)]))),t[106]||(t[106]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"i"),Q("mo",null,"−"),Q("mi",null,"j")])])],-1))]),t[109]||(t[109]=T("。"))]),t[114]||(t[114]=Q("li",null,[Q("code",null,"Clip裁切"),T("：把"),Q("code",null,"相对距离"),T("缩短至"),Q("code",null,"有限范围"),T("。"),Q("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#ppo-clip",target:"_blank",rel:"noreferrer"},"PPO-Clip 笔记")],-1)),Q("li",null,[Q("mjx-container",l1,[(e(),l("svg",e1,t[110]||(t[110]=[a("",1)]))),t[111]||(t[111]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"p"),Q("mi",{mathvariant:"bold-italic"},"k")]),Q("mo",{mathvariant:"bold"},","),Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"p"),Q("mi",{mathvariant:"bold-italic"},"v")])])])],-1))]),t[112]||(t[112]=T("：")),t[113]||(t[113]=Q("code",null,"位置向量",-1))])])])]),Q("mjx-container",s1,[(e(),l("svg",m1,t[115]||(t[115]=[a("",1)]))),t[116]||(t[116]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"R"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"j")]),Q("mi",null,"K")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"p"),Q("mi",{mathvariant:"bold-italic"},"k")])]),Q("mo",{stretchy:"false"},"["),Q("mtext",null,"clip"),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"i"),Q("mo",null,"−"),Q("mi",null,"j")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"m"),Q("mi",null,"i"),Q("mi",null,"n")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"m"),Q("mi",null,"a"),Q("mi",null,"x")])]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"]")])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"R"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"j")]),Q("mi",null,"V")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"p"),Q("mi",{mathvariant:"bold-italic"},"v")])]),Q("mo",{stretchy:"false"},"["),Q("mtext",null,"clip"),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"i"),Q("mo",null,"−"),Q("mi",null,"j")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"m"),Q("mi",null,"i"),Q("mi",null,"n")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"m"),Q("mi",null,"a"),Q("mi",null,"x")])]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"]")])])])])])],-1))]),t[177]||(t[177]=Q("ul",null,[Q("li",null,[Q("strong",null,"优点"),Q("ul",null,[Q("li",null,[T("只需要有"),Q("code",null,"有限个位置向量"),T("，即可"),Q("code",null,"表示任意相对位置"),T("(因为"),Q("code",null,"进行了截断"),T(") 👍")])])])],-1)),t[178]||(t[178]=Q("p",null,[Q("strong",null,"2、XLNet式相对位置编码")],-1)),Q("ul",null,[Q("li",null,[t[149]||(t[149]=Q("strong",null,"核心",-1)),Q("ul",null,[Q("li",null,[t[127]||(t[127]=T("从公式")),Q("mjx-container",d1,[(e(),l("svg",n1,t[117]||(t[117]=[a("",1)]))),t[118]||(t[118]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"q"),Q("mi",{mathvariant:"bold-italic"},"i")])]),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",{mathvariant:"bold-italic"},"k"),Q("mi",{mathvariant:"bold-italic"},"j"),Q("mi",{mathvariant:"bold"},"⊤")])])])],-1))]),t[128]||(t[128]=T(" 展开，")),t[129]||(t[129]=Q("code",null,"相对位置向量",-1)),Q("mjx-container",o1,[(e(),l("svg",r1,t[119]||(t[119]=[a("",1)]))),t[120]||(t[120]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"R"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,"−"),Q("mi",null,"j")])])])])],-1))]),t[130]||(t[130]=Q("code",null,"替换",-1)),Q("mjx-container",i1,[(e(),l("svg",h1,t[121]||(t[121]=[a("",1)]))),t[122]||(t[122]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"j")])])])],-1))]),t[131]||(t[131]=T("， ")),t[132]||(t[132]=Q("code",null,"可训练向量",-1)),Q("mjx-container",p1,[(e(),l("svg",g1,t[123]||(t[123]=[a("",1)]))),t[124]||(t[124]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"u"),Q("mo",null,","),Q("mi",null,"v")])])],-1))]),t[133]||(t[133]=Q("code",null,"替换",-1)),t[134]||(t[134]=T("2个")),Q("mjx-container",H1,[(e(),l("svg",u1,t[125]||(t[125]=[a("",1)]))),t[126]||(t[126]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"i")])])])],-1))])]),Q("li",null,[Q("mjx-container",c1,[(e(),l("svg",L1,t[135]||(t[135]=[a("",1)]))),t[136]||(t[136]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"R"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,"−"),Q("mi",null,"j")])])])])],-1))]),t[137]||(t[137]=T()),t[138]||(t[138]=Q("code",null,"不做截断",-1)),t[139]||(t[139]=T("，用了Sinusoidal式的生成方案。"))]),Q("li",null,[Q("mjx-container",w1,[(e(),l("svg",y1,t[140]||(t[140]=[a("",1)]))),t[141]||(t[141]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"v"),Q("mi",null,"j")])])],-1))]),t[144]||(t[144]=Q("code",null,"加权",-1)),t[145]||(t[145]=T("时 ")),t[146]||(t[146]=Q("code",null,"不再需要位置偏置",-1)),t[147]||(t[147]=T("，直接是")),Q("mjx-container",f1,[(e(),l("svg",k1,t[142]||(t[142]=[a("",1)]))),t[143]||(t[143]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"i")]),Q("mo",null,"="),Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mi",null,"j")]),Q("msub",null,[Q("mi",null,"α"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"j")])]),Q("mtext",null," "),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"j")]),Q("mtext",null," "),Q("msub",null,[Q("mi",null,"W"),Q("mi",null,"v")])])],-1))])]),t[148]||(t[148]=Q("li",null,[Q("code",null,"后期工作相对位置只在attention权重上计算，不在v上了"),T("。")],-1))])])]),t[179]||(t[179]=Q("p",null,[Q("strong",null,"3、T5")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[152]||(t[152]=Q("strong",null,"核心",-1)),t[153]||(t[153]=T("：从")),Q("mjx-container",x1,[(e(),l("svg",M1,t[150]||(t[150]=[a("",1)]))),t[151]||(t[151]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"q"),Q("mi",{mathvariant:"bold-italic"},"i")])]),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",{mathvariant:"bold-italic"},"k"),Q("mi",{mathvariant:"bold-italic"},"j"),Q("mi",{mathvariant:"bold"},"⊤")])])])],-1))]),t[154]||(t[154]=T(" 展开出发做简化。"))]),t[157]||(t[157]=Q("ul",null,[Q("li",null,[Q("p",null,[T("认为输入和位置"),Q("code",null,"当解耦不做交互"),T("，"),Q("code",null,"直接删掉很多项")])]),Q("li",null,[Q("p",null,[T("增加"),Q("code",null,"相对位置编码"),T(),Q("code",null,"可训练参数")])])],-1)),Q("mjx-container",V1,[(e(),l("svg",Z1,t[155]||(t[155]=[a("",1)]))),t[156]||(t[156]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mi",null,"i")]),Q("msubsup",null,[Q("mi",null,"k"),Q("mi",null,"j"),Q("mi",null,"T")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"i")]),Q("msub",null,[Q("mi",null,"W"),Q("mi",null,"Q")]),Q("msubsup",null,[Q("mi",null,"W"),Q("mi",null,"K"),Q("mi",null,"T")]),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"j")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"β"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"j")])])])])])],-1))])]),Q("li",null,[Q("p",null,[Q("mjx-container",b1,[(e(),l("svg",v1,t[158]||(t[158]=[a("",1)]))),t[159]||(t[159]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"β"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"j")])])])])],-1))]),t[166]||(t[166]=T("不做")),Q("mjx-container",D1,[(e(),l("svg",A1,t[160]||(t[160]=[a("",1)]))),t[161]||(t[161]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"i"),Q("mo",null,"−"),Q("mi",null,"j")])],-1))]),t[167]||(t[167]=T("截断，做分桶处理，相对位置")),Q("mjx-container",_1,[(e(),l("svg",j1,t[162]||(t[162]=[a("",1)]))),t[163]||(t[163]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"i"),Q("mo",null,"−"),Q("mi",null,"j")])],-1))]),t[168]||(t[168]=T("对应")),Q("mjx-container",C1,[(e(),l("svg",E1,t[164]||(t[164]=[a("",1)]))),t[165]||(t[165]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",null,"−"),Q("mi",null,"j"),Q("mo",{stretchy:"false"},")")])],-1))]),t[169]||(t[169]=T("。"))]),t[170]||(t[170]=Q("ul",null,[Q("li",null,[Q("code",null,"近的位置"),T("使用"),Q("code",null,"独立精细编"),T("码，"),Q("code",null,"越远"),T("越"),Q("code",null,"共用一个位置编码"),T("。")])],-1))])]),t[180]||(t[180]=Q("p",null,[Q("strong",null,"4、Deberta式")],-1)),Q("ul",null,[Q("li",null,[t[173]||(t[173]=T("核心：从")),Q("mjx-container",S1,[(e(),l("svg",B1,t[171]||(t[171]=[a("",1)]))),t[172]||(t[172]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"q"),Q("mi",{mathvariant:"bold-italic"},"i")])]),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",{mathvariant:"bold-italic"},"k"),Q("mi",{mathvariant:"bold-italic"},"j"),Q("mi",{mathvariant:"bold"},"⊤")])])])],-1))]),t[174]||(t[174]=T(" 出发，扔掉第4项，保留2、3项并改为相对位置编码。"))])])]),t[756]||(t[756]=a("",3)),Q("div",R1,[t[210]||(t[210]=Q("div",{class:"custom-block-title"},"RoPE 动机",-1)),Q("ul",null,[t[208]||(t[208]=Q("li",null,[Q("p",null,[T("通过"),Q("code",null,"绝对位置方式"),T("实现"),Q("code",null,"相对位置编码"),T(" ，综合了绝对和相对的优点😍")])],-1)),Q("li",null,[Q("p",null,[t[185]||(t[185]=T("希望")),Q("mjx-container",N1,[(e(),l("svg",O1,t[181]||(t[181]=[a("",1)]))),t[182]||(t[182]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"q"),Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"n")])])])],-1))]),t[186]||(t[186]=T()),t[187]||(t[187]=Q("code",null,"点积",-1)),t[188]||(t[188]=T("，自动")),t[189]||(t[189]=Q("code",null,"带有相对位置信息",-1)),t[190]||(t[190]=T()),Q("mjx-container",P1,[(e(),l("svg",F1,t[183]||(t[183]=[a("",1)]))),t[184]||(t[184]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"m"),Q("mo",null,"−"),Q("mi",null,"n")])])],-1))])]),Q("ul",null,[t[205]||(t[205]=Q("li",null,[T("只需把"),Q("code",null,"点积"),T("变成"),Q("code",null,"q"),T(","),Q("code",null,"k"),T(","),Q("code",null,"m-n"),T("的"),Q("code",null,"函数"),T("即可。")],-1)),Q("li",null,[t[197]||(t[197]=Q("code",null,"找到一个函数",-1)),t[198]||(t[198]=T()),Q("mjx-container",I1,[(e(),l("svg",z1,t[191]||(t[191]=[a("",1)]))),t[192]||(t[192]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"q"),Q("mo",null,","),Q("mi",null,"m"),Q("mo",{stretchy:"false"},")")])])],-1))]),t[199]||(t[199]=T("，为向量")),Q("mjx-container",q1,[(e(),l("svg",X1,t[193]||(t[193]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D45E",d:"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z",style:{"stroke-width":"3"}})])])],-1)]))),t[194]||(t[194]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"q")])],-1))]),t[200]||(t[200]=Q("code",null,"增加绝对位置信",-1)),t[201]||(t[201]=T("息m，得到")),Q("mjx-container",J1,[(e(),l("svg",G1,t[195]||(t[195]=[a("",1)]))),t[196]||(t[196]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"q"),Q("mi",null,"m")])])])],-1))]),t[202]||(t[202]=T("，同时")),t[203]||(t[203]=Q("code",null,"使下式成立",-1)),t[204]||(t[204]=T("即可"))])]),Q("mjx-container",K1,[(e(),l("svg",W1,t[206]||(t[206]=[a("",1)]))),t[207]||(t[207]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"q"),Q("mi",null,"m"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"n")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"q"),Q("mo",null,","),Q("mi",null,"m"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"k"),Q("mo",null,","),Q("mi",null,"n"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"g")]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"q"),Q("mo",null,","),Q("mi",null,"k")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"m"),Q("mo",null,"−"),Q("mi",null,"n")]),Q("mo",{stretchy:"false"},")")])],-1))])]),t[209]||(t[209]=Q("li",null,[Q("p",null,[T("作者通过"),Q("code",null,"复数"),T("完成求解。")])],-1))])]),t[757]||(t[757]=Q("h3",{id:"旋转矩阵性质",tabindex:"-1"},[T("旋转矩阵性质 "),Q("a",{class:"header-anchor",href:"#旋转矩阵性质","aria-label":'Permalink to "旋转矩阵性质"'},"​")],-1)),Q("div",Y1,[t[249]||(t[249]=Q("div",{class:"custom-block-title"},"旋转矩阵",-1)),t[250]||(t[250]=Q("p",null,[Q("strong",null,"旋转矩阵")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[213]||(t[213]=T("二维空间，存在旋转矩阵")),Q("mjx-container",$1,[(e(),l("svg",U1,t[211]||(t[211]=[a("",1)]))),t[212]||(t[212]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"M"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])],-1))])])]),Q("li",null,[Q("p",null,[t[216]||(t[216]=Q("code",null,"二维向量",-1)),t[217]||(t[217]=T(" 左乘")),t[218]||(t[218]=Q("code",null,"旋转矩阵",-1)),t[219]||(t[219]=T("，该向量即可实现")),t[220]||(t[220]=Q("code",null,"弧度",-1)),t[221]||(t[221]=T("为")),Q("mjx-container",Q2,[(e(),l("svg",t2,t[214]||(t[214]=[a("",1)]))),t[215]||(t[215]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"θ")])])],-1))]),t[222]||(t[222]=T("的")),t[223]||(t[223]=Q("code",null,"逆时针旋转操作",-1)),t[224]||(t[224]=T("。"))]),Q("mjx-container",T2,[(e(),l("svg",a2,t[225]||(t[225]=[a("",1)]))),t[226]||(t[226]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"M"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"θ")])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"θ")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")])])],-1))])])]),t[251]||(t[251]=Q("p",null,[Q("strong",null,"旋转示例")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[229]||(t[229]=T("二维向量")),Q("mjx-container",l2,[(e(),l("svg",e2,t[227]||(t[227]=[a("",1)]))),t[228]||(t[228]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,","),Q("mn",null,"0"),Q("mo",{stretchy:"false"},")")])],-1))])]),Q("ul",null,[Q("li",null,[Q("p",null,[t[234]||(t[234]=Q("code",null,"逆时针旋转45度",-1)),t[235]||(t[235]=T("：即弧度")),Q("mjx-container",s2,[(e(),l("svg",m2,t[230]||(t[230]=[a("",1)]))),t[231]||(t[231]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mfrac",null,[Q("mi",null,"π"),Q("mn",null,"4")])])],-1))]),t[236]||(t[236]=T("，得到")),t[237]||(t[237]=Q("code",null,"新向量",-1)),Q("mjx-container",d2,[(e(),l("svg",n2,t[232]||(t[232]=[a("",1)]))),t[233]||(t[233]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mo",{stretchy:"false"},"("),Q("msqrt",null,[Q("mn",null,"2")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mn",null,"2"),Q("mo",null,","),Q("msqrt",null,[Q("mn",null,"2")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mn",null,"2"),Q("mo",{stretchy:"false"},")")])],-1))])])]),Q("li",null,[Q("p",null,[t[240]||(t[240]=Q("code",null,"通过旋转矩阵计算",-1)),t[241]||(t[241]=T("：同样得到")),t[242]||(t[242]=Q("code",null,"新向量",-1)),Q("mjx-container",o2,[(e(),l("svg",r2,t[238]||(t[238]=[a("",1)]))),t[239]||(t[239]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mo",{stretchy:"false"},"("),Q("msqrt",null,[Q("mn",null,"2")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mn",null,"2"),Q("mo",null,","),Q("msqrt",null,[Q("mn",null,"2")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mn",null,"2"),Q("mo",{stretchy:"false"},")")])],-1))]),t[243]||(t[243]=T("，")),t[244]||(t[244]=Q("code",null,"模长仍为1，保持不变",-1)),t[245]||(t[245]=T("。"))])]),Q("li",null,[t[248]||(t[248]=Q("p",null,[Q("a",{href:"https://kb.kmath.cn/kbase/detail.aspx?id=1632",target:"_blank",rel:"noreferrer"},"正弦、余弦、正切")],-1)),Q("mjx-container",i2,[(e(),l("svg",h2,t[246]||(t[246]=[a("",1)]))),t[247]||(t[247]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mi",null,"π"),Q("mn",null,"4")])])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mi",null,"π"),Q("mn",null,"4")])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mi",null,"π"),Q("mn",null,"4")])])]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mi",null,"π"),Q("mn",null,"4")])])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mn",null,"1")])]),Q("mtr",null,[Q("mtd",null,[Q("mn",null,"0")])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mi",null,"π"),Q("mn",null,"4")])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mi",null,"π"),Q("mn",null,"4")])])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mfrac",null,[Q("msqrt",null,[Q("mn",null,"2")]),Q("mn",null,"2")])])]),Q("mtr",null,[Q("mtd",null,[Q("mfrac",null,[Q("msqrt",null,[Q("mn",null,"2")]),Q("mn",null,"2")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")])])],-1))])])])])])]),t[758]||(t[758]=Q("img",{src:"https://pica.zhimg.com/v2-f79805fcedde825b59ed6f5e2c25405e_1440w.jpg",style:{display:"block",margin:"auto"},width:"70%"},null,-1)),t[759]||(t[759]=Q("h3",{id:"二维位置编码",tabindex:"-1"},[T("二维位置编码 "),Q("a",{class:"header-anchor",href:"#二维位置编码","aria-label":'Permalink to "二维位置编码"'},"​")],-1)),Q("div",p2,[t[290]||(t[290]=Q("div",{class:"custom-block-title"},"二维旋转矩阵-绝对位置信息-相对编码",-1)),t[291]||(t[291]=Q("p",null,[Q("strong",null,"旋转矩阵增加绝对位置信息")],-1)),Q("ul",null,[Q("li",null,[t[254]||(t[254]=T("假设词向量")),t[255]||(t[255]=Q("code",null,"只有2维",-1)),t[256]||(t[256]=T("，得到")),t[257]||(t[257]=Q("code",null,"位置编码函数",-1)),t[258]||(t[258]=T("，")),Q("mjx-container",g2,[(e(),l("svg",H2,t[252]||(t[252]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),t[253]||(t[253]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"θ")])],-1))]),t[259]||(t[259]=T("为常数。"))])]),Q("mjx-container",u2,[(e(),l("svg",c2,t[260]||(t[260]=[a("",1)]))),t[261]||(t[261]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"q"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"m")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"R"),Q("mi",null,"m")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"q")]),Q("mo",null,"="),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mtext",null,"旋转矩阵")])])]),Q("mo",null,"⋅"),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mn",null,"0")])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mn",null,"1")])])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"q"),Q("mi",{mathvariant:"normal"},"向"),Q("mi",{mathvariant:"normal"},"量")])])])])],-1))]),Q("mjx-container",L2,[(e(),l("svg",w2,t[262]||(t[262]=[a("",1)]))),t[263]||(t[263]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"k"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"n")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"R"),Q("mi",null,"n")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"k")]),Q("mo",null,"="),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mtext",null,"旋转矩阵")])])]),Q("mo",null,"⋅"),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"k"),Q("mn",null,"0")])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"k"),Q("mn",null,"1")])])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"k"),Q("mi",{mathvariant:"normal"},"向"),Q("mi",{mathvariant:"normal"},"量")])])])])],-1))]),Q("ul",null,[Q("li",null,[t[266]||(t[266]=T("只要")),t[267]||(t[267]=Q("code",null,"把向量旋转",-1)),t[268]||(t[268]=T()),Q("mjx-container",y2,[(e(),l("svg",f2,t[264]||(t[264]=[a("",1)]))),t[265]||(t[265]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"m"),Q("mi",null,"θ")])])],-1))]),t[269]||(t[269]=T("弧度，就能")),t[270]||(t[270]=Q("code",null,"对向量增加",-1)),t[271]||(t[271]=T()),t[272]||(t[272]=Q("code",null,"绝对位置信息m",-1)),t[273]||(t[273]=Q("ul",null,[Q("li",null,[T("只要把向量"),Q("code",null,"旋转某个角度"),T("，就能对向量，"),Q("code",null,"增加绝对位置"),T("信息")])],-1))])]),t[292]||(t[292]=Q("p",null,[Q("strong",null,"点积自动具有相对位置")],-1)),Q("ul",null,[Q("li",null,[t[276]||(t[276]=Q("p",null,"通过推导可知",-1)),t[277]||(t[277]=Q("ul",null,[Q("li",null,[Q("code",null,"点积"),T("自动带有"),Q("code",null,"相对位置信息"),T(),Q("code",null,"m-n"),T("，通过"),Q("code",null,"绝对编码方式"),T("，实现了"),Q("code",null,"相对位置编码")])],-1)),Q("mjx-container",k2,[(e(),l("svg",x2,t[274]||(t[274]=[a("",1)]))),t[275]||(t[275]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"n")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"q"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"m")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"k"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"n")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"q"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"R"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mo",null,"−"),Q("mi",null,"m")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"k")])])],-1))]),t[278]||(t[278]=Q("ul",null,[Q("li",null,[T("详细推导过程如下："),Q("a",{href:"https://kb.kmath.cn/kbase/detail.aspx?id=1352",target:"_blank",rel:"noreferrer"},"三角函数两角和差公式")])],-1))])]),Q("mjx-container",M2,[(e(),l("svg",V2,t[279]||(t[279]=[a("",1)]))),t[280]||(t[280]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"n")])])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"q"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"m")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"k"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"n")]),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"R"),Q("mi",null,"m")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"q")]),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",{mathvariant:"normal"},"⊤")]),Q("mo",null,"⋅"),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"R"),Q("mi",null,"n")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"k")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"q"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"R"),Q("mi",null,"m"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"R"),Q("mi",null,"n")])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"k")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"q"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"["),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},"]")]),Q("mi",{mathvariant:"normal"},"⊤")]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"["),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},"]")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"k")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"q"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"["),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])])]),Q("mtr",null,[Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},"]")]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"["),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},"]")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"k")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"q"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"["),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])])]),Q("mtr",null,[Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"n"),Q("mi",null,"θ")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},"]")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"k")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"q"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"["),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"m"),Q("mo",null,"−"),Q("mi",null,"n"),Q("mo",{stretchy:"false"},")"),Q("mi",null,"θ")]),Q("mtd",null,[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"m"),Q("mo",null,"−"),Q("mi",null,"n"),Q("mo",{stretchy:"false"},")"),Q("mi",null,"θ")])]),Q("mtr",null,[Q("mtd",null,[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"n"),Q("mo",null,"−"),Q("mi",null,"m"),Q("mo",{stretchy:"false"},")"),Q("mi",null,"θ")]),Q("mtd",null,[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"m"),Q("mo",null,"−"),Q("mi",null,"n"),Q("mo",{stretchy:"false"},")"),Q("mi",null,"θ")])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},"]")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"k")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"q"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"["),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"n"),Q("mo",null,"−"),Q("mi",null,"m"),Q("mo",{stretchy:"false"},")"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mo",null,"−"),Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"n"),Q("mo",null,"−"),Q("mi",null,"m"),Q("mo",{stretchy:"false"},")"),Q("mi",null,"θ")])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"n"),Q("mo",null,"−"),Q("mi",null,"m"),Q("mo",{stretchy:"false"},")"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"n"),Q("mo",null,"−"),Q("mi",null,"m"),Q("mo",{stretchy:"false"},")"),Q("mi",null,"θ")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},"]")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"k")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"q"),Q("mi",{mathvariant:"normal"},"⊤")])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"R"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mo",null,"−"),Q("mi",null,"m")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"k")])])])])])],-1))]),t[293]||(t[293]=Q("p",null,[Q("strong",null,"旋转示例")],-1)),Q("ul",null,[Q("li",null,[t[285]||(t[285]=T("二维向量")),Q("mjx-container",Z2,[(e(),l("svg",b2,t[281]||(t[281]=[a("",1)]))),t[282]||(t[282]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"q"),Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,","),Q("mn",null,"0"),Q("mo",{stretchy:"false"},")")])],-1))]),t[286]||(t[286]=T("，设")),Q("mjx-container",v2,[(e(),l("svg",D2,t[283]||(t[283]=[a("",1)]))),t[284]||(t[284]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"θ"),Q("mo",null,"="),Q("mn",null,"1")])],-1))]),t[287]||(t[287]=T("常数"))]),t[288]||(t[288]=Q("li",null,[T("当"),Q("code",null,"位置位于0/1/2/3"),T("时，只需"),Q("code",null,"旋转0/1/2/3弧度"),T("，即可赋予"),Q("code",null,"绝对位置信息"),T("。")],-1)),t[289]||(t[289]=Q("li",null,[T("只需"),Q("code",null,"对向量进行旋转"),T("，即可赋予"),Q("code",null,"绝对位置信息"),T("。")],-1))])]),t[760]||(t[760]=Q("img",{src:"https://pic4.zhimg.com/v2-7a27119e4fe9272ce6c26450ad8070ad_1440w.jpg",style:{display:"block",margin:"auto"},width:"70%"},null,-1)),t[761]||(t[761]=Q("h3",{id:"多维位置编码",tabindex:"-1"},[T("多维位置编码 "),Q("a",{class:"header-anchor",href:"#多维位置编码","aria-label":'Permalink to "多维位置编码"'},"​")],-1)),Q("div",A2,[t[298]||(t[298]=Q("div",{class:"custom-block-title"},"推广到多维",-1)),t[299]||(t[299]=Q("p",null,[Q("strong",null,"高维旋转矩阵")],-1)),Q("ul",null,[t[297]||(t[297]=Q("li",null,[Q("p",null,[T("把高维向量，"),Q("code",null,"两两一组"),T("，"),Q("code",null,"分别旋转"),T("。")])],-1)),Q("li",null,[t[296]||(t[296]=Q("p",null,[T("把"),Q("code",null,"向量q"),T("中的"),Q("code",null,"d个分量"),T("，分成"),Q("code",null,"d/2组"),T("，每组视为一个"),Q("code",null,"二维向量"),T("，"),Q("code",null,"分别旋转"),T("。")],-1)),Q("mjx-container",_2,[(e(),l("svg",j2,t[294]||(t[294]=[a("",1)]))),t[295]||(t[295]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"q"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"m")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"R"),Q("mi",null,"m")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"q")]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mo",null,"⋯")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mo",null,"⋯")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")])]),Q("mtr",null,[Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mo",null,"⋯")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")])]),Q("mtr",null,[Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mo",null,"⋯")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")])]),Q("mtr",null,[Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd")]),Q("mtr",null,[Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mo",null,"⋯")]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])])]),Q("mtr",null,[Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mo",null,"⋯")]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("mi",null,"θ")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mn",null,"0")])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mn",null,"1")])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mn",null,"2")])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mn",null,"3")])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"d"),Q("mo",null,"−"),Q("mn",null,"2")])])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"d"),Q("mo",null,"−"),Q("mn",null,"1")])])])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")])])],-1))])])])]),t[762]||(t[762]=Q("h3",{id:"增加远程衰减特性",tabindex:"-1"},[T("增加远程衰减特性 "),Q("a",{class:"header-anchor",href:"#增加远程衰减特性","aria-label":'Permalink to "增加远程衰减特性"'},"​")],-1)),Q("div",C2,[t[345]||(t[345]=Q("div",{class:"custom-block-title"},"远程衰减性",-1)),t[346]||(t[346]=Q("p",null,[Q("strong",null,"背景")],-1)),Q("ul",null,[Q("li",null,[Q("mjx-container",E2,[(e(),l("svg",S2,t[300]||(t[300]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),t[301]||(t[301]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"θ")])],-1))]),t[302]||(t[302]=T("如果是")),t[303]||(t[303]=Q("code",null,"1个固定常量",-1)),t[304]||(t[304]=T("，会导致")),t[305]||(t[305]=Q("code",null,"qk内积",-1)),t[306]||(t[306]=T("，随")),t[307]||(t[307]=Q("code",null,"相对距离增加",-1)),t[308]||(t[308]=T("，")),t[309]||(t[309]=Q("code",null,"内积分数呈震荡特性",-1)),t[310]||(t[310]=T("，")),t[311]||(t[311]=Q("code",null,"缺乏远程衰减特性",-1)),t[312]||(t[312]=T("。"))])]),t[347]||(t[347]=Q("p",null,[Q("strong",null,"核心思想")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[317]||(t[317]=T("借助")),t[318]||(t[318]=Q("code",null,"三角函数",-1)),t[319]||(t[319]=T("，为旋转矩阵")),t[320]||(t[320]=Q("code",null,"每个分组",-1)),t[321]||(t[321]=T("的")),Q("mjx-container",B2,[(e(),l("svg",R2,t[313]||(t[313]=[a("",1)]))),t[314]||(t[314]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"θ")])])],-1))]),t[322]||(t[322]=T("，")),t[323]||(t[323]=Q("code",null,"设置单独常量",-1)),t[324]||(t[324]=T("，")),Q("mjx-container",N2,[(e(),l("svg",O2,t[315]||(t[315]=[a("",1)]))),t[316]||(t[316]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mn",null,"10000"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])],-1))])])]),Q("li",null,[Q("p",null,[t[329]||(t[329]=T("当")),t[330]||(t[330]=Q("code",null,"向量q",-1)),t[331]||(t[331]=T("位于")),t[332]||(t[332]=Q("code",null,"位置m",-1)),t[333]||(t[333]=T("时，只需要把")),t[334]||(t[334]=Q("code",null,"第i组",-1)),t[335]||(t[335]=T("分量，")),t[336]||(t[336]=Q("code",null,"旋转",-1)),Q("mjx-container",P2,[(e(),l("svg",F2,t[325]||(t[325]=[a("",1)]))),t[326]||(t[326]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])])])],-1))]),t[337]||(t[337]=T("弧度，即可得到具有")),t[338]||(t[338]=Q("code",null,"绝对位置信息",-1)),t[339]||(t[339]=T("的向量")),Q("mjx-container",I2,[(e(),l("svg",z2,t[327]||(t[327]=[a("",1)]))),t[328]||(t[328]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"q"),Q("mi",null,"m")])])])],-1))])]),Q("mjx-container",q2,[(e(),l("svg",X2,t[340]||(t[340]=[a("",1)]))),t[341]||(t[341]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])],-1))])]),t[342]||(t[342]=Q("li",null,[Q("p",null,[Q("code",null,"高维旋转矩阵")])],-1))]),Q("mjx-container",J2,[(e(),l("svg",G2,t[343]||(t[343]=[a("",1)]))),t[344]||(t[344]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"R"),Q("mi",null,"m")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"q")]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("msub",null,[Q("mi",null,"θ"),Q("mn",null,"0")])])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("msub",null,[Q("mi",null,"θ"),Q("mn",null,"0")])])]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mo",null,"⋯")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("msub",null,[Q("mi",null,"θ"),Q("mn",null,"0")])])]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("msub",null,[Q("mi",null,"θ"),Q("mn",null,"0")])])]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mo",null,"⋯")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")])]),Q("mtr",null,[Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("msub",null,[Q("mi",null,"θ"),Q("mn",null,"1")])])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("msub",null,[Q("mi",null,"θ"),Q("mn",null,"1")])])]),Q("mtd",null,[Q("mo",null,"⋯")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")])]),Q("mtr",null,[Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("msub",null,[Q("mi",null,"θ"),Q("mn",null,"1")])])]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("msub",null,[Q("mi",null,"θ"),Q("mn",null,"1")])])]),Q("mtd",null,[Q("mo",null,"⋯")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")])]),Q("mtr",null,[Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd")]),Q("mtr",null,[Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mo",null,"⋯")]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"d"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mn",null,"2"),Q("mo",null,"−"),Q("mn",null,"1")])])])]),Q("mtd",null,[Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"d"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mn",null,"2"),Q("mo",null,"−"),Q("mn",null,"1")])])])])]),Q("mtr",null,[Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mn",null,"0")]),Q("mtd",null,[Q("mo",null,"⋯")]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"sin"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"d"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mn",null,"2"),Q("mo",null,"−"),Q("mn",null,"1")])])])]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"m"),Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"d"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mn",null,"2"),Q("mo",null,"−"),Q("mn",null,"1")])])])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"("),Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mn",null,"0")])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mn",null,"1")])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mn",null,"2")])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mn",null,"3")])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"d"),Q("mo",null,"−"),Q("mn",null,"2")])])])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"q"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"d"),Q("mo",null,"−"),Q("mn",null,"1")])])])])])]),Q("mo",{"data-mjx-texclass":"CLOSE"},")")])])],-1))]),t[348]||(t[348]=Q("p",null,[Q("strong",null,"Base值10000的影响")],-1)),t[349]||(t[349]=Q("ul",null,[Q("li",null,[T("base的"),Q("code",null,"不同取值"),T("会影响"),Q("code",null,"注意力远程衰减的程度"),Q("ul",null,[Q("li",null,"base=1：失去衰减特性，太小base会破坏注意力远程衰减性质"),Q("li",null,"base=1或100：注意力分数不再随相对位置增大，而呈震荡下降的趋势"),Q("li",null,"base>500时：随base提升，远程衰减程度，会逐渐削弱")])])],-1))]),t[763]||(t[763]=a("",6)),Q("div",K2,[t[403]||(t[403]=Q("div",{class:"custom-block-title"},"高低频分量",-1)),t[404]||(t[404]=Q("p",null,[Q("strong",null,"旋转角度和位置的关系")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[352]||(t[352]=T("RoPE")),t[353]||(t[353]=Q("code",null,"旋转角度",-1)),t[354]||(t[354]=T(" 随")),t[355]||(t[355]=Q("code",null,"位置m",-1)),t[356]||(t[356]=T("和")),t[357]||(t[357]=Q("code",null,"组别i",-1)),t[358]||(t[358]=T(" 变化。旋转")),Q("mjx-container",W2,[(e(),l("svg",Y2,t[350]||(t[350]=[a("",1)]))),t[351]||(t[351]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])])])],-1))]),t[359]||(t[359]=T("弧度。"))]),Q("mjx-container",$2,[(e(),l("svg",U2,t[360]||(t[360]=[a("",1)]))),t[361]||(t[361]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])],-1))])]),Q("li",null,[Q("p",null,[t[364]||(t[364]=T("对")),t[365]||(t[365]=Q("code",null,"第i组分量",-1)),t[366]||(t[366]=T("，")),t[367]||(t[367]=Q("code",null,"位置每增加1",-1)),t[368]||(t[368]=T("，")),t[369]||(t[369]=Q("code",null,"旋转角度增加",-1)),t[370]||(t[370]=T()),Q("mjx-container",Q3,[(e(),l("svg",t3,t[362]||(t[362]=[a("",1)]))),t[363]||(t[363]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])])])],-1))]),t[371]||(t[371]=T("，")),t[372]||(t[372]=Q("code",null,"角频率",-1))])])]),t[405]||(t[405]=Q("p",null,[Q("strong",null,"高低频分量")],-1)),Q("ul",null,[Q("li",null,[t[387]||(t[387]=Q("code",null,"高频分量",-1)),Q("ul",null,[Q("li",null,[t[377]||(t[377]=Q("code",null,"分组越靠前",-1)),t[378]||(t[378]=T("，组别i越小，")),t[379]||(t[379]=Q("code",null,"角频率",-1)),t[380]||(t[380]=T()),Q("mjx-container",T3,[(e(),l("svg",a3,t[373]||(t[373]=[a("",1)]))),t[374]||(t[374]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])],-1))]),t[381]||(t[381]=T()),t[382]||(t[382]=Q("code",null,"越大",-1)),t[383]||(t[383]=T("，")),Q("mjx-container",l3,[(e(),l("svg",e3,t[375]||(t[375]=[a("",1)]))),t[376]||(t[376]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])])])],-1))]),t[384]||(t[384]=T()),t[385]||(t[385]=Q("code",null,"旋转得越快",-1)),t[386]||(t[386]=T("。"))])])]),Q("li",null,[t[402]||(t[402]=Q("code",null,"低频分量",-1)),Q("ul",null,[Q("li",null,[t[392]||(t[392]=Q("code",null,"分组越靠后",-1)),t[393]||(t[393]=T("，组别i越大，")),t[394]||(t[394]=Q("code",null,"角频率",-1)),t[395]||(t[395]=T()),Q("mjx-container",s3,[(e(),l("svg",m3,t[388]||(t[388]=[a("",1)]))),t[389]||(t[389]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])],-1))]),t[396]||(t[396]=T()),t[397]||(t[397]=Q("code",null,"越小",-1)),t[398]||(t[398]=T("，")),Q("mjx-container",d3,[(e(),l("svg",n3,t[390]||(t[390]=[a("",1)]))),t[391]||(t[391]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])])])],-1))]),t[399]||(t[399]=T()),t[400]||(t[400]=Q("code",null,"旋转得越慢",-1)),t[401]||(t[401]=T("。"))])])])])]),t[764]||(t[764]=Q("h3",{id:"rope-特点",tabindex:"-1"},[T("RoPE 特点 "),Q("a",{class:"header-anchor",href:"#rope-特点","aria-label":'Permalink to "RoPE 特点"'},"​")],-1)),Q("div",o3,[t[430]||(t[430]=Q("div",{class:"custom-block-title"},"RoPE 特点",-1)),t[431]||(t[431]=Q("p",null,[Q("strong",null,"1. 具有远程衰减特性")],-1)),t[432]||(t[432]=Q("ul",null,[Q("li",null,[T("随"),Q("code",null,"相对距离变大"),T("、"),Q("code",null,"内积分数变小"),T("。")])],-1)),t[433]||(t[433]=Q("p",null,[Q("strong",null,"2. 旋转弧度，随着位置增加而线性增加。")],-1)),Q("ul",null,[Q("li",null,[t[408]||(t[408]=T("当")),t[409]||(t[409]=Q("code",null,"位置位于0/1/2/3",-1)),t[410]||(t[410]=T("时，只需")),t[411]||(t[411]=Q("code",null,"旋转0/1/2/3弧度",-1)),t[412]||(t[412]=T("，即可赋予")),t[413]||(t[413]=Q("code",null,"绝对位置信息",-1)),t[414]||(t[414]=T("。")),Q("mjx-container",r3,[(e(),l("svg",i3,t[406]||(t[406]=[a("",1)]))),t[407]||(t[407]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])],-1))])])]),t[434]||(t[434]=Q("p",null,[Q("strong",null,"3. 每组分量的旋转具有周期性；分组越靠后，旋转速度越慢")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[417]||(t[417]=T("旋转一圈的弧度是")),Q("mjx-container",h3,[(e(),l("svg",p3,t[415]||(t[415]=[a("",1)]))),t[416]||(t[416]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mn",null,"2"),Q("mi",null,"π")])])],-1))]),t[418]||(t[418]=T("，具有")),t[419]||(t[419]=Q("code",null,"周期性",-1)),t[420]||(t[420]=T("。"))])]),t[429]||(t[429]=Q("li",null,[Q("p",null,[Q("code",null,"分组越靠前"),T("，"),Q("code",null,"旋转速度越快"),T("。")])],-1)),Q("li",null,[t[427]||(t[427]=Q("p",null,[Q("code",null,"分组越靠后"),T("，旋转"),Q("code",null,"速度越慢"),T("，正弦的周期越大、频率越低。")],-1)),t[428]||(t[428]=Q("ul",null,[Q("li",null,"比如：位置500，第0组分量已旋转500弧度，第8组分量仅旋转158弧度。")],-1)),Q("mjx-container",g3,[(e(),l("svg",H3,t[421]||(t[421]=[a("",1)]))),t[422]||(t[422]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])],-1))]),Q("mjx-container",u3,[(e(),l("svg",c3,t[423]||(t[423]=[a("",1)]))),t[424]||(t[424]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"500")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"θ"),Q("mn",null,"0")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"500")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"10000"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"0"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])]),Q("mo",null,"="),Q("mn",null,"500")])],-1))]),Q("mjx-container",L3,[(e(),l("svg",w3,t[425]||(t[425]=[a("",1)]))),t[426]||(t[426]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"500")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"θ"),Q("mn",null,"8")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"500")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"10000"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"16"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])]),Q("mo",null,"="),Q("mn",null,"158")])],-1))])])])]),t[765]||(t[765]=a("",6)),Q("div",y3,[t[451]||(t[451]=Q("div",{class:"custom-block-title"},"RoPE缺点",-1)),t[452]||(t[452]=Q("p",null,[Q("strong",null,"长度外推性较弱")],-1)),Q("ul",null,[t[450]||(t[450]=Q("li",null,[Q("code",null,"推理长度"),T("超过"),Q("code",null,"训练长度"),T("时，"),Q("code",null,"性能急剧下降"),T("，表现为"),Q("code",null,"困惑度急剧上升"),T("。")],-1)),Q("li",null,[t[449]||(t[449]=T("解释： ")),Q("ul",null,[Q("li",null,[t[437]||(t[437]=T("训练长度L，位置0到L-1，")),t[438]||(t[438]=Q("code",null,"旋转弧度范围",-1)),t[439]||(t[439]=T()),Q("mjx-container",f3,[(e(),l("svg",k3,t[435]||(t[435]=[a("",1)]))),t[436]||(t[436]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mo",{stretchy:"false"},"["),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"0")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"L"),Q("mo",null,"−"),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",{stretchy:"false"},"]")])],-1))])]),Q("li",null,[t[442]||(t[442]=Q("code",null,"推理长度大于L",-1)),t[443]||(t[443]=T("，")),t[444]||(t[444]=Q("code",null,"旋转弧度大于",-1)),t[445]||(t[445]=T()),Q("mjx-container",x3,[(e(),l("svg",M3,t[440]||(t[440]=[a("",1)]))),t[441]||(t[441]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"L"),Q("mo",null,"−"),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])])])],-1))]),t[446]||(t[446]=T("，模型")),t[447]||(t[447]=Q("code",null,"难以理解新的旋转弧度",-1))]),t[448]||(t[448]=Q("li",null,"无法正确注入位置信息，导致性能下降。",-1))])])])]),t[766]||(t[766]=a("",7)),Q("div",V3,[t[522]||(t[522]=Q("div",{class:"custom-block-title"},"RoPE长度外推总结",-1)),t[523]||(t[523]=Q("p",null,[Q("strong",null,"0. 背景")],-1)),Q("ul",null,[t[481]||(t[481]=Q("li",null,[Q("p",null,"RoPE超过训练长度L，性能会下降。")],-1)),Q("li",null,[Q("p",null,[t[457]||(t[457]=T("当")),t[458]||(t[458]=Q("code",null,"向量q",-1)),t[459]||(t[459]=T("位于")),t[460]||(t[460]=Q("code",null,"位置m",-1)),t[461]||(t[461]=T("时，只需把")),t[462]||(t[462]=Q("code",null,"第i组",-1)),t[463]||(t[463]=T("分量，")),t[464]||(t[464]=Q("code",null,"旋转",-1)),Q("mjx-container",Z3,[(e(),l("svg",b3,t[453]||(t[453]=[a("",1)]))),t[454]||(t[454]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])])])],-1))]),t[465]||(t[465]=T("弧度，即得具有")),t[466]||(t[466]=Q("code",null,"绝对位置信息",-1)),t[467]||(t[467]=T("的")),Q("mjx-container",v3,[(e(),l("svg",D3,t[455]||(t[455]=[a("",1)]))),t[456]||(t[456]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"q"),Q("mi",null,"m")])])])],-1))])]),Q("mjx-container",A3,[(e(),l("svg",_3,t[468]||(t[468]=[a("",1)]))),t[469]||(t[469]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mfrac",null,[Q("mn",null,"1"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])])],-1))]),Q("mjx-container",j3,[(e(),l("svg",C3,t[470]||(t[470]=[a("",1)]))),t[471]||(t[471]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"q"),Q("mi",null,"m")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"q"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"m")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"R"),Q("mi",null,"m")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"q")])])],-1))])]),Q("li",null,[Q("p",null,[t[474]||(t[474]=Q("code",null,"放大base",-1)),t[475]||(t[475]=T("，")),t[476]||(t[476]=Q("code",null,"缩小",-1)),t[477]||(t[477]=T("每个位置的")),t[478]||(t[478]=Q("code",null,"旋转弧度",-1)),Q("mjx-container",E3,[(e(),l("svg",S3,t[472]||(t[472]=[a("",1)]))),t[473]||(t[473]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])])])],-1))]),t[479]||(t[479]=T("，来提升模型输入长度。"))]),t[480]||(t[480]=Q("ul",null,[Q("li",null,[T("但"),Q("code",null,"base太大"),T("，会使注意力"),Q("code",null,"远程衰减的性质变弱"),T("，改变意力分布，导致模型输出"),Q("code",null,"质量下降")])],-1))])]),t[524]||(t[524]=Q("p",null,[Q("strong",null,"1. 线性位置插值")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[486]||(t[486]=T("模型已能理解")),Q("mjx-container",B3,[(e(),l("svg",R3,t[482]||(t[482]=[a("",1)]))),t[483]||(t[483]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mo",{stretchy:"false"},"["),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"0")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"L"),Q("mo",null,"−"),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",{stretchy:"false"},"]")])],-1))]),t[487]||(t[487]=T("，使用该")),t[488]||(t[488]=Q("code",null,"弧度旋转范围",-1)),t[489]||(t[489]=T("表示")),t[490]||(t[490]=Q("code",null,"更长的长度范围",-1)),Q("mjx-container",N3,[(e(),l("svg",O3,t[484]||(t[484]=[a("",1)]))),t[485]||(t[485]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mo",{stretchy:"false"},"["),Q("mn",null,"0"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")]),Q("mo",null,"−"),Q("mn",null,"1")]),Q("mo",{stretchy:"false"},"]")])],-1))])])]),Q("li",null,[t[493]||(t[493]=Q("p",null,[Q("code",null,"长度"),T(),Q("code",null,"扩大几倍"),T("，"),Q("code",null,"旋转弧度"),T(),Q("code",null,"缩小几倍")],-1)),Q("mjx-container",P3,[(e(),l("svg",F3,t[491]||(t[491]=[a("",1)]))),t[492]||(t[492]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mi",null,"L"),Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mi",null,"L"),Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])],-1))])])]),t[525]||(t[525]=a("",2)),Q("mjx-container",I3,[(e(),l("svg",z3,t[494]||(t[494]=[a("",1)]))),t[495]||(t[495]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mtext",null,"base"),Q("mo",null,"⋅"),Q("mi",null,"α"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])],-1))]),t[526]||(t[526]=Q("p",null,[Q("strong",null,"3. NTK-by-parts")],-1)),Q("ul",null,[Q("li",null,[t[500]||(t[500]=Q("p",null,[T("NTK-Aware存在过度外推情况，定义"),Q("code",null,"旋转周期"),T("("),Q("code",null,"波长"),T(")，"),Q("code",null,"周期个数"),T("("),Q("code",null,"序列和波长比值"),T(")。")],-1)),Q("mjx-container",q3,[(e(),l("svg",X3,t[496]||(t[496]=[a("",1)]))),t[497]||(t[497]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"λ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"2"),Q("mi",null,"π")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"2"),Q("mi",null,"π")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])],-1))]),Q("mjx-container",J3,[(e(),l("svg",G3,t[498]||(t[498]=[a("",1)]))),t[499]||(t[499]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"L")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"λ"),Q("mi",null,"i")])])])])],-1))])]),Q("li",null,[t[503]||(t[503]=Q("p",null,[T("定义"),Q("code",null,"高低频边界"),T("，高频做外推，低频做内插。")],-1)),Q("mjx-container",K3,[(e(),l("svg",W3,t[501]||(t[501]=[a("",1)]))),t[502]||(t[502]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtext",null,"外推程度"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"γ"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"{"),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:".2em"},[Q("mtr",null,[Q("mtd",null,[Q("mn",null,"1"),Q("mo",null,",")]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"≥"),Q("mi",null,"β")])])]),Q("mtr",null,[Q("mtd",null,[Q("mfrac",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"α")]),Q("mrow",null,[Q("mi",null,"β"),Q("mo",null,"−"),Q("mi",null,"α")])])]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"α"),Q("mo",null,"<"),Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"<"),Q("mi",null,"β")])])]),Q("mtr",null,[Q("mtd",null,[Q("mn",null,"0"),Q("mo",null,",")]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"≤"),Q("mi",null,"α"),Q("mo",null,"="),Q("mn",null,"1")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])])]),t[527]||(t[527]=Q("p",null,[Q("strong",null,"4. Dynamic NTK")],-1)),Q("ul",null,[Q("li",null,[t[508]||(t[508]=Q("code",null,"超出训练长度",-1)),t[509]||(t[509]=T(" 时")),Q("mjx-container",Y3,[(e(),l("svg",$3,t[504]||(t[504]=[a("",1)]))),t[505]||(t[505]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"l"),Q("mo",null,">"),Q("mi",null,"L")])],-1))]),t[510]||(t[510]=T("才")),t[511]||(t[511]=Q("code",null,"做插值",-1)),t[512]||(t[512]=T("，每一步通过")),t[513]||(t[513]=Q("code",null,"NTK-Aware",-1)),t[514]||(t[514]=T("，")),t[515]||(t[515]=Q("code",null,"动态放大base",-1)),Q("mjx-container",U3,[(e(),l("svg",Q4,t[506]||(t[506]=[a("",1)]))),t[507]||(t[507]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mtext",null,"base"),Q("mo",null,"⋅"),Q("mi",null,"α"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"1em"})]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"1em"})]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"α")]),Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"l")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"L")])]),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"d"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"d"),Q("mo",null,"−"),Q("mn",null,"2"),Q("mo",{stretchy:"false"},")")])])])])],-1))])])]),t[528]||(t[528]=Q("p",null,[Q("strong",null,"5. YaRN (NTK-by-parts + Attention Scaling)")],-1)),Q("ul",null,[t[521]||(t[521]=Q("li",null,[Q("p",null,[T("对"),Q("code",null,"低频"),T("做"),Q("code",null,"线性插值"),T("，对"),Q("code",null,"高频"),T("做"),Q("code",null,"外推"),T("，同"),Q("code",null,"NTK-by-parts")])],-1)),Q("li",null,[t[520]||(t[520]=Q("p",null,[T("同时"),Q("code",null,"修正注意力分布"),T("，"),Q("code",null,"除以温度t")],-1)),Q("mjx-container",t4,[(e(),l("svg",T4,t[516]||(t[516]=[a("",1)]))),t[517]||(t[517]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",{mathvariant:"bold-italic"},"q"),Q("mi",null,"m"),Q("mi",{mathvariant:"normal"},"⊤")]),Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"k"),Q("mi",null,"n")])]),Q("mstyle",{mathcolor:"blue"},[Q("msqrt",null,[Q("mi",null,"d")])])]),Q("mo",{stretchy:"false"},"→"),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",{mathvariant:"bold-italic"},"q"),Q("mi",null,"m"),Q("mi",{mathvariant:"normal"},"⊤")]),Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"k"),Q("mi",null,"n")])]),Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"t")]),Q("mstyle",{mathcolor:"blue"},[Q("msqrt",null,[Q("mi",null,"d")])])])])])],-1))]),Q("mjx-container",a4,[(e(),l("svg",l4,t[518]||(t[518]=[a("",1)]))),t[519]||(t[519]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msqrt",null,[Q("mfrac",null,[Q("mn",null,"1"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"t")])])]),Q("mo",null,"="),Q("mn",null,"0.1"),Q("mo",null,"⋅"),Q("mi",null,"ln"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"L")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"+"),Q("mn",null,"1"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"1em"})]),Q("mo",{stretchy:"false"},"("),Q("mi",{mathvariant:"normal"},"注"),Q("mi",{mathvariant:"normal"},"意"),Q("mi",null,"："),Q("mn",null,"1"),Q("mtext",null,"为mscale系数"),Q("mo",{stretchy:"false"},")")])],-1))])])])]),t[767]||(t[767]=a("",4)),Q("div",e4,[t[554]||(t[554]=Q("div",{class:"custom-block-title"},"线性位置插值",-1)),t[555]||(t[555]=Q("p",null,[Q("strong",null,"背景")],-1)),Q("ul",null,[Q("li",null,[t[531]||(t[531]=T("RoPE训练长度L，")),t[532]||(t[532]=Q("code",null,"旋转弧度范围",-1)),t[533]||(t[533]=T()),Q("mjx-container",s4,[(e(),l("svg",m4,t[529]||(t[529]=[a("",1)]))),t[530]||(t[530]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mo",{stretchy:"false"},"["),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"0")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"L"),Q("mo",null,"−"),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",{stretchy:"false"},"]")])],-1))])])]),t[556]||(t[556]=Q("p",null,[Q("strong",null,"核心思想")],-1)),Q("ul",null,[Q("li",null,[t[538]||(t[538]=T("模型已能理解")),Q("mjx-container",d4,[(e(),l("svg",n4,t[534]||(t[534]=[a("",1)]))),t[535]||(t[535]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mo",{stretchy:"false"},"["),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"0")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"L"),Q("mo",null,"−"),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")"),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",{stretchy:"false"},"]")])],-1))]),t[539]||(t[539]=T("，使用该")),t[540]||(t[540]=Q("code",null,"弧度旋转范围",-1)),t[541]||(t[541]=T("表示")),t[542]||(t[542]=Q("code",null,"更长的长度范围",-1)),Q("mjx-container",o4,[(e(),l("svg",r4,t[536]||(t[536]=[a("",1)]))),t[537]||(t[537]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mo",{stretchy:"false"},"["),Q("mn",null,"0"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")]),Q("mo",null,"−"),Q("mn",null,"1")]),Q("mo",{stretchy:"false"},"]")])],-1))])])]),t[557]||(t[557]=Q("p",null,[Q("strong",null,"具体做法")],-1)),Q("ul",null,[Q("li",null,[t[552]||(t[552]=Q("p",null,[Q("code",null,"缩小"),T("每个位置的"),Q("code",null,"旋转弧度"),T("，让向量"),Q("code",null,"旋转的慢一些")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[546]||(t[546]=Q("code",null,"每个位置旋转弧度",-1)),t[547]||(t[547]=T("变成")),Q("strong",null,[t[545]||(t[545]=T("原来的")),Q("mjx-container",i4,[(e(),l("svg",h4,t[543]||(t[543]=[a("",1)]))),t[544]||(t[544]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mfrac",null,[Q("mi",null,"L"),Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])],-1))])]),t[548]||(t[548]=T("。"))])]),Q("li",null,[t[551]||(t[551]=Q("p",null,[Q("code",null,"长度扩大几倍"),T("，"),Q("code",null,"旋转弧度缩小几倍"),T("。")],-1)),Q("mjx-container",p4,[(e(),l("svg",g4,t[549]||(t[549]=[a("",1)]))),t[550]||(t[550]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mo",{stretchy:"false"},"→"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mi",null,"L"),Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mi",null,"L"),Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])],-1))])])])]),t[553]||(t[553]=Q("li",null,[Q("p",null,[T("在"),Q("code",null,"原来的弧度范围内"),T("，"),Q("code",null,"插入更多位置"),T("，由于线性变化，也称做"),Q("code",null,"线性插值"),T("。")])],-1))]),t[558]||(t[558]=a("",2))]),t[768]||(t[768]=Q("p",null,"扩展后，原[0,2048]弧度范围，可表示长度[0,4096]。线性位置插值。",-1)),t[769]||(t[769]=Q("img",{src:"https://pic1.zhimg.com/v2-bed081988267a439e0da99d7e94537ba_1440w.jpg",style:{display:"block",margin:"auto"},width:"70%"},null,-1)),t[770]||(t[770]=Q("p",null,"位置插值后，旋转速度变慢，周期变大、频率变慢。",-1)),t[771]||(t[771]=Q("img",{src:"https://pic3.zhimg.com/v2-eaf3db2ad07e24d6feb1268b9bdbcfae_1440w.jpg",style:{display:"block",margin:"auto"},width:"70%"},null,-1)),t[772]||(t[772]=Q("h3",{id:"ntk-aware-插值",tabindex:"-1"},[T("NTK-Aware 插值 "),Q("a",{class:"header-anchor",href:"#ntk-aware-插值","aria-label":'Permalink to "NTK-Aware 插值"'},"​")],-1)),Q("div",H4,[t[588]||(t[588]=a("",4)),Q("ul",null,[Q("li",null,[Q("p",null,[Q("strong",null,[t[561]||(t[561]=T("新增")),Q("mjx-container",u4,[(e(),l("svg",c4,t[559]||(t[559]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D6FC",d:"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z",style:{"stroke-width":"3"}})])])],-1)]))),t[560]||(t[560]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"α")])],-1))]),t[562]||(t[562]=T("参数"))]),t[563]||(t[563]=T("，在所有位置位置，")),t[564]||(t[564]=Q("code",null,"对base进行缩放",-1)),t[565]||(t[565]=T("。如放大100倍。"))]),Q("mjx-container",L4,[(e(),l("svg",w4,t[566]||(t[566]=[a("",1)]))),t[567]||(t[567]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mo",{stretchy:"false"},"→"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mtext",null,"base"),Q("mo",null,"⋅"),Q("mi",null,"α"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mo",{stretchy:"false"},"→"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"10000"),Q("mo",null,"⋅"),Q("mi",null,"α"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])],-1))]),t[568]||(t[568]=Q("ul",null,[Q("li",null,"调整后弧度和调整前弧度的倍数比。")],-1))])]),Q("mjx-container",y4,[(e(),l("svg",f4,t[569]||(t[569]=[a("",1)]))),t[570]||(t[570]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mfrac",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mtext",null,"base"),Q("mo",null,"⋅"),Q("mi",null,"α"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])]),Q("mrow",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mtext",null,"base"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])]),Q("mo",null,"="),Q("msup",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"α")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])]),Q("mo",null,"="),Q("mfrac",null,[Q("mn",null,"1"),Q("msup",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"α")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])])],-1))]),Q("ul",null,[Q("li",null,[Q("p",null,[t[573]||(t[573]=T("把外推程度定义成和组别i有关的函数")),Q("mjx-container",k4,[(e(),l("svg",x4,t[571]||(t[571]=[a("",1)]))),t[572]||(t[572]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"γ"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")")])],-1))])]),Q("mjx-container",M4,[(e(),l("svg",V4,t[574]||(t[574]=[a("",1)]))),t[575]||(t[575]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"m"),Q("mo",null,","),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mi",null,"g"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"m"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"⋅"),Q("mi",null,"γ"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"⋅"),Q("mi",null,"h"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")")])],-1))]),Q("mjx-container",Z4,[(e(),l("svg",b4,t[576]||(t[576]=[a("",1)]))),t[577]||(t[577]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"γ"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"{"),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:".2em"},[Q("mtr",null,[Q("mtd",null,[Q("mn",null,"1"),Q("mo",null,",")]),Q("mtd",null,[Q("mi",null,"i"),Q("mo",null,"="),Q("mn",null,"0")])]),Q("mtr",null,[Q("mtd",null,[Q("mo",{stretchy:"false"},"("),Q("mfrac",null,[Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")]),Q("mi",null,"L")]),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mfrac",null,[Q("mrow",null,[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"d")]),Q("mrow",null,[Q("mi",null,"d"),Q("mo",null,"−"),Q("mn",null,"2")])])])]),Q("mo",null,",")]),Q("mtd",null,[Q("mn",null,"0"),Q("mo",null,"<"),Q("mi",null,"i"),Q("mo",null,"<"),Q("mfrac",null,[Q("mi",null,"d"),Q("mn",null,"2")]),Q("mo",null,"−"),Q("mn",null,"1")])]),Q("mtr",null,[Q("mtd",null,[Q("mn",null,"0"),Q("mo",null,",")]),Q("mtd",null,[Q("mi",null,"i"),Q("mo",null,"="),Q("mfrac",null,[Q("mi",null,"d"),Q("mn",null,"2")]),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])])]),t[589]||(t[589]=a("",3)),Q("ul",null,[Q("li",null,[t[580]||(t[580]=T("Code LLaMA base=10000：")),Q("mjx-container",v4,[(e(),l("svg",D4,t[578]||(t[578]=[a("",1)]))),t[579]||(t[579]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"α"),Q("mo",null,"="),Q("mn",null,"100")])],-1))]),t[581]||(t[581]=T("，把base放大100倍。"))]),t[582]||(t[582]=Q("li",null,[T("不进行finetune时，"),Q("code",null,"NTK-Aware"),T("插值效果"),Q("code",null,"比线性插值更优"),T("。")],-1))]),t[590]||(t[590]=Q("p",null,[Q("strong",null,"缺点")],-1)),Q("ul",null,[Q("li",null,[t[587]||(t[587]=Q("p",null,[T("存在"),Q("code",null,"过度外推"),T("情况。")],-1)),Q("ul",null,[t[586]||(t[586]=Q("li",null,[Q("p",null,"比如一些低频分量，即使训练最长序列，也没办法经过完整周期。")],-1)),Q("li",null,[t[585]||(t[585]=Q("p",null,[T("对于这些分量，"),Q("code",null,"不应该进行任何外推"),T("，可能"),Q("code",null,"引入未见过的旋转角度"),T("。")],-1)),Q("mjx-container",A4,[(e(),l("svg",_4,t[583]||(t[583]=[a("",1)]))),t[584]||(t[584]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"λ"),Q("mi",null,"i")])])],-1))])])])])])]),t[773]||(t[773]=a("",7)),Q("div",j4,[t[659]||(t[659]=Q("div",{class:"custom-block-title"},"NTK-by-parts Interpolation",-1)),t[660]||(t[660]=Q("p",null,[Q("strong",null,"NTK-Aware缺点")],-1)),Q("ul",null,[Q("li",null,[t[595]||(t[595]=Q("p",null,[T("存在"),Q("code",null,"过度外推"),T("情况。")],-1)),Q("ul",null,[t[594]||(t[594]=Q("li",null,[Q("p",null,"比如一些低频分量，即使训练最长序列，也没办法经过完整周期。")],-1)),Q("li",null,[t[593]||(t[593]=Q("p",null,[T("对于这些分量，"),Q("code",null,"不应该进行任何外推"),T("，可能"),Q("code",null,"引入未见过的旋转角度"),T("。")],-1)),Q("mjx-container",C4,[(e(),l("svg",E4,t[591]||(t[591]=[a("",1)]))),t[592]||(t[592]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"λ"),Q("mi",null,"i")]),Q("mo",null,"="),Q("mn",null,"2"),Q("mi",null,"π"),Q("msup",null,[Q("mi",null,"b"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])]),Q("mo",null,"≥"),Q("mi",null,"L"),Q("mo",{stretchy:"false"},"→"),Q("mi",null,"i"),Q("mo",null,"≥"),Q("mfrac",null,[Q("mi",null,"d"),Q("mn",null,"2")]),Q("msub",null,[Q("mi",null,"log"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"base")])]),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mfrac",null,[Q("mi",null,"L"),Q("mrow",null,[Q("mn",null,"2"),Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},")")])],-1))])])])])]),t[661]||(t[661]=a("",3)),Q("ul",null,[Q("li",null,[Q("p",null,[t[598]||(t[598]=T("第i个分组的")),t[599]||(t[599]=Q("code",null,"旋转周期",-1)),t[600]||(t[600]=T(" 、")),t[601]||(t[601]=Q("code",null,"波长",-1)),t[602]||(t[602]=T("，")),Q("mjx-container",S4,[(e(),l("svg",B4,t[596]||(t[596]=[a("",1)]))),t[597]||(t[597]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"λ"),Q("mi",null,"i")])])])],-1))])]),Q("mjx-container",R4,[(e(),l("svg",N4,t[603]||(t[603]=[a("",1)]))),t[604]||(t[604]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"λ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"2"),Q("mi",null,"π")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"2"),Q("mi",null,"π")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])],-1))])]),Q("li",null,[Q("p",null,[t[607]||(t[607]=Q("strong",null,"序列长度",-1)),t[608]||(t[608]=T("和")),t[609]||(t[609]=Q("strong",null,"波长",-1)),t[610]||(t[610]=T("的")),t[611]||(t[611]=Q("code",null,"比值",-1)),t[612]||(t[612]=T("， ")),Q("mjx-container",O4,[(e(),l("svg",P4,t[605]||(t[605]=[a("",1)]))),t[606]||(t[606]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")")])])],-1))]),t[613]||(t[613]=T("，第i个分组")),t[614]||(t[614]=Q("code",null,"在训练长度内",-1)),t[615]||(t[615]=T("的")),t[616]||(t[616]=Q("code",null,"周期个数",-1)),t[617]||(t[617]=T(" 。"))])])]),Q("mjx-container",F4,[(e(),l("svg",I4,t[618]||(t[618]=[a("",1)]))),t[619]||(t[619]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"L")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"λ"),Q("mi",null,"i")])])])])],-1))]),t[662]||(t[662]=Q("p",null,[Q("strong",null,"高低频区分")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[622]||(t[622]=T("如果")),t[623]||(t[623]=Q("code",null,"周期个数较多",-1)),t[624]||(t[624]=T("，")),Q("mjx-container",z4,[(e(),l("svg",q4,t[620]||(t[620]=[a("",1)]))),t[621]||(t[621]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,">"),Q("mi",null,"β")])])],-1))]),t[625]||(t[625]=T("，")),t[626]||(t[626]=Q("code",null,"高频部分",-1)),t[627]||(t[627]=T("，则")),t[628]||(t[628]=Q("code",null,"做完全外推",-1)),t[629]||(t[629]=T("，无需改变。"))])]),Q("li",null,[Q("p",null,[t[632]||(t[632]=T("如果")),t[633]||(t[633]=Q("code",null,"周期个数较少",-1)),t[634]||(t[634]=T("，")),Q("mjx-container",X4,[(e(),l("svg",J4,t[630]||(t[630]=[a("",1)]))),t[631]||(t[631]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"<"),Q("mi",null,"α"),Q("mo",null,"="),Q("mn",null,"1")])])],-1))]),t[635]||(t[635]=T("，")),t[636]||(t[636]=Q("code",null,"低频部",-1)),t[637]||(t[637]=T("分，则")),t[638]||(t[638]=Q("code",null,"只做内插",-1)),t[639]||(t[639]=T("。"))])]),Q("li",null,[Q("p",null,[t[642]||(t[642]=T("如果")),t[643]||(t[643]=Q("code",null,"介于中间",-1)),t[644]||(t[644]=T("，")),Q("mjx-container",G4,[(e(),l("svg",K4,t[640]||(t[640]=[a("",1)]))),t[641]||(t[641]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"α"),Q("mo",null,"≤"),Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"<"),Q("mi",null,"β")])])],-1))]),t[645]||(t[645]=T("，")),t[646]||(t[646]=Q("code",null,"既做外推",-1)),t[647]||(t[647]=T("，")),t[648]||(t[648]=Q("code",null,"又做内插",-1)),t[649]||(t[649]=T("。"))]),t[652]||(t[652]=Q("ul",null,[Q("li",null,"外推程度")],-1)),Q("mjx-container",W4,[(e(),l("svg",Y4,t[650]||(t[650]=[a("",1)]))),t[651]||(t[651]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtext",null,"外推程度"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"γ"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"{"),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:".2em"},[Q("mtr",null,[Q("mtd",null,[Q("mn",null,"1"),Q("mo",null,",")]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"≥"),Q("mi",null,"β")])])]),Q("mtr",null,[Q("mtd",null,[Q("mfrac",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"α")]),Q("mrow",null,[Q("mi",null,"β"),Q("mo",null,"−"),Q("mi",null,"α")])])]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"α"),Q("mo",null,"<"),Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"<"),Q("mi",null,"β")])])]),Q("mtr",null,[Q("mtd",null,[Q("mn",null,"0"),Q("mo",null,",")]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"≤"),Q("mi",null,"α"),Q("mo",null,"="),Q("mn",null,"1")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])]),Q("li",null,[t[658]||(t[658]=Q("p",null,"命名",-1)),Q("ul",null,[Q("li",null,[Q("mjx-container",$4,[(e(),l("svg",U4,t[653]||(t[653]=[a("",1)]))),t[654]||(t[654]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"α"),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"β"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"slow")])]),Q("mo",null,"="),Q("mn",null,"1")])],-1))]),t[657]||(t[657]=T("，")),Q("mjx-container",Q6,[(e(),l("svg",t6,t[655]||(t[655]=[a("",1)]))),t[656]||(t[656]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"β"),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"β"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"fast")])]),Q("mo",null,"="),Q("mn",null,"32")])],-1))])])])])])]),t[774]||(t[774]=Q("h3",{id:"dynamic-ndk-插值",tabindex:"-1"},[T("Dynamic NDK 插值 "),Q("a",{class:"header-anchor",href:"#dynamic-ndk-插值","aria-label":'Permalink to "Dynamic NDK 插值"'},"​")],-1)),Q("div",T6,[t[681]||(t[681]=Q("div",{class:"custom-block-title"},"笔记",-1)),t[682]||(t[682]=Q("p",null,[Q("strong",null,"背景")],-1)),t[683]||(t[683]=Q("ul",null,[Q("li",null,[T("前面的方法优缺点 "),Q("ul",null,[Q("li",null,"超出训练长度时：插值比直接外推效果好"),Q("li",null,"在训练长度内时：推理表现比原模型差")])])],-1)),t[684]||(t[684]=Q("p",null,[Q("strong",null,"核心思想")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[665]||(t[665]=T("推理长度")),t[666]||(t[666]=Q("code",null,"小于训练长度",-1)),t[667]||(t[667]=T("时 ")),Q("mjx-container",a6,[(e(),l("svg",l6,t[663]||(t[663]=[a("",1)]))),t[664]||(t[664]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"l"),Q("mo",null,"≤"),Q("mi",null,"L")])],-1))]),t[668]||(t[668]=T("：")),t[669]||(t[669]=Q("code",null,"不插值",-1))])]),Q("li",null,[Q("p",null,[t[672]||(t[672]=T("推理长度")),t[673]||(t[673]=Q("code",null,"大于训练长度",-1)),t[674]||(t[674]=T("时 ")),Q("mjx-container",e6,[(e(),l("svg",s6,t[670]||(t[670]=[a("",1)]))),t[671]||(t[671]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"l"),Q("mo",null,">"),Q("mi",null,"L")])],-1))]),t[675]||(t[675]=T("："))]),t[680]||(t[680]=Q("ul",null,[Q("li",null,[T("每一步通过"),Q("code",null,"NTK-Aware 插值"),T("，"),Q("code",null,"动态放大base"),T("，"),Q("code",null,"l逐步+1"),T("。")])],-1)),Q("mjx-container",m6,[(e(),l("svg",d6,t[676]||(t[676]=[a("",1)]))),t[677]||(t[677]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mtext",null,"base"),Q("mo",null,"⋅"),Q("mi",null,"α"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])],-1))]),Q("mjx-container",n6,[(e(),l("svg",o6,t[678]||(t[678]=[a("",1)]))),t[679]||(t[679]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"α")]),Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"l")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"L")])]),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"d"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"d"),Q("mo",null,"−"),Q("mn",null,"2"),Q("mo",{stretchy:"false"},")")])])])])],-1))])])])]),t[775]||(t[775]=Q("h3",{id:"yarn",tabindex:"-1"},[T("YaRN "),Q("a",{class:"header-anchor",href:"#yarn","aria-label":'Permalink to "YaRN"'},"​")],-1)),t[776]||(t[776]=Q("h4",{id:"背景",tabindex:"-1"},[T("背景 "),Q("a",{class:"header-anchor",href:"#背景","aria-label":'Permalink to "背景"'},"​")],-1)),Q("div",r6,[t[698]||(t[698]=Q("div",{class:"custom-block-title"},"YaRN 背景",-1)),t[699]||(t[699]=Q("p",null,[Q("strong",null,"背景")],-1)),Q("ul",null,[t[697]||(t[697]=a("",2)),Q("li",null,[t[696]||(t[696]=Q("p",null,"内积为何变大",-1)),Q("ul",null,[Q("li",null,[t[687]||(t[687]=T("向量旋转不改变模长，q和k的")),t[688]||(t[688]=Q("code",null,"旋转弧度变小",-1)),t[689]||(t[689]=T("，导致")),t[690]||(t[690]=Q("code",null,"夹角",-1)),Q("mjx-container",i6,[(e(),l("svg",h6,t[685]||(t[685]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D6FE",d:"M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z",style:{"stroke-width":"3"}})])])],-1)]))),t[686]||(t[686]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"γ")])],-1))]),t[691]||(t[691]=Q("code",null,"变小",-1)),t[692]||(t[692]=T("，因此")),t[693]||(t[693]=Q("code",null,"内积会变大",-1))])]),Q("mjx-container",p6,[(e(),l("svg",g6,t[694]||(t[694]=[a("",1)]))),t[695]||(t[695]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"q"),Q("mo",null,"⋅"),Q("mi",null,"k"),Q("mo",null,"="),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("mi",null,"q"),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("mo",null,"⋅"),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("mi",null,"k"),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("mo",null,"⋅"),Q("mi",null,"cos"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",{stretchy:"false"},")")])],-1))])])])]),t[777]||(t[777]=Q("img",{src:"https://pic1.zhimg.com/v2-de3516800cb63707c5fac545e9426f82_1440w.jpg",style:{display:"block",margin:"auto"},width:"70%"},null,-1)),t[778]||(t[778]=Q("h4",{id:"核心思想",tabindex:"-1"},[T("核心思想 "),Q("a",{class:"header-anchor",href:"#核心思想","aria-label":'Permalink to "核心思想"'},"​")],-1)),Q("div",H6,[t[715]||(t[715]=Q("div",{class:"custom-block-title"},"YaRN 核心思想",-1)),t[716]||(t[716]=Q("p",null,[Q("strong",null,"核心思想")],-1)),Q("ul",null,[t[710]||(t[710]=a("",1)),Q("li",null,[t[708]||(t[708]=Q("p",null,[T("仅"),Q("code",null,"缩小低频部分"),T("的"),Q("code",null,"旋转弧度"),T("，且通过"),Q("code",null,"温度系数t"),T(),Q("code",null,"修正注意力分布")],-1)),t[709]||(t[709]=Q("ul",null,[Q("li",null,"将原来的注意力分数，除以温度t 即可")],-1)),Q("mjx-container",u6,[(e(),l("svg",c6,t[700]||(t[700]=[a("",1)]))),t[701]||(t[701]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",{mathvariant:"bold-italic"},"q"),Q("mi",null,"m"),Q("mi",{mathvariant:"normal"},"⊤")]),Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"k"),Q("mi",null,"n")])]),Q("mstyle",{mathcolor:"blue"},[Q("msqrt",null,[Q("mi",null,"d")])])]),Q("mo",{stretchy:"false"},"→"),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",{mathvariant:"bold-italic"},"q"),Q("mi",null,"m"),Q("mi",{mathvariant:"normal"},"⊤")]),Q("msub",null,[Q("mi",{mathvariant:"bold-italic"},"k"),Q("mi",null,"n")])]),Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"t")]),Q("mstyle",{mathcolor:"blue"},[Q("msqrt",null,[Q("mi",null,"d")])])])])])],-1))]),Q("ul",null,[Q("li",null,[t[706]||(t[706]=T("温度系数t由")),Q("mjx-container",L6,[(e(),l("svg",w6,t[702]||(t[702]=[a("",1)]))),t[703]||(t[703]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"L"),Q("mi",{mathvariant:"normal"},"和"),Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")])])],-1))]),t[707]||(t[707]=T("一起计算得来")),Q("mjx-container",y6,[(e(),l("svg",f6,t[704]||(t[704]=[a("",1)]))),t[705]||(t[705]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msqrt",null,[Q("mfrac",null,[Q("mn",null,"1"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"t")])])]),Q("mo",null,"="),Q("mn",null,"0.1"),Q("mo",null,"⋅"),Q("mi",null,"ln"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"L")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"+"),Q("mn",null,"1"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"1em"})]),Q("mo",{stretchy:"false"},"("),Q("mi",{mathvariant:"normal"},"注"),Q("mi",{mathvariant:"normal"},"意"),Q("mi",null,"："),Q("mn",null,"1"),Q("mtext",null,"为mscale系数"),Q("mo",{stretchy:"false"},")")])],-1))])])])])]),t[717]||(t[717]=Q("p",null,[Q("strong",null,"示例")],-1)),Q("ul",null,[Q("li",null,[Q("mjx-container",k6,[(e(),l("svg",x6,t[711]||(t[711]=[a("",1)]))),t[712]||(t[712]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"L"),Q("mo",null,"="),Q("mn",null,"2048"),Q("mo",null,","),Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")]),Q("mo",null,"="),Q("mn",null,"16384")])],-1))]),t[713]||(t[713]=T("，计算得t=0.6853 ")),t[714]||(t[714]=Q("ul",null,[Q("li",null,"t变大：注意力分布平滑，方差更小"),Q("li",null,"t变小：注意力分布更尖锐，区分度更大，方差变大"),Q("li",null,"t=0.6853，缓解注意力分布过于平滑的问题，让注意力分布方差更大")],-1))])])]),t[779]||(t[779]=Q("h4",{id:"deepseek-r1-yarn-配置",tabindex:"-1"},[T("DeepSeek R1 Yarn 配置 "),Q("a",{class:"header-anchor",href:"#deepseek-r1-yarn-配置","aria-label":'Permalink to "DeepSeek R1 Yarn 配置"'},"​")],-1)),Q("div",M6,[t[750]||(t[750]=Q("div",{class:"custom-block-title"},"Yarn 配置",-1)),t[751]||(t[751]=Q("p",null,[Q("strong",null,"关键配置")],-1)),Q("ul",null,[Q("li",null,[t[720]||(t[720]=Q("p",null,[T("基础RoPE旋转弧度："),Q("code",null,"rope_theta"),T(", "),Q("code",null,"self.base"),T(", "),Q("code",null,"10000"),T(" 。计算每个分量的"),Q("code",null,"旋转角频率"),T("。")],-1)),Q("mjx-container",V6,[(e(),l("svg",Z6,t[718]||(t[718]=[a("",1)]))),t[719]||(t[719]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])],-1))])]),Q("li",null,[t[745]||(t[745]=Q("p",null,[Q("code",null,"NTK-by-parts 外推")],-1)),Q("ul",null,[Q("li",null,[t[723]||(t[723]=Q("p",null,[T("外推总长度，L="),Q("code",null,"original_max_position_embeddings")],-1)),Q("mjx-container",b6,[(e(),l("svg",v6,t[721]||(t[721]=[a("",1)]))),t[722]||(t[722]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"L")]),Q("mo",null,"∗"),Q("mtext",null,"factor"),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"1em"})]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"1em"})]),Q("mn",null,"4096"),Q("mo",null,"∗"),Q("mn",null,"40"),Q("mo",null,"="),Q("mn",null,"163840")])],-1))])]),Q("li",null,[t[726]||(t[726]=Q("p",null,"旋转周期、波长",-1)),Q("mjx-container",D6,[(e(),l("svg",A6,t[724]||(t[724]=[a("",1)]))),t[725]||(t[725]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"λ"),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"2"),Q("mi",null,"π")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"2"),Q("mi",null,"π")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])])])],-1))])]),Q("li",null,[t[729]||(t[729]=Q("p",null,"周期个数",-1)),Q("mjx-container",_6,[(e(),l("svg",j6,t[727]||(t[727]=[a("",1)]))),t[728]||(t[728]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"L")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"λ"),Q("mi",null,"i")])])])])],-1))])]),Q("li",null,[Q("p",null,[t[734]||(t[734]=Q("code",null,"低频边界",-1)),t[735]||(t[735]=T("：")),Q("mjx-container",C6,[(e(),l("svg",E6,t[730]||(t[730]=[a("",1)]))),t[731]||(t[731]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"α"),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"β"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"slow")])]),Q("mo",null,"="),Q("mn",null,"1")])])],-1))]),t[736]||(t[736]=T("，")),t[737]||(t[737]=Q("code",null,"高频边界",-1)),t[738]||(t[738]=T("：")),Q("mjx-container",S6,[(e(),l("svg",B6,t[732]||(t[732]=[a("",1)]))),t[733]||(t[733]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"β"),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"β"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"fast")])]),Q("mo",null,"="),Q("mn",null,"32")])])],-1))])])])]),Q("mjx-container",R6,[(e(),l("svg",N6,t[739]||(t[739]=[a("",1)]))),t[740]||(t[740]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtext",null,"外推程度"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"γ"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"{"),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:".2em"},[Q("mtr",null,[Q("mtd",null,[Q("mn",null,"1"),Q("mo",null,",")]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"≥"),Q("mi",null,"β")])])]),Q("mtr",null,[Q("mtd",null,[Q("mfrac",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"α")]),Q("mrow",null,[Q("mi",null,"β"),Q("mo",null,"−"),Q("mi",null,"α")])])]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"α"),Q("mo",null,"<"),Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"<"),Q("mi",null,"β")])])]),Q("mtr",null,[Q("mtd",null,[Q("mn",null,"0"),Q("mo",null,",")]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"i"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"≤"),Q("mi",null,"α"),Q("mo",null,"="),Q("mn",null,"1")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))]),Q("ul",null,[Q("li",null,[t[743]||(t[743]=Q("p",null,[T("对低频做"),Q("code",null,"线性插值"),T("。")],-1)),Q("mjx-container",O6,[(e(),l("svg",P6,t[741]||(t[741]=[a("",1)]))),t[742]||(t[742]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"i")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mi",null,"L"),Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"m")]),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mtext",null,"base"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"−"),Q("mn",null,"2"),Q("mi",null,"i"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"d")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mi",null,"L"),Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])],-1))])]),t[744]||(t[744]=Q("li",null,[Q("p",null,"对高频做外推。")],-1))])]),Q("li",null,[t[748]||(t[748]=Q("p",null,[Q("code",null,"温度系数：修正注意力")],-1)),t[749]||(t[749]=Q("ul",null,[Q("li",null,"根据新旧长度长度计算温度系数")],-1)),Q("mjx-container",F6,[(e(),l("svg",I6,t[746]||(t[746]=[a("",1)]))),t[747]||(t[747]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msqrt",null,[Q("mfrac",null,[Q("mn",null,"1"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"t")])])]),Q("mo",null,"="),Q("mn",null,"0.1"),Q("mo",null,"⋅"),Q("mi",null,"ln"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mo",{stretchy:"false"},"("),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"L"),Q("mi",{"data-mjx-alternate":"1"},"′")])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"L")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"+"),Q("mn",null,"1"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"1em"})]),Q("mo",{stretchy:"false"},"("),Q("mi",{mathvariant:"normal"},"注"),Q("mi",{mathvariant:"normal"},"意"),Q("mi",null,"："),Q("mn",null,"1"),Q("mtext",null,"为mscale系数"),Q("mo",{stretchy:"false"},")")])],-1))])])])]),t[780]||(t[780]=a("",4))])}const $6=s(m,[["render",z6]]);export{Y6 as __pageData,$6 as default};

import{_ as r,c as s,o as e,a2 as o,j as t,a as i}from"./chunks/framework.CJy6NSJ1.js";const y=JSON.parse('{"title":"Kimi 系列","description":"","frontmatter":{"title":"Kimi 系列","date":"2025-07-15T19:53:37.000Z","create":"2025-07-15T19:53:37.000Z","categories":[],"tags":[]},"headers":[],"relativePath":"posts/llm/industry/mainllm/01-kimi-series.md","filePath":"posts/llm/industry/mainllm/01-kimi-series.md","lastUpdated":null}'),n={name:"posts/llm/industry/mainllm/01-kimi-series.md"},a={class:"custom-block danger"},d={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.222ex",height:"2.195ex",role:"img",focusable:"false",viewBox:"0 -683 3192.3 970.2","aria-hidden":"true"},m={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.029ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.17ex",height:"1.005ex",role:"img",focusable:"false",viewBox:"0 -431 517 444","aria-hidden":"true"},Q={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.222ex",height:"2.195ex",role:"img",focusable:"false",viewBox:"0 -683 3192.3 970.2","aria-hidden":"true"},T={class:"custom-block tip"},p={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},k={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.489ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.229ex",height:"1.486ex",role:"img",focusable:"false",viewBox:"0 -441 543 657","aria-hidden":"true"};function b(h,l,v,w,f,x){return e(),s("div",null,[l[41]||(l[41]=o("",7)),t("div",a,[l[31]||(l[31]=o("",4)),t("ul",null,[t("li",null,[l[12]||(l[12]=t("code",null,"Muon优化器",-1)),t("ul",null,[l[10]||(l[10]=t("li",null,[i("目的：在相同计算资源和参数的条件下，"),t("strong",null,"尽可能多"),i("的学到信息。")],-1)),l[11]||(l[11]=t("li",null,[i("优点："),t("strong",null,"token效率高")],-1)),t("li",null,[l[7]||(l[7]=i("缺点：训练不稳定，容易出现")),l[8]||(l[8]=t("code",null,"注意力logits爆炸",-1)),l[9]||(l[9]=i("现象😓 ")),t("ul",null,[t("li",null,[l[2]||(l[2]=i("本质是")),l[3]||(l[3]=t("strong",null,"Query和Key",-1)),l[4]||(l[4]=i("的权")),t("mjx-container",d,[(e(),s("svg",g,l[0]||(l[0]=[o("",1)]))),l[1]||(l[1]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"W"),t("mi",null,"q")]),t("mo",null,","),t("msub",null,[t("mi",null,"W"),t("mi",null,"k")])])])],-1))]),l[5]||(l[5]=t("strong",null,"增长过快",-1)),l[6]||(l[6]=i("导致的。"))])])])])]),t("li",null,[l[30]||(l[30]=t("code",null,"QK-Clip",-1)),t("ul",null,[t("li",null,[l[28]||(l[28]=i("核心 ")),t("ul",null,[t("li",null,[l[15]||(l[15]=i("实时监控")),l[16]||(l[16]=t("strong",null,"每个头的最大logits",-1)),l[17]||(l[17]=i("是否超过")),l[18]||(l[18]=t("strong",null,"阈值",-1)),t("mjx-container",m,[(e(),s("svg",u,l[13]||(l[13]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D70F",d:"M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z",style:{"stroke-width":"3"}})])])],-1)]))),l[14]||(l[14]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"τ")])],-1))]),l[19]||(l[19]=i("(论文是100)"))]),t("li",null,[l[22]||(l[22]=i("超过阈值：重新")),l[23]||(l[23]=t("strong",null,"缩放",-1)),l[24]||(l[24]=i("/裁切 (")),l[25]||(l[25]=t("code",null,"按比例缩小",-1)),l[26]||(l[26]=i(") 对应注意力头的")),t("mjx-container",Q,[(e(),s("svg",c,l[20]||(l[20]=[o("",1)]))),l[21]||(l[21]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"W"),t("mi",null,"q")]),t("mo",null,","),t("msub",null,[t("mi",null,"W"),t("mi",null,"k")])])])],-1))])]),l[27]||(l[27]=t("li",null,[i("最小化"),t("strong",null,"per-head干预"),i("：只有1小部分注意力头会爆炸💥")],-1))])]),l[29]||(l[29]=t("li",null,"优点：解决了注意力logits爆炸问题",-1))])])])]),l[42]||(l[42]=o("",19)),t("div",T,[l[39]||(l[39]=t("div",{class:"custom-block-title"},"稳健RL训练",-1)),l[40]||(l[40]=t("p",null,[t("code",null,"Reinforce算法"),i("+"),t("code",null,"关键策略"),i("来保证训练稳定性")],-1)),t("ul",null,[l[36]||(l[36]=t("li",null,"严格的on-policy训练：",-1)),l[37]||(l[37]=t("li",null,"负样本控制：负样本降低模型输出概率可能导致熵崩溃，策略丢弃部分负样本，使模型能在长周期训练。",-1)),l[38]||(l[38]=t("li",null,"结果导向的奖励机制：格式奖励+正确性奖励。",-1)),t("li",null,[l[34]||(l[34]=i("效率激励：使用奖励衰减因子")),t("mjx-container",p,[(e(),s("svg",k,l[32]||(l[32]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D6FE",d:"M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z",style:{"stroke-width":"3"}})])])],-1)]))),l[33]||(l[33]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"γ")])],-1))]),l[35]||(l[35]=i("，鼓励模型探索短且高效的路径。"))])])]),l[43]||(l[43]=o("",29))])}const R=r(n,[["render",b]]);export{y as __pageData,R as default};

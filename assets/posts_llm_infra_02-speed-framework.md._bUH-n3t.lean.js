import{_ as Q,c as e,o as n,ah as a,j as t,a as l}from"./chunks/framework.CvbyeFFO.js";const E1=JSON.parse('{"title":"åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶","description":"","frontmatter":{"title":"åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶","date":"2025-07-17T19:30:29.000Z","create":"2025-07-17T19:30:29.000Z","categories":["llm-infra"],"tags":["æµ®ç‚¹æ•°","æœ‰åæŒ‡æ•°","FP32","FP16","BF16","æ¢¯åº¦æº¢å‡º","èˆå…¥è¯¯å·®","åŠ¨æ€æŸå¤±ç¼©æ”¾","æ··åˆç²¾åº¦ä¼˜åŒ–","FP32æƒé‡å¤‡ä»½","æ¨¡å‹æ˜¾å­˜åˆ†æ","å‚æ•°","æ¢¯åº¦","ä¼˜åŒ–å™¨","æ¿€æ´»å€¼","DeepSpeed","ZeRO-DP","Zero1","Zero2","Zero3","Zero-Offload"]},"headers":[],"relativePath":"posts/llm/infra/02-speed-framework.md","filePath":"posts/llm/infra/02-speed-framework.md","lastUpdated":1761231250000}'),i={name:"posts/llm/infra/02-speed-framework.md"},T={class:"custom-block important"},o={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.22ex",height:"2.072ex",role:"img",focusable:"false",viewBox:"0 -833.9 3633.4 915.9","aria-hidden":"true"},d={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.574ex",height:"2.072ex",role:"img",focusable:"false",viewBox:"0 -833.9 4673.8 915.9","aria-hidden":"true"},p={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.34ex",height:"2.072ex",role:"img",focusable:"false",viewBox:"0 -833.9 5896.2 915.9","aria-hidden":"true"},g={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.574ex",height:"2.072ex",role:"img",focusable:"false",viewBox:"0 -833.9 4673.8 915.9","aria-hidden":"true"},k={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"3.364ex",height:"1.885ex",role:"img",focusable:"false",viewBox:"0 -833.2 1486.7 833.2","aria-hidden":"true"},w={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.023ex",height:"2.072ex",role:"img",focusable:"false",viewBox:"0 -833.9 16364.3 915.9","aria-hidden":"true"},y={class:"custom-block tip"},f={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},H={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"4.163ex",height:"1.887ex",role:"img",focusable:"false",viewBox:"0 -833.9 1840.2 833.9","aria-hidden":"true"},V={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.293ex",height:"2.09ex",role:"img",focusable:"false",viewBox:"0 -841.7 4549.4 923.7","aria-hidden":"true"},b={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"3.364ex",height:"1.885ex",role:"img",focusable:"false",viewBox:"0 -833.2 1486.7 833.2","aria-hidden":"true"},A={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"4.163ex",height:"1.904ex",role:"img",focusable:"false",viewBox:"0 -841.7 1840.2 841.7","aria-hidden":"true"},v={class:"custom-block info"},_={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"4.163ex",height:"1.904ex",role:"img",focusable:"false",viewBox:"0 -841.7 1840.2 841.7","aria-hidden":"true"},C={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},D={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"2.152ex",height:"1.932ex",role:"img",focusable:"false",viewBox:"0 -853.7 951.4 853.7","aria-hidden":"true"},E={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"2.152ex",height:"1.932ex",role:"img",focusable:"false",viewBox:"0 -853.7 951.4 853.7","aria-hidden":"true"},S={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"2.919ex",height:"1.904ex",role:"img",focusable:"false",viewBox:"0 -841.7 1290.1 841.7","aria-hidden":"true"},j={class:"custom-block danger"},q={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},R={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.76ex",height:"1.545ex",role:"img",focusable:"false",viewBox:"0 -683 778 683","aria-hidden":"true"},I={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.489ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.229ex",height:"1.486ex",role:"img",focusable:"false",viewBox:"0 -441 543 657","aria-hidden":"true"},N={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},G={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.149ex"},xmlns:"http://www.w3.org/2000/svg",width:"58.686ex",height:"5.43ex",role:"img",focusable:"false",viewBox:"0 -1450 25939.3 2400","aria-hidden":"true"},O={class:"custom-block caution"},J={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.546ex",height:"2.213ex",role:"img",focusable:"false",viewBox:"0 -683 5987.4 978","aria-hidden":"true"},X={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.166ex",height:"1.902ex",role:"img",focusable:"false",viewBox:"0 -683 1399.6 840.8","aria-hidden":"true"},W={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.174ex",height:"2.213ex",role:"img",focusable:"false",viewBox:"0 -683 2287 978","aria-hidden":"true"},Y={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.224ex",height:"2.213ex",role:"img",focusable:"false",viewBox:"0 -683 3192.8 978","aria-hidden":"true"},s1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.166ex",height:"1.902ex",role:"img",focusable:"false",viewBox:"0 -683 1399.6 840.8","aria-hidden":"true"},a1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},e1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.416ex",height:"2.737ex",role:"img",focusable:"false",viewBox:"0 -864.9 1067.9 1209.9","aria-hidden":"true"},n1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Q1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.416ex",height:"2.737ex",role:"img",focusable:"false",viewBox:"0 -864.9 1067.9 1209.9","aria-hidden":"true"},i1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.018ex",height:"2.737ex",role:"img",focusable:"false",viewBox:"0 -864.9 7079.9 1209.9","aria-hidden":"true"},o1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.403ex",height:"2.213ex",role:"img",focusable:"false",viewBox:"0 -683 1062.3 978","aria-hidden":"true"},d1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.416ex",height:"2.737ex",role:"img",focusable:"false",viewBox:"0 -864.9 1067.9 1209.9","aria-hidden":"true"},p1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.416ex",height:"2.737ex",role:"img",focusable:"false",viewBox:"0 -864.9 1067.9 1209.9","aria-hidden":"true"},g1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.984ex",height:"2.737ex",role:"img",focusable:"false",viewBox:"0 -864.9 9716.8 1209.9","aria-hidden":"true"},k1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.445ex",height:"2.195ex",role:"img",focusable:"false",viewBox:"0 -683 1080.7 970.2","aria-hidden":"true"},w1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.416ex",height:"2.737ex",role:"img",focusable:"false",viewBox:"0 -864.9 1067.9 1209.9","aria-hidden":"true"},y1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"22.948ex",height:"2.737ex",role:"img",focusable:"false",viewBox:"0 -864.9 10143.1 1209.9","aria-hidden":"true"},H1={class:"custom-block tip"},V1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.416ex",height:"2.737ex",role:"img",focusable:"false",viewBox:"0 -864.9 1067.9 1209.9","aria-hidden":"true"},b1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.416ex",height:"2.737ex",role:"img",focusable:"false",viewBox:"0 -864.9 1067.9 1209.9","aria-hidden":"true"};function A1(M1,s,v1,_1,Z1,C1){return n(),e("div",null,[s[221]||(s[221]=a("",6)),t("div",T,[s[38]||(s[38]=t("div",{class:"custom-block-title"},"æµ®ç‚¹æ•°(ä¸‰è¦ç´ +FP64+FP32)",-1)),s[39]||(s[39]=t("p",null,[t("strong",null,"1. æµ®ç‚¹æ•°ä¸‰è¦ç´ "),l("ğŸ¦")],-1)),t("ul",null,[s[37]||(s[37]=t("li",null,[t("strong",null,"ç¬¦å·ä¸ºS"),l("ï¼š0æ­£ï¼Œ1è´Ÿ")],-1)),t("li",null,[s[21]||(s[21]=t("strong",null,"æŒ‡æ•°ä½E",-1)),s[22]||(s[22]=l("ï¼šå®é™…")),s[23]||(s[23]=t("strong",null,"æœ‰åæŒ‡æ•°",-1)),s[24]||(s[24]=l("=")),s[25]||(s[25]=t("code",null,"å­˜å‚¨æŒ‡æ•°å€¼-åç§»é‡",-1)),s[26]||(s[26]=l(" â­ï¼Œ2ä½åº• ")),t("ul",null,[s[19]||(s[19]=t("li",null,[l("ä¸ºä½•éœ€è¦æœ‰åç½®æŒ‡æ•°ï¼š"),t("strong",null,"æŒ‡æ•°éœ€è¦æœ‰æ­£æœ‰è´Ÿ"),l("ï¼Œå‡å»åç½®å€¼å°±èƒ½å˜æœ‰ç¬¦å·æ•´æ•°ï¼ŒåšèŒƒå›´å¹³è¡¡")],-1)),t("li",null,[s[11]||(s[11]=l("åç½®å€¼å¦‚ä½•è®¡ç®—ï¼š")),t("strong",null,[t("mjx-container",o,[(n(),e("svg",r,s[0]||(s[0]=[a("",1)]))),s[1]||(s[1]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mo",null,"âˆ’"),t("mn",null,"1")])]),t("mo",null,"âˆ’"),t("mn",null,"1")])],-1))])]),s[12]||(s[12]=l("ï¼ŒIEEE754")),s[13]||(s[13]=t("strong",null,"è§„å®šè¯¥ä½ç½®å€¼ä½0ï¼Œå¤§äºå…¶æ˜¯æ­£æ•°ï¼Œå°äºå…¶æ˜¯è´Ÿæ•°",-1)),t("ul",null,[t("li",null,[s[4]||(s[4]=l("FP32ï¼š")),t("mjx-container",d,[(n(),e("svg",m,s[2]||(s[2]=[a("",1)]))),s[3]||(s[3]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"8"),t("mo",null,"âˆ’"),t("mn",null,"1")])]),t("mo",null,"="),t("mn",null,"127")])],-1))])]),t("li",null,[s[7]||(s[7]=l("FP16ï¼š")),t("mjx-container",p,[(n(),e("svg",h,s[5]||(s[5]=[a("",1)]))),s[6]||(s[6]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"5"),t("mo",null,"âˆ’"),t("mn",null,"1")])]),t("mo",null,"âˆ’"),t("mn",null,"1"),t("mo",null,"="),t("mn",null,"15")])],-1))])]),t("li",null,[s[10]||(s[10]=l("BF16ï¼š")),t("mjx-container",g,[(n(),e("svg",u,s[8]||(s[8]=[a("",1)]))),s[9]||(s[9]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"8"),t("mo",null,"âˆ’"),t("mn",null,"1")])]),t("mo",null,"="),t("mn",null,"127")])],-1))])])])]),t("li",null,[s[16]||(s[16]=l("å¦‚ï¼ŒFP32æ˜¯127ï¼ŒæŒ‡æ•°éƒ¨åˆ†æ˜¯01111100ï¼Œå®é™…æŒ‡æ•°ï¼š")),s[17]||(s[17]=t("code",null,"124-127=-3",-1)),s[18]||(s[18]=l("ï¼Œå³")),t("mjx-container",k,[(n(),e("svg",x,s[14]||(s[14]=[a("",1)]))),s[15]||(s[15]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"âˆ’"),t("mn",null,"3")])])])])],-1))])]),s[20]||(s[20]=a("",2))])]),t("li",null,[s[31]||(s[31]=t("strong",null,"å°¾æ•°ä½M",-1)),s[32]||(s[32]=l("ï¼šæœ‰æ•ˆæ•°å­—ï¼Œ")),s[33]||(s[33]=t("code",null,"ç²¾åº¦",-1)),s[34]||(s[34]=l("ï¼›å®é™…å°¾æ•°=")),s[35]||(s[35]=t("code",null,"1+å°¾æ•°éƒ¨åˆ†",-1)),s[36]||(s[36]=l("ï¼Œ ")),t("ul",null,[s[30]||(s[30]=t("li",null,"å› ä¸ºæ ‡å‡†è®¾è®¡ä»é¦–ä½ä»1å¼€å§‹ï¼Œä¸è¶³çš„éœ€è¦å°æ•°ç‚¹å³ç§»ã€‚",-1)),t("li",null,[s[29]||(s[29]=l("æ¯”å¦‚å°¾æ•°éƒ¨åˆ†æ˜¯11000..ï¼Œå®é™…å°¾æ•°=")),t("mjx-container",w,[(n(),e("svg",c,s[27]||(s[27]=[a("",1)]))),s[28]||(s[28]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"1"),t("mo",null,"+"),t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"âˆ’"),t("mn",null,"1")])]),t("mo",null,"+"),t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"âˆ’"),t("mn",null,"2")])]),t("mo",null,"="),t("mn",null,"1"),t("mo",null,"+"),t("mn",null,"0.5"),t("mo",null,"+"),t("mn",null,"0.25"),t("mo",null,"="),t("mn",null,"1.75")])],-1))])])])])]),s[40]||(s[40]=t("p",null,[t("strong",null,"2. å•ç²¾åº¦+åŒç²¾åº¦FP32/FP64"),l("ğŸ”")],-1)),s[41]||(s[41]=t("ul",null,[t("li",null,[l("åŒç²¾åº¦ï¼ŒFP64ï¼šå…±64ä½ï¼Œ"),t("code",null,"1 + 11 + 52"),l("ã€‚8ä¸ªå­—èŠ‚ã€‚")]),t("li",null,[t("strong",null,"å•ç²¾åº¦ï¼ŒFP32"),l("ï¼šå…±32ä½ï¼Œ"),t("code",null,"1 + 8 + 23"),l("ï¼ŒæŒ‡æ•°ä½8ä½ã€‚4ä¸ªå­—èŠ‚ã€‚")])],-1))]),s[222]||(s[222]=t("h4",{id:"fp16å’Œbf16",tabindex:"-1"},[l("FP16å’ŒBF16 "),t("a",{class:"header-anchor",href:"#fp16å’Œbf16","aria-label":'Permalink to "FP16å’ŒBF16"'},"â€‹")],-1)),t("div",y,[s[68]||(s[68]=t("div",{class:"custom-block-title"},"FP16+BF16",-1)),s[69]||(s[69]=t("p",null,[t("strong",null,"3. åŠç²¾åº¦FP16"),l("ğŸ± ğŸš€")],-1)),t("ul",null,[s[66]||(s[66]=a("",2)),t("li",null,[s[65]||(s[65]=t("strong",null,"ç¼ºç‚¹",-1)),t("ul",null,[s[64]||(s[64]=t("li",null,[t("code",null,"æ•°å€¼ä¸‹æº¢æˆ–ä¸Šæº¢é—®é¢˜"),l("ï¼šæ•°å€¼ä»…"),t("code",null,"5ä½"),l("èŒƒå›´æœ‰é™ "),t("ul",null,[t("li",null,[l("è®­ç»ƒ"),t("strong",null,"åæœŸæ¢¯åº¦å¾ˆå°"),l("ï¼Œä¹˜ä»¥å­¦ä¹ ç‡åä¼šæ›´å°")])])],-1)),t("li",null,[s[60]||(s[60]=t("code",null,"ç²¾åº¦è¾ƒä½+èˆå…¥è¯¯å·®é—®é¢˜",-1)),s[61]||(s[61]=l("ï¼šå°¾æ•°ä½ä»…")),s[62]||(s[62]=t("code",null,"10",-1)),s[63]||(s[63]=l("ä½ ")),t("ul",null,[t("li",null,[s[51]||(s[51]=l("ğŸ”‘FP16")),t("strong",null,[s[44]||(s[44]=l("æœ€å°é—´éš”ä¸º")),t("mjx-container",f,[(n(),e("svg",H,s[42]||(s[42]=[a("",1)]))),s[43]||(s[43]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"âˆ’"),t("mn",null,"13")])])])],-1))])]),s[52]||(s[52]=l("ï¼Œ")),s[53]||(s[53]=t("strong",null,"æƒé‡+æ¢¯åº¦",-1)),s[54]||(s[54]=l("=")),t("mjx-container",V,[(n(),e("svg",L,s[45]||(s[45]=[a("",1)]))),s[46]||(s[46]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"âˆ’"),t("mn",null,"3")])]),t("mo",null,"+"),t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"âˆ’"),t("mn",null,"14")])])])])],-1))]),s[55]||(s[55]=l("ï¼Œ")),s[56]||(s[56]=t("strong",null,"ä»ç„¶ç­‰äº",-1)),t("mjx-container",b,[(n(),e("svg",B,s[47]||(s[47]=[a("",1)]))),s[48]||(s[48]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"âˆ’"),t("mn",null,"3")])])])])],-1))]),s[57]||(s[57]=l("ï¼Œ")),s[58]||(s[58]=t("strong",null,"è¡¨è¾¾ä¸äº†",-1)),t("mjx-container",A,[(n(),e("svg",M,s[49]||(s[49]=[a("",1)]))),s[50]||(s[50]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"âˆ’"),t("mn",null,"14")])])])])],-1))])]),s[59]||(s[59]=t("li",null,[t("strong",null,"æ¢¯åº¦æ¶ˆå¤±äº†"),l("â€¼ï¸")],-1))])])])]),s[67]||(s[67]=t("li",null,[l("è§£æ³• "),t("ul",null,[t("li",null,[t("code",null,"åŠ¨æ€æŸå¤±ç¼©æ”¾"),l("(Dynamic Loss Scaling)")]),t("li",null,[t("code",null,"æ··åˆç²¾åº¦ä¼˜åŒ–"),l("(Mixed Precision Optimizer)ç­‰")])])],-1))]),s[70]||(s[70]=a("",2))]),s[223]||(s[223]=a("",15)),t("div",v,[s[104]||(s[104]=a("",6)),t("ul",null,[t("li",null,[s[79]||(s[79]=l("èƒŒæ™¯ ")),t("ul",null,[s[78]||(s[78]=t("li",null,[l("è§£å†³fp16å¸¦æ¥çš„"),t("code",null,"æ¢¯åº¦ä¸‹æº¢å‡ºé—®é¢˜"),l("ï¼Œä¿ç•™losså…³é”®ä¿¡æ¯")],-1)),t("li",null,[s[73]||(s[73]=l("è®­ç»ƒ")),s[74]||(s[74]=t("strong",null,"åæœŸæ¢¯åº¦ç‰¹åˆ«å°",-1)),s[75]||(s[75]=l("ï¼š67%æ¢¯åº¦ < ")),t("mjx-container",_,[(n(),e("svg",Z,s[71]||(s[71]=[a("",1)]))),s[72]||(s[72]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"âˆ’"),t("mn",null,"24")])])])],-1))]),s[76]||(s[76]=l("ï¼Œ")),s[77]||(s[77]=t("code",null,"å¦‚æœç”¨fp16ï¼Œåˆ™å…¨ä¸º0",-1))])])]),t("li",null,[s[94]||(s[94]=l("æ–¹æ³• ")),t("ul",null,[s[93]||(s[93]=t("li",null,[t("strong",null,"å¯¹lossè¿›è¡Œscale"),l("ï¼Œ"),t("strong",null,"é“¾å¼æ³•åˆ™"),l("åŸç†ï¼Œä¼šä¼ å¯¼åˆ°æ¯ä¸ªæ¢¯åº¦ï¼Œ"),t("strong",null,"æ¢¯åº¦å¹³ç§»åˆ°fp16åŒºé—´"),l("ã€‚")],-1)),t("li",null,[s[84]||(s[84]=t("code",null,"Scale UP",-1)),s[85]||(s[85]=l("ï¼š")),t("strong",null,[s[82]||(s[82]=l("losså¢å¤§")),t("mjx-container",C,[(n(),e("svg",D,s[80]||(s[80]=[a("",1)]))),s[81]||(s[81]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mi",null,"k")])])],-1))]),s[83]||(s[83]=l("å€"))]),s[86]||(s[86]=l("ï¼›"))]),t("li",null,[s[91]||(s[91]=t("code",null,"Scale Down",-1)),s[92]||(s[92]=l("ï¼š")),t("strong",null,[s[89]||(s[89]=l("æƒé‡æ¢¯åº¦ç¼©å°")),t("mjx-container",E,[(n(),e("svg",P,s[87]||(s[87]=[a("",1)]))),s[88]||(s[88]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mi",null,"k")])])],-1))]),s[90]||(s[90]=l("å€"))])])])]),t("li",null,[s[103]||(s[103]=t("strong",null,"Dynamic Loss Scale",-1)),t("ul",null,[t("li",null,[s[98]||(s[98]=t("strong",null,"å‰æœŸ",-1)),s[99]||(s[99]=l("ï¼šä½¿ç”¨")),t("strong",null,[s[97]||(s[97]=l("å¤§ç¼©æ”¾å› å­")),t("mjx-container",S,[(n(),e("svg",F,s[95]||(s[95]=[a("",1)]))),s[96]||(s[96]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"24")])])])],-1))])]),s[100]||(s[100]=l("ï¼Œåˆ¤æ–­æ˜¯å¦æ¢¯åº¦æº¢å‡º ")),s[101]||(s[101]=t("ul",null,[t("li",null,"æ— æ¢¯åº¦æº¢å‡ºï¼šä¸è°ƒæ•´ç¼©æ”¾å› å­ï¼Œç»§ç»­è¿­ä»£"),t("li",null,[t("strong",null,"æœ‰æ¢¯åº¦æº¢å‡º"),l("ï¼š"),t("strong",null,"ç¼©æ”¾å› å­å‡åŠ"),l("ï¼Œé‡æ–°ç¡®è®¤ç¼©æ”¾å› å­æƒ…å†µï¼Œç›´åˆ°ä¸æº¢å‡º")])],-1))]),s[102]||(s[102]=t("li",null,[t("strong",null,"åæœŸ"),l("ï¼šlossç¨³å®šã€æ¢¯åº¦å¹…åº¦å˜å°ï¼Œå¯ä»¥ä½¿ç”¨æ›´"),t("strong",null,"é«˜ç¼©æ”¾å› å­é˜²æ­¢æ•°æ®å†æ¬¡ä¸‹æº¢"),l("ã€‚")],-1))])])]),s[105]||(s[105]=a("",6))]),s[224]||(s[224]=a("",5)),t("div",j,[s[122]||(s[122]=t("div",{class:"custom-block-title"},"æ¨¡å‹æ˜¾å­˜å ç”¨(æ··åˆæ¢¯åº¦)",-1)),t("p",null,[s[108]||(s[108]=t("strong",null,"å…·ä½“æ˜¾å­˜å ç”¨é¡¹",-1)),s[109]||(s[109]=l(" (æ¨¡å‹å‚æ•°ä¸ºmæˆ–")),t("mjx-container",q,[(n(),e("svg",R,s[106]||(s[106]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"3A8",d:"M340 622Q338 623 335 625T331 629T325 631T314 634T298 635T274 636T239 637H212V683H224Q248 680 389 680T554 683H566V637H539Q479 637 464 635T439 622L438 407Q438 192 439 192Q443 193 449 195T474 207T507 232T536 276T557 344Q560 365 562 417T573 493Q587 536 620 544Q627 546 671 546H715L722 540V515Q714 509 708 509Q680 505 671 476T658 392T644 307Q599 177 451 153L438 151V106L439 61Q446 54 451 52T476 48T539 46H566V0H554Q530 3 389 3T224 0H212V46H239Q259 46 273 46T298 47T314 48T325 51T331 54T335 57T340 61V151Q126 178 117 406Q115 503 69 509Q55 509 55 526Q55 541 59 543T86 546H107H120Q150 546 161 543T184 528Q198 514 204 493Q212 472 213 420T226 316T272 230Q287 216 303 207T330 194L339 192Q340 192 340 407V622Z",style:{"stroke-width":"3"}})])])],-1)]))),s[107]||(s[107]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",{mathvariant:"normal"},"Î¨")])],-1))]),s[110]||(s[110]=l(")"))]),t("ul",null,[s[119]||(s[119]=a("",3)),t("li",null,[s[118]||(s[118]=t("p",null,[t("strong",null,"æ¿€æ´»å€¼"),l("(Activation)")],-1)),t("ul",null,[s[116]||(s[116]=t("li",null,[l("æ¿€æ´»åœ¨è®­ç»ƒä¸­ä¼š"),t("code",null,"å ç”¨å¤§é‡æ˜¾å­˜"),l("â€¼ï¸ "),t("ul",null,[t("li",null,[l("å¯é€šè¿‡"),t("code",null,"æ¿€æ´»checkpoint"),l("æˆ–"),t("code",null,"é‡è®¡ç®—"),l("æ¥é™ä½ï¼Œä½†ä»ç„¶å¾ˆå¤§ã€‚")])])],-1)),t("li",null,[s[113]||(s[113]=t("strong",null,"såºåˆ—é•¿åº¦ï¼Œbæ˜¯micro_batchsize",-1)),s[114]||(s[114]=l("ï¼Œhæ˜¯hidden_sizeï¼Œaæ˜¯attentionå¤´æ•°ï¼ŒLæ˜¯Transformerå±‚æ•°ï¼Œ")),t("mjx-container",I,[(n(),e("svg",z,s[111]||(s[111]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D6FE",d:"M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z",style:{"stroke-width":"3"}})])])],-1)]))),s[112]||(s[112]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"Î³")])],-1))]),s[115]||(s[115]=l("æ˜¯ç³»æ•°ï¼Œ"))]),s[117]||(s[117]=t("li",null,[l("MegatronåŠ"),t("a",{href:"https://help.aliyun.com/zh/pai/getting-started/estimation-of-the-required-video-memory-for-the-model#a331f8d1ba95l",target:"_blank",rel:"noreferrer"},"é˜¿é‡Œäº‘è®¡ç®—å…¬å¼"),l("ï¼š")],-1))])])]),t("mjx-container",N,[(n(),e("svg",G,s[120]||(s[120]=[a("",1)]))),s[121]||(s[121]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mtext",null,"activation æ˜¾å­˜è®¡ç®—")]),t("mtd",null,[t("mo",null,"="),t("mi",null,"s"),t("mo",null,"âˆ—"),t("mi",null,"b"),t("mo",null,"âˆ—"),t("mi",null,"h"),t("mo",null,"âˆ—"),t("mo",{stretchy:"false"},"("),t("mn",null,"34"),t("mo",null,"+"),t("mn",null,"5"),t("mo",null,"âˆ—"),t("mi",null,"a"),t("mo",null,"âˆ—"),t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"/")]),t("mi",null,"h"),t("mo",{stretchy:"false"},")"),t("mo",null,"âˆ—"),t("mi",null,"L"),t("mo",null,"âˆ—"),t("mi",null,"Î³")])]),t("mtr",null,[t("mtd",null,[t("mtext",null,"æ¿€æ´»ç¼“å­˜åæ˜¾å­˜è®¡ç®—")]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mi",null,"s"),t("mo",null,"âˆ—"),t("mi",null,"b"),t("mo",null,"âˆ—"),t("mi",null,"h"),t("mo",null,"âˆ—"),t("mi",null,"L"),t("mo",null,"âˆ—"),t("mi",{mathvariant:"normal"},"ç²¾"),t("mi",{mathvariant:"normal"},"åº¦"),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"1em"})]),t("mo",{stretchy:"false"},"("),t("mi",{mathvariant:"normal"},"ä¸€"),t("mi",{mathvariant:"normal"},"èˆ¬"),t("mi",{mathvariant:"normal"},"ä¸º"),t("mn",null,"2"),t("mo",{stretchy:"false"},")")])])])])])])],-1))]),s[123]||(s[123]=a("",3))]),s[225]||(s[225]=a("",14)),t("div",O,[s[208]||(s[208]=t("div",{class:"custom-block-title"},"ZeRO-DP",-1)),s[209]||(s[209]=t("p",null,[t("strong",null,"æ ¸å¿ƒæ€æƒ³")],-1)),t("ul",null,[s[137]||(s[137]=t("li",null,[t("p",null,[l("æ™®é€šDDPæ¨¡å‹ï¼Œä½†"),t("strong",null,"æ¯å¼ å¡åªå­˜ä¸€éƒ¨åˆ†"),l("ä¼˜åŒ–å™¨"),t("code",null,"çŠ¶æ€osã€æ¢¯åº¦gã€å‚æ•°p"),l("ã€‚")])],-1)),t("li",null,[t("p",null,[s[132]||(s[132]=l("ZeRO-DPï¼š ")),t("mjx-container",J,[(n(),e("svg",U,s[124]||(s[124]=[a("",1)]))),s[125]||(s[125]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"P"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"s")])]),t("mo",null,"+"),t("msub",null,[t("mi",null,"P"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"g")])]),t("mo",null,"+"),t("msub",null,[t("mi",null,"P"),t("mi",null,"p")])])])],-1))]),s[133]||(s[133]=l(" 3ç§åˆ†ç‰‡ï¼Œ")),t("mjx-container",X,[(n(),e("svg",$,s[126]||(s[126]=[a("",1)]))),s[127]||(s[127]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"P"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"s")])])])],-1))]),s[134]||(s[134]=l("å¯¹åº”ZeRO-1ï¼Œ")),t("mjx-container",W,[(n(),e("svg",K,s[128]||(s[128]=[a("",1)]))),s[129]||(s[129]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"P"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"s"),t("mo",null,"+"),t("mi",null,"g")])])])],-1))]),s[135]||(s[135]=l("å¯¹åº”ZeRO-2ï¼Œ")),t("mjx-container",Y,[(n(),e("svg",t1,s[130]||(s[130]=[a("",1)]))),s[131]||(s[131]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"P"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"s"),t("mo",null,"+"),t("mi",null,"g"),t("mo",null,"+"),t("mi",null,"p")])])])],-1))]),s[136]||(s[136]=l("å¯¹åº”ZeRO3ã€‚"))])])]),t("p",null,[t("strong",null,[s[140]||(s[140]=l("ZeRO1ï¼š+ä¼˜åŒ–å™¨çŠ¶æ€åˆ’åˆ† ")),t("mjx-container",s1,[(n(),e("svg",l1,s[138]||(s[138]=[a("",1)]))),s[139]||(s[139]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"P"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"s")])])])],-1))])])]),t("ul",null,[t("li",null,[s[157]||(s[157]=l("æ ¸å¿ƒæ€æƒ³ ")),t("ul",null,[t("li",null,[s[145]||(s[145]=t("code",null,"å¯¹ä¼˜åŒ–å™¨çŠ¶æ€osåšåˆ’åˆ†",-1)),s[146]||(s[146]=l("ï¼Œ")),t("strong",null,[s[143]||(s[143]=l("æ¯å¡åªæŒæœ‰")),t("mjx-container",a1,[(n(),e("svg",e1,s[141]||(s[141]=[a("",1)]))),s[142]||(s[142]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")])])],-1))]),s[144]||(s[144]=l("çš„os"))]),s[147]||(s[147]=l("ï¼Œgå’Œpå­˜å®Œæ•´ã€‚"))]),t("li",null,[s[152]||(s[152]=l("æ¯å¡")),t("strong",null,[s[150]||(s[150]=l("ä»…æ›´æ–°")),t("mjx-container",n1,[(n(),e("svg",Q1,s[148]||(s[148]=[a("",1)]))),s[149]||(s[149]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")])])],-1))]),s[151]||(s[151]=l("å‚æ•°"))]),s[153]||(s[153]=l("ï¼Œå¹¶")),s[154]||(s[154]=t("strong",null,"å¹¿æ’­å‘ŠçŸ¥",-1)),s[155]||(s[155]=l("æ–°å‚æ•°"))]),s[156]||(s[156]=a("",2))])]),t("li",null,[s[164]||(s[164]=l("æ˜¾å­˜å ç”¨ ")),t("ul",null,[t("li",null,[s[160]||(s[160]=t("code",null,"4m+12m",-1)),s[161]||(s[161]=l(" -> ")),t("strong",null,[t("mjx-container",i1,[(n(),e("svg",T1,s[158]||(s[158]=[a("",1)]))),s[159]||(s[159]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"4"),t("mi",null,"m"),t("mo",null,"+"),t("mfrac",null,[t("mrow",null,[t("mn",null,"12"),t("mi",null,"m")]),t("mi",null,"N")]),t("mo",null,"â‰ˆ"),t("mn",null,"4"),t("mi",null,"m")])],-1))])]),s[162]||(s[162]=l("ï¼Œä¸ºæ ‡å‡†çš„")),s[163]||(s[163]=t("code",null,"1/4",-1))])])])]),t("p",null,[t("strong",null,[s[167]||(s[167]=l("ZeRO2ï¼š+æ¢¯åº¦åˆ’åˆ† ")),t("mjx-container",o1,[(n(),e("svg",r1,s[165]||(s[165]=[a("",1)]))),s[166]||(s[166]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"P"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"g")])])])],-1))])])]),t("ul",null,[t("li",null,[s[180]||(s[180]=l("æ ¸å¿ƒæ€æƒ³ ")),t("ul",null,[t("li",null,[s[172]||(s[172]=l("ä¼˜åŒ–å™¨oså·²åˆ’åˆ†ï¼›")),s[173]||(s[173]=t("code",null,"å¯¹æ¢¯åº¦gåšåˆ’åˆ†",-1)),s[174]||(s[174]=l("ï¼Œæ¯å¡")),t("strong",null,[s[170]||(s[170]=l("æŒæœ‰")),t("mjx-container",d1,[(n(),e("svg",m1,s[168]||(s[168]=[a("",1)]))),s[169]||(s[169]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")])])],-1))]),s[171]||(s[171]=l("æ¢¯åº¦"))])]),t("li",null,[s[177]||(s[177]=l("å„å¡å•ç‹¬æ›´æ–°")),t("mjx-container",p1,[(n(),e("svg",h1,s[175]||(s[175]=[a("",1)]))),s[176]||(s[176]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")])])],-1))]),s[178]||(s[178]=l("å‚æ•°ï¼Œå¹¶å¹¿æ’­å‘ŠçŸ¥ã€‚"))]),s[179]||(s[179]=t("li",null,"æ¢¯åº¦reduceåˆ°å„rankï¼Œæ— éœ€allredcueï¼ŒèŠ‚çœå¼€é”€",-1))])]),t("li",null,[s[187]||(s[187]=l("æ˜¾å­˜å ç”¨ ")),t("ul",null,[t("li",null,[s[183]||(s[183]=t("code",null,"4m+12m",-1)),s[184]||(s[184]=l(" -> ")),t("strong",null,[t("mjx-container",g1,[(n(),e("svg",u1,s[181]||(s[181]=[a("",1)]))),s[182]||(s[182]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"2"),t("mi",null,"m"),t("mo",null,"+"),t("mfrac",null,[t("mrow",null,[t("mn",null,"2"),t("mi",null,"m")]),t("mi",null,"N")]),t("mo",null,"+"),t("mfrac",null,[t("mrow",null,[t("mn",null,"12"),t("mi",null,"m")]),t("mi",null,"N")]),t("mo",null,"â‰ˆ"),t("mn",null,"2"),t("mi",null,"m")])],-1))])]),s[185]||(s[185]=l("ï¼Œä¸ºæ ‡å‡†çš„")),s[186]||(s[186]=t("code",null,"1/8",-1))])])])]),t("p",null,[t("strong",null,[s[190]||(s[190]=l("ZeRO3ï¼š+å‚æ•°åˆ’åˆ† ")),t("mjx-container",k1,[(n(),e("svg",x1,s[188]||(s[188]=[a("",1)]))),s[189]||(s[189]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"P"),t("mi",null,"p")])])],-1))])])]),t("ul",null,[t("li",null,[s[200]||(s[200]=l("æ ¸å¿ƒæ€æƒ³ ")),t("ul",null,[t("li",null,[s[195]||(s[195]=l("ä¼˜åŒ–å™¨oså·²åˆ‡åˆ†ï¼›æ¢¯åº¦gå·²åˆ‡åˆ†ï¼›")),s[196]||(s[196]=t("code",null,"å¯¹å‚æ•°påšåˆ‡åˆ†",-1)),s[197]||(s[197]=l("ï¼Œæ¯å¡")),t("strong",null,[s[193]||(s[193]=l("æŒæœ‰")),t("mjx-container",w1,[(n(),e("svg",c1,s[191]||(s[191]=[a("",1)]))),s[192]||(s[192]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")])])],-1))]),s[194]||(s[194]=l("å‚æ•°"))]),s[198]||(s[198]=l("ã€‚"))]),s[199]||(s[199]=t("li",null,"ç¡®ä¿èƒ½è¢«å•ä¸ªGPUå­˜æ”¾ä¸‹",-1))])]),t("li",null,[s[207]||(s[207]=l("æ˜¾å­˜å ç”¨ ")),t("ul",null,[t("li",null,[s[203]||(s[203]=t("code",null,"4m+12m",-1)),s[204]||(s[204]=l(" -> ")),t("strong",null,[t("mjx-container",y1,[(n(),e("svg",f1,s[201]||(s[201]=[a("",1)]))),s[202]||(s[202]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("mrow",null,[t("mn",null,"2"),t("mi",null,"m")]),t("mi",null,"N")]),t("mo",null,"+"),t("mfrac",null,[t("mrow",null,[t("mn",null,"2"),t("mi",null,"m")]),t("mi",null,"N")]),t("mo",null,"+"),t("mfrac",null,[t("mrow",null,[t("mn",null,"12"),t("mi",null,"m")]),t("mi",null,"N")]),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("mn",null,"16"),t("mi",null,"m")]),t("mi",null,"N")])])],-1))])]),s[205]||(s[205]=l("ï¼ŒNæ¯”è¾ƒå¤§æ—¶ï¼Œ")),s[206]||(s[206]=t("code",null,"è¶‹è¿‘äº0",-1))])])])])]),s[226]||(s[226]=t("img",{src:"https://wdndev.github.io/llm_interview_note/04.%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83/deepspeed%E4%BB%8B%E7%BB%8D/image/image_UKoVaOXc-2.png",style:{display:"block",margin:"auto"},width:"80%"},null,-1)),s[227]||(s[227]=t("h3",{id:"zero-offload-ç­–ç•¥",tabindex:"-1"},[l("Zero-Offload ç­–ç•¥ "),t("a",{class:"header-anchor",href:"#zero-offload-ç­–ç•¥","aria-label":'Permalink to "Zero-Offload ç­–ç•¥"'},"â€‹")],-1)),t("div",H1,[s[220]||(s[220]=a("",4)),t("ul",null,[s[219]||(s[219]=a("",3)),t("li",null,[s[218]||(s[218]=l("å¤šå¡åœºæ™¯ ")),t("ul",null,[t("li",null,[s[212]||(s[212]=l("åˆ©ç”¨ZeRO-2ï¼ŒæŠŠ")),t("mjx-container",V1,[(n(),e("svg",L1,s[210]||(s[210]=[a("",1)]))),s[211]||(s[211]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")])])],-1))]),s[213]||(s[213]=l("çš„ä¼˜åŒ–å™¨çŠ¶æ€oså’Œæ¢¯åº¦péƒ½offloadåˆ°å†…å­˜ï¼Œåœ¨CPUä¸Šåšå‚æ•°æ›´æ–°"))]),t("li",null,[s[216]||(s[216]=l("æ¯å¼ å¡è‡³å°‘å¯¹åº”1ä¸ªCPUè¿›ç¨‹ï¼Œæ¯ä¸ªCPUè¿›ç¨‹åªè´Ÿè´£")),t("mjx-container",b1,[(n(),e("svg",B1,s[214]||(s[214]=[a("",1)]))),s[215]||(s[215]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")])])],-1))]),s[217]||(s[217]=l("çš„è®¡ç®—ã€‚"))])])])])]),s[228]||(s[228]=t("img",{src:"https://pic4.zhimg.com/v2-b9f59b045c1629983fb3e94e692bc457_1440w.jpg",style:{display:"block",margin:"auto"},width:"80%"},null,-1)),s[229]||(s[229]=t("img",{src:"https://pic3.zhimg.com/v2-57ab3768637af499bda329bbecb1ce1a_1440w.jpg",style:{display:"block",margin:"auto"},width:"80%"},null,-1)),s[230]||(s[230]=t("img",{src:"https://pic1.zhimg.com/v2-fe50a06119ca19954e6fee767cafb028_1440w.jpg",style:{display:"block",margin:"auto"},width:"80%"},null,-1))])}const P1=Q(i,[["render",A1]]);export{E1 as __pageData,P1 as default};

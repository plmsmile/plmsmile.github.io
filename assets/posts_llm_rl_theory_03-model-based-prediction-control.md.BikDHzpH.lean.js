import{_ as s,c as l,o as e,ah as a,j as T,a as t}from"./chunks/framework.CvbyeFFO.js";const D1=JSON.parse('{"title":"有模型预测和控制","description":"","frontmatter":{"title":"有模型预测和控制","date":"2025-08-27T16:16:46.000Z","create":"2025-08-27T20:16:46.000Z","categories":["rl theory"],"tags":["有模型","动态规划算法","价值迭代","策略迭代","贝尔曼最优方程","最优性原理","价值函数","最佳价值函数","最佳策略函数"]},"headers":[],"relativePath":"posts/llm/rl/theory/03-model-based-prediction-control.md","filePath":"posts/llm/rl/theory/03-model-based-prediction-control.md","lastUpdated":null}'),m={name:"posts/llm/rl/theory/03-model-based-prediction-control.md"},d={class:"custom-block tip"},o={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},r={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.489ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.608ex",height:"2.084ex",role:"img",focusable:"false",viewBox:"0 -705 8666.6 921","aria-hidden":"true"},n={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.561ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2016 1000","aria-hidden":"true"},h={class:"custom-block tip"},g={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.24ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2316.1 1000","aria-hidden":"true"},H={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},c={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.871ex"},xmlns:"http://www.w3.org/2000/svg",width:"61.817ex",height:"10.874ex",role:"img",focusable:"false",viewBox:"0 -2653.2 27322.9 4806.4","aria-hidden":"true"},u={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},L={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.078ex"},xmlns:"http://www.w3.org/2000/svg",width:"60.614ex",height:"6.357ex",role:"img",focusable:"false",viewBox:"0 -1449.5 26791.3 2810","aria-hidden":"true"},w={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},f={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.287ex"},xmlns:"http://www.w3.org/2000/svg",width:"41.762ex",height:"7.706ex",role:"img",focusable:"false",viewBox:"0 -1953 18458.9 3406","aria-hidden":"true"},y={class:"custom-block note"},x={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},k={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.527ex",height:"3.323ex",role:"img",focusable:"false",viewBox:"0 -750 8189.1 1468.8","aria-hidden":"true"},M={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.469ex",height:"3.323ex",role:"img",focusable:"false",viewBox:"0 -750 9489.5 1468.8","aria-hidden":"true"},V={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},D={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.827ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.174ex",height:"6.785ex",role:"img",focusable:"false",viewBox:"0 -1749.5 16430.8 2999","aria-hidden":"true"},b={class:"custom-block info"},j={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.264ex"},xmlns:"http://www.w3.org/2000/svg",width:"61.709ex",height:"5.659ex",role:"img",focusable:"false",viewBox:"0 -1500.5 27275.3 2501.1","aria-hidden":"true"},_={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},R={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.814ex"},xmlns:"http://www.w3.org/2000/svg",width:"45.842ex",height:"4.963ex",role:"img",focusable:"false",viewBox:"0 -950 20262.3 2193.8","aria-hidden":"true"},C={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},O={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.625ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.943ex",height:"3.321ex",role:"img",focusable:"false",viewBox:"0 -750 11908.9 1468.1","aria-hidden":"true"},A={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},S={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.838ex"},xmlns:"http://www.w3.org/2000/svg",width:"49.075ex",height:"3.669ex",role:"img",focusable:"false",viewBox:"0 -809 21691 1621.6","aria-hidden":"true"},E={class:"custom-block important"},P={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},B={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.838ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.658ex",height:"3.535ex",role:"img",focusable:"false",viewBox:"0 -750 8688.9 1562.6","aria-hidden":"true"},X={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},I={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.838ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.089ex",height:"3.535ex",role:"img",focusable:"false",viewBox:"0 -750 9321.3 1562.6","aria-hidden":"true"},N={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.966ex"},xmlns:"http://www.w3.org/2000/svg",width:"52.251ex",height:"9.062ex",role:"img",focusable:"false",viewBox:"0 -2252.8 23094.9 4005.5","aria-hidden":"true"},G={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},J={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.827ex"},xmlns:"http://www.w3.org/2000/svg",width:"50.593ex",height:"6.785ex",role:"img",focusable:"false",viewBox:"0 -1749.5 22362.3 2999","aria-hidden":"true"},q={class:"custom-block tip"},F={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.194ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3179.6 1000","aria-hidden":"true"},U={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},W={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.023ex",role:"img",focusable:"false",viewBox:"0 -442 469 452","aria-hidden":"true"},K={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.023ex",role:"img",focusable:"false",viewBox:"0 -442 469 452","aria-hidden":"true"},T1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Q1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.689ex",height:"1.74ex",role:"img",focusable:"false",viewBox:"0 -759 746.5 769","aria-hidden":"true"},t1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},a1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.655ex",height:"2.396ex",role:"img",focusable:"false",viewBox:"0 -809 14433.4 1059","aria-hidden":"true"},l1={class:"custom-block tip"},e1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.24ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2316.1 1000","aria-hidden":"true"},m1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.311ex",height:"2.283ex",role:"img",focusable:"false",viewBox:"0 -759 2789.3 1009","aria-hidden":"true"},o1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.24ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2316.1 1000","aria-hidden":"true"},n1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},i1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.827ex"},xmlns:"http://www.w3.org/2000/svg",width:"48.852ex",height:"6.785ex",role:"img",focusable:"false",viewBox:"0 -1749.5 21592.6 2999","aria-hidden":"true"},h1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.276ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 4100.1 1000","aria-hidden":"true"},p1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},H1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.814ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.097ex",height:"4.963ex",role:"img",focusable:"false",viewBox:"0 -950 20375.1 2193.8","aria-hidden":"true"},c1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},u1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.625ex"},xmlns:"http://www.w3.org/2000/svg",width:"24.69ex",height:"3.321ex",role:"img",focusable:"false",viewBox:"0 -750 10913.1 1468.1","aria-hidden":"true"},L1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},w1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.827ex"},xmlns:"http://www.w3.org/2000/svg",width:"51.426ex",height:"6.785ex",role:"img",focusable:"false",viewBox:"0 -1749.5 22730.2 2999","aria-hidden":"true"};function f1(y1,Q,x1,k1,M1,Z1){return e(),l("div",null,[Q[118]||(Q[118]=a("",8)),T("div",d,[Q[10]||(Q[10]=T("div",{class:"custom-block-title"},"动态规划的特性",-1)),Q[11]||(Q[11]=T("p",null,"动态规划问题有如下3个特性",-1)),T("ul",null,[T("li",null,[Q[2]||(Q[2]=T("p",null,[T("strong",null,"最优子结构/满足最优化原理")],-1)),Q[3]||(Q[3]=T("ul",null,[T("li",null,[t("问题可拆分为多个子问题，问题的最优解包含的子问题的解也是最优的。 "),T("ul",null,[T("li",null,[T("strong",null,"第一步"),t("：执行最优动作，"),T("strong",null,"后续每一步"),t("：都按最优策略去做，"),T("strong",null,"最终结果也是最优"),t("。")])])]),T("li",null,"递归形态，当前状态与未来状态有迭代关系。")],-1)),T("mjx-container",o,[(e(),l("svg",r,Q[0]||(Q[0]=[a("",1)]))),Q[1]||(Q[1]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("msub",null,[T("mi",null,"G"),T("mi",null,"t")]),T("mo",null,"="),T("msub",null,[T("mi",null,"r"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"t"),T("mo",null,"+"),T("mn",null,"1")])]),T("mo",null,"+"),T("mi",null,"γ"),T("mo",null,"⋅"),T("msub",null,[T("mi",null,"G"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"t"),T("mo",null,"+"),T("mn",null,"1")])])])],-1))])]),T("li",null,[Q[8]||(Q[8]=T("p",null,[T("strong",null,"重叠子问题")],-1)),T("ul",null,[Q[7]||(Q[7]=T("li",null,"子问题多次出现，其结果能被重复使用，可保存首次计算结果供后续使用",-1)),T("li",null,[Q[6]||(Q[6]=t("存储状态价值")),T("mjx-container",n,[(e(),l("svg",i,Q[4]||(Q[4]=[a("",1)]))),Q[5]||(Q[5]=T("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[T("mi",null,"V"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")")])],-1))])])])]),Q[9]||(Q[9]=T("li",null,[T("p",null,[T("strong",null,"无有效性")]),T("ul",null,[T("li",null,"某阶段状态不受后面决策的影响，只有当前状态有关，即马尔科夫性质。")])],-1))]),Q[12]||(Q[12]=T("p",null,[T("strong",null,"适用RL场景")],-1)),Q[13]||(Q[13]=T("ul",null,[T("li",null,"要求环境已知，适用于规划问题，而非学习问题")],-1))]),Q[119]||(Q[119]=T("h4",{id:"dp做策略评估",tabindex:"-1"},[t("DP做策略评估 "),T("a",{class:"header-anchor",href:"#dp做策略评估","aria-label":'Permalink to "DP做策略评估"'},"​")],-1)),T("div",h,[Q[26]||(Q[26]=T("div",{class:"custom-block-title"},"使用动态规划做策略评估",-1)),Q[27]||(Q[27]=T("p",null,[T("strong",null,"核心思想")],-1)),T("ul",null,[Q[18]||(Q[18]=T("li",null,[t("给定策略，通过"),T("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/02-markove-process.html#vq%E5%87%BD%E6%95%B0%E8%B4%9D%E5%B0%94%E6%9B%BC%E6%96%B9%E7%A8%8B%E5%8F%8A%E5%85%B6%E8%BD%AC%E6%8D%A2%E5%85%B3%E7%B3%BB",target:"_blank",rel:"noreferrer"},"贝尔曼期望方程"),t("来"),T("strong",null,"多次迭代，逐渐收敛价值函数")],-1)),Q[19]||(Q[19]=T("li",null,[t("DP算法本质："),T("code",null,"通过求解贝尔曼方程"),t("，"),T("code",null,"来找到最优策略"),t("。")],-1)),T("li",null,[Q[16]||(Q[16]=t("求解出每个")),T("mjx-container",g,[(e(),l("svg",p,Q[14]||(Q[14]=[a("",1)]))),Q[15]||(Q[15]=T("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")")])],-1))]),Q[17]||(Q[17]=a("",2))])]),T("mjx-container",H,[(e(),l("svg",c,Q[20]||(Q[20]=[a("",1)]))),Q[21]||(Q[21]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[T("mtr",null,[T("mtd",null,[T("mstyle",{mathcolor:"blue"},[T("msubsup",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")]),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"k"),T("mo",null,"+"),T("mn",null,"1")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")")])]),T("mtd",null,[T("mo",null,"="),T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"a"),T("mo",null,"∈"),T("mi",null,"A")])]),T("mi",null,"π"),T("mo",{stretchy:"false"},"("),T("mi",null,"a"),T("mo",null,"∣"),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",null,"⋅"),T("msub",null,[T("mi",null,"Q"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")")])]),T("mtr",null,[T("mtd"),T("mtd",null,[T("mo",null,"="),T("mstyle",{mathcolor:"red"},[T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"a"),T("mo",null,"∈"),T("mi",null,"A")])])]),T("mstyle",{mathcolor:"blue"},[T("mi",null,"π"),T("mo",{stretchy:"false"},"("),T("mi",null,"a"),T("mo",null,"∣"),T("mi",null,"s"),T("mo",{stretchy:"false"},")")]),T("mo",null,"⋅"),T("mstyle",{mathcolor:"blue"},[T("mrow",{"data-mjx-texclass":"INNER"},[T("mo",{"data-mjx-texclass":"OPEN"},"("),T("mstyle",{mathcolor:"red"},[T("mi",null,"R"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")")]),T("mo",null,"+"),T("mi",null,"γ"),T("mo",null,"⋅"),T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∈"),T("mi",null,"S")])]),T("mi",null,"p"),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∣"),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"⋅"),T("mstyle",{mathcolor:"red"},[T("msubsup",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")]),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"k")])]),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")")]),T("mo",{"data-mjx-texclass":"CLOSE"},")")])])])])])])],-1))]),T("mjx-container",u,[(e(),l("svg",L,Q[22]||(Q[22]=[a("",1)]))),Q[23]||(Q[23]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("mstyle",{mathcolor:"blue"},[T("msubsup",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")]),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"k"),T("mo",null,"+"),T("mn",null,"1")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")")]),T("mo",null,"="),T("mstyle",{mathcolor:"red"},[T("munder",null,[T("mo",{"data-mjx-texclass":"OP"},"∑"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"a"),T("mo",null,"∈"),T("mi",null,"A"),T("mo",null,","),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∈"),T("mi",null,"S")])])]),T("mstyle",{mathcolor:"blue"},[T("mi",null,"π"),T("mo",{stretchy:"false"},"("),T("mi",null,"a"),T("mo",null,"∣"),T("mi",null,"s"),T("mo",{stretchy:"false"},")")]),T("mo",null,"⋅"),T("mstyle",{mathcolor:"blue"},[T("mi",null,"p"),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∣"),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")")]),T("mrow",{"data-mjx-texclass":"ORD"},[T("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),T("mstyle",{mathcolor:"red"},[T("mi",null,"r"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",null,","),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")")]),T("mo",null,"+"),T("mi",null,"γ"),T("mo",null,"⋅"),T("mstyle",{mathcolor:"red"},[T("msubsup",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")]),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"k")])]),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")")]),T("mrow",{"data-mjx-texclass":"ORD"},[T("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q[28]||(Q[28]=T("ul",null,[T("li",null,"给定策略后，可以把其简化为马尔可夫奖励过程，去掉a")],-1)),T("mjx-container",w,[(e(),l("svg",f,Q[24]||(Q[24]=[a("",1)]))),Q[25]||(Q[25]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[T("mtr",null,[T("mtd",null,[T("mstyle",{mathcolor:"blue"},[T("msubsup",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")]),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"k"),T("mo",null,"+"),T("mn",null,"1")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")")])]),T("mtd",null,[T("mo",null,"="),T("msub",null,[T("mi",null,"Q"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mstyle",{mathcolor:"blue"},[T("mi",null,"π"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")")]),T("mo",{stretchy:"false"},")")])]),T("mtr",null,[T("mtd"),T("mtd",null,[T("mo",null,"="),T("mi",null,"R"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",null,"+"),T("mi",null,"γ"),T("mo",null,"⋅"),T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∈"),T("mi",null,"S")])]),T("mi",null,"p"),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∣"),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",null,"⋅"),T("mstyle",{mathcolor:"red"},[T("msubsup",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")]),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"k")])]),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")")])])])])])],-1))])]),Q[120]||(Q[120]=a("",4)),T("div",y,[Q[35]||(Q[35]=T("div",{class:"custom-block-title"},"最佳价值和最佳策略",-1)),Q[36]||(Q[36]=T("p",null,[T("strong",null,"最佳价值函数和最佳策略")],-1)),Q[37]||(Q[37]=T("ul",null,[T("li",null,[t("核心思想："),T("strong",null,"搜索一种策略"),t("，让"),T("strong",null,"每个状态的价值函数"),t("都取得"),T("strong",null,"最大值")]),T("li",null,[T("strong",null,"最佳价值")])],-1)),T("mjx-container",x,[(e(),l("svg",k,Q[29]||(Q[29]=[a("",1)]))),Q[30]||(Q[30]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("msup",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mo",null,"∗")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",null,"="),T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")")])],-1))]),Q[38]||(Q[38]=T("ul",null,[T("li",null,[T("strong",null,"最佳策略")])],-1)),T("mjx-container",M,[(e(),l("svg",Z,Q[31]||(Q[31]=[a("",1)]))),Q[32]||(Q[32]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("msup",null,[T("mi",null,"π"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mo",null,"∗")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",null,"="),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",{"data-mjx-auto-op":"false"},"arg")]),T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")")])],-1))]),Q[39]||(Q[39]=T("p",null,[T("strong",null,"通过最佳价值函数来获取最佳策略")],-1)),T("mjx-container",V,[(e(),l("svg",D,Q[33]||(Q[33]=[a("",1)]))),Q[34]||(Q[34]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("msup",null,[T("mi",null,"π"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mo",null,"∗")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"a"),T("mo",null,"∣"),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",null,"="),T("mrow",{"data-mjx-texclass":"INNER"},[T("mo",{"data-mjx-texclass":"OPEN"},"{"),T("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:".2em"},[T("mtr",null,[T("mtd",null,[T("mn",null,"1"),T("mo",null,",")]),T("mtd",null,[T("mi",null,"a"),T("mo",null,"="),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",{"data-mjx-auto-op":"false"},"arg")]),T("munder",null,[T("mo",{"data-mjx-texclass":"OP"},"max"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"a"),T("mo",null,"∈"),T("mi",null,"A")])]),T("msup",null,[T("mi",null,"Q"),T("mo",null,"∗")]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")")])]),T("mtr",null,[T("mtd",null,[T("mn",null,"0"),T("mo",null,",")]),T("mtd",null,[T("mi",{mathvariant:"normal"},"其"),T("mi",{mathvariant:"normal"},"他")])])]),T("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))]),Q[40]||(Q[40]=T("ul",null,[T("li",null,[t("最佳策略是稳定的，但"),T("strong",null,"不一定是唯一的"),t("，可能多种动作取得相同价值")])],-1))]),Q[121]||(Q[121]=a("",3)),T("div",b,[Q[49]||(Q[49]=a("",5)),T("mjx-container",j,[(e(),l("svg",v,Q[41]||(Q[41]=[a("",1)]))),Q[42]||(Q[42]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[T("mtr",null,[T("mtd",null,[T("mstyle",{mathcolor:"blue"},[T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msub",null,[T("mi",null,"π"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"k"),T("mo",null,"+"),T("mn",null,"1")])])])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")")])]),T("mtd",null,[T("mo",null,"="),T("mstyle",{mathcolor:"red"},[T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"a"),T("mo",null,"∈"),T("mi",null,"A")])])]),T("mi",null,"π"),T("mo",{stretchy:"false"},"("),T("mi",null,"a"),T("mo",null,"∣"),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",null,"⋅"),T("mstyle",{mathcolor:"blue"},[T("mrow",{"data-mjx-texclass":"INNER"},[T("mo",{"data-mjx-texclass":"OPEN"},"("),T("mi",null,"R"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"+"),T("mi",null,"γ"),T("mo",null,"⋅"),T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∈"),T("mi",null,"S")])]),T("mi",null,"p"),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∣"),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"⋅"),T("mstyle",{mathcolor:"red"},[T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msub",null,[T("mi",null,"π"),T("mi",null,"k")])])]),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")")]),T("mo",{"data-mjx-texclass":"CLOSE"},")")])])])])])])],-1))]),T("mjx-container",_,[(e(),l("svg",R,Q[43]||(Q[43]=[a("",1)]))),Q[44]||(Q[44]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("mstyle",{mathcolor:"blue"},[T("msub",null,[T("mi",null,"Q"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msub",null,[T("mi",null,"π"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"k"),T("mo",null,"+"),T("mn",null,"1")])])])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")")]),T("mo",null,"="),T("mi",null,"R"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"+"),T("mstyle",{mathcolor:"blue"},[T("mi",null,"γ"),T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∈"),T("mi",null,"S")])]),T("mi",null,"p"),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∣"),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"⋅"),T("mstyle",{mathcolor:"red"},[T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msub",null,[T("mi",null,"π"),T("mi",null,"k")])])]),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")")])])])],-1))]),Q[50]||(Q[50]=T("p",null,[T("strong",null,"策略改进")],-1)),Q[51]||(Q[51]=T("ul",null,[T("li",null,[T("strong",null,"根据Q函数贪心改进策略"),t("，会变得更好或不变，但不会变差")])],-1)),T("mjx-container",C,[(e(),l("svg",O,Q[45]||(Q[45]=[a("",1)]))),Q[46]||(Q[46]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("mstyle",{mathcolor:"blue"},[T("msub",null,[T("mi",null,"π"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"k"),T("mo",null,"+"),T("mn",null,"1")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")")]),T("mo",null,"="),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",{"data-mjx-auto-op":"false"},"arg")]),T("munder",null,[T("mo",{"data-mjx-texclass":"OP"},"max"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"a")])]),T("mstyle",{mathcolor:"red"},[T("msub",null,[T("mi",null,"Q"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msub",null,[T("mi",null,"π"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"k")])])])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")")])])],-1))]),Q[52]||(Q[52]=T("ul",null,[T("li",null,[t("当停止改进后，"),T("strong",null,"取让Q函数取得最大值的动作"),t("，Q函数就变成V函数了")])],-1)),T("mjx-container",A,[(e(),l("svg",S,Q[47]||(Q[47]=[a("",1)]))),Q[48]||(Q[48]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("msub",null,[T("mi",null,"Q"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("msup",null,[T("mi",null,"π"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",{stretchy:"false"},")"),T("mo",null,"="),T("munder",null,[T("mo",{"data-mjx-texclass":"OP"},"max"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"a"),T("mo",null,"∈"),T("mi",null,"A")])]),T("msub",null,[T("mi",null,"Q"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"="),T("msub",null,[T("mi",null,"Q"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"π"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",{stretchy:"false"},")"),T("mo",null,"="),T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")")])],-1))])]),Q[122]||(Q[122]=T("img",{src:"https://datawhalechina.github.io/easy-rl/img/ch2/2.21.png",style:{display:"block",margin:"auto"},width:"80%"},null,-1)),Q[123]||(Q[123]=T("h4",{id:"贝尔曼最优方程",tabindex:"-1"},[t("贝尔曼最优方程 "),T("a",{class:"header-anchor",href:"#贝尔曼最优方程","aria-label":'Permalink to "贝尔曼最优方程"'},"​")],-1)),T("div",E,[Q[61]||(Q[61]=T("div",{class:"custom-block-title"},"贝尔曼最优方程",-1)),Q[62]||(Q[62]=T("p",null,[T("strong",null,"策略改进结束后")],-1)),Q[63]||(Q[63]=T("ul",null,[T("li",null,[T("strong",null,"贝尔曼最优方程"),t("，最佳策略下的状态价值必须等于采取最佳动作回报的期望。")])],-1)),T("mjx-container",P,[(e(),l("svg",B,Q[53]||(Q[53]=[a("",1)]))),Q[54]||(Q[54]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",null,"="),T("munder",null,[T("mo",{"data-mjx-texclass":"OP"},"max"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"a"),T("mo",null,"∈"),T("mi",null,"A")])]),T("mi",null,"Q"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")")])],-1))]),T("mjx-container",X,[(e(),l("svg",I,Q[55]||(Q[55]=[a("",1)]))),Q[56]||(Q[56]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("msup",null,[T("mi",null,"V"),T("mo",null,"∗")]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",null,"="),T("munder",null,[T("mo",{"data-mjx-texclass":"OP"},"max"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"a"),T("mo",null,"∈"),T("mi",null,"A")])]),T("msup",null,[T("mi",null,"Q"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mo",null,"∗")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")")])],-1))]),Q[64]||(Q[64]=T("ul",null,[T("li",null,[t("当马尔可夫决策过程"),T("strong",null,"满足贝尔曼最优方程时"),t("，"),T("strong",null,"整个状态已收敛，达最佳状态")])],-1)),Q[65]||(Q[65]=T("p",null,[T("strong",null,"Q函数贝尔曼最优方程")],-1)),Q[66]||(Q[66]=T("ul",null,[T("li",null,"通过Q函数贝尔曼方程+上述简单最优方程得到")],-1)),T("mjx-container",N,[(e(),l("svg",z,Q[57]||(Q[57]=[a("",1)]))),Q[58]||(Q[58]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[T("mtr",null,[T("mtd",null,[T("mstyle",{mathcolor:"blue"},[T("msup",null,[T("mi",null,"Q"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mo",null,"∗")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")")])]),T("mtd",null,[T("mo",null,"="),T("mi",null,"R"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"+"),T("mi",null,"γ"),T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∈"),T("mi",null,"S")])]),T("mi",null,"p"),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∣"),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"⋅"),T("mstyle",{mathcolor:"red"},[T("msup",null,[T("mi",null,"V"),T("mo",null,"∗")]),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")")])])]),T("mtr",null,[T("mtd"),T("mtd",null,[T("mo",null,"="),T("mi",null,"R"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"+"),T("mi",null,"γ"),T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∈"),T("mi",null,"S")])]),T("mi",null,"p"),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∣"),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"⋅"),T("mstyle",{mathcolor:"red"},[T("munder",null,[T("mo",{"data-mjx-texclass":"OP"},"max"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msup",null,[T("mi",null,"a"),T("mi",{"data-mjx-alternate":"1"},"′")])])]),T("msup",null,[T("mi",null,"Q"),T("mo",null,"∗")]),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,","),T("msup",null,[T("mi",null,"a"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")")])])])])])],-1))]),Q[67]||(Q[67]=T("p",null,[T("strong",null,"V函数贝尔曼最优方程")],-1)),T("mjx-container",G,[(e(),l("svg",J,Q[59]||(Q[59]=[a("",1)]))),Q[60]||(Q[60]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("mstyle",{mathcolor:"blue"},[T("msup",null,[T("mi",null,"V"),T("mo",null,"∗")]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")")]),T("mo",null,"="),T("mstyle",{mathcolor:"red"},[T("munder",null,[T("mo",{"data-mjx-texclass":"OP"},"max"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"a")])])]),T("mrow",{"data-mjx-texclass":"INNER"},[T("mo",{"data-mjx-texclass":"OPEN"},"("),T("mi",null,"R"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"+"),T("mstyle",{mathcolor:"blue"},[T("mi",null,"γ"),T("mo",null,"⋅"),T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∈"),T("mi",null,"S")])]),T("mi",null,"p"),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∣"),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"⋅"),T("mstyle",{mathcolor:"red"},[T("msup",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mo",null,"∗")])]),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")")])]),T("mo",{"data-mjx-texclass":"CLOSE"},")")])])],-1))])]),Q[124]||(Q[124]=T("h3",{id:"价值迭代方法",tabindex:"-1"},[t("价值迭代方法 "),T("a",{class:"header-anchor",href:"#价值迭代方法","aria-label":'Permalink to "价值迭代方法"'},"​")],-1)),Q[125]||(Q[125]=T("h4",{id:"最优性原理",tabindex:"-1"},[t("最优性原理 "),T("a",{class:"header-anchor",href:"#最优性原理","aria-label":'Permalink to "最优性原理"'},"​")],-1)),T("div",q,[Q[83]||(Q[83]=T("div",{class:"custom-block-title"},"最优性原理",-1)),Q[84]||(Q[84]=T("p",null,"由动态规划策略评估可知",-1)),Q[85]||(Q[85]=T("ul",null,[T("li",null,"当前动作最优，未来每一步动作都是最优，那么最终结果就是最优的。")],-1)),Q[86]||(Q[86]=T("p",null,[T("strong",null,"最优性原理")],-1)),T("ul",null,[T("li",null,[Q[76]||(Q[76]=t("策略")),T("mjx-container",F,[(e(),l("svg",$,Q[68]||(Q[68]=[a("",1)]))),Q[69]||(Q[69]=T("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[T("mi",null,"π"),T("mo",{stretchy:"false"},"("),T("mi",null,"a"),T("mo",null,"∣"),T("mi",null,"s"),T("mo",{stretchy:"false"},")")])],-1))]),Q[77]||(Q[77]=t("在状态")),T("mjx-container",U,[(e(),l("svg",W,Q[70]||(Q[70]=[T("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[T("g",{"data-mml-node":"math"},[T("g",{"data-mml-node":"mi"},[T("path",{"data-c":"1D460",d:"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[71]||(Q[71]=T("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[T("mi",null,"s")])],-1))]),Q[78]||(Q[78]=t("达到最优价值，意味着从")),T("mjx-container",K,[(e(),l("svg",Y,Q[72]||(Q[72]=[T("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[T("g",{"data-mml-node":"math"},[T("g",{"data-mml-node":"mi"},[T("path",{"data-c":"1D460",d:"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[73]||(Q[73]=T("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[T("mi",null,"s")])],-1))]),Q[79]||(Q[79]=t("能到达的每一个状态")),T("mjx-container",T1,[(e(),l("svg",Q1,Q[74]||(Q[74]=[a("",1)]))),Q[75]||(Q[75]=T("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")])])],-1))]),Q[80]||(Q[80]=t("，该策略下都达到最有价值"))])]),T("mjx-container",t1,[(e(),l("svg",a1,Q[81]||(Q[81]=[a("",1)]))),Q[82]||(Q[82]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",null,"="),T("msup",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mo",null,"∗")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",{stretchy:"false"},"⇒"),T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")"),T("mo",null,"="),T("msup",null,[T("mi",null,"V"),T("mo",null,"∗")]),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")")])],-1))])]),Q[126]||(Q[126]=T("h4",{id:"价值迭代算法",tabindex:"-1"},[t("价值迭代算法 "),T("a",{class:"header-anchor",href:"#价值迭代算法","aria-label":'Permalink to "价值迭代算法"'},"​")],-1)),T("div",l1,[Q[114]||(Q[114]=T("div",{class:"custom-block-title"},"确认性价值迭代",-1)),Q[115]||(Q[115]=T("p",null,[T("strong",null,"核心思想")],-1)),T("ul",null,[T("li",null,[Q[93]||(Q[93]=t("通过")),Q[94]||(Q[94]=T("code",null,"贝尔曼最优方程",-1)),Q[95]||(Q[95]=t("来迭代计算")),T("mjx-container",e1,[(e(),l("svg",s1,Q[87]||(Q[87]=[a("",1)]))),Q[88]||(Q[88]=T("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")")])],-1))]),Q[96]||(Q[96]=t("，当所有子问题")),T("mjx-container",m1,[(e(),l("svg",d1,Q[89]||(Q[89]=[a("",1)]))),Q[90]||(Q[90]=T("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[T("msup",null,[T("mi",null,"V"),T("mo",null,"∗")]),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")")])],-1))]),Q[97]||(Q[97]=t("达到最优时，")),T("mjx-container",o1,[(e(),l("svg",r1,Q[91]||(Q[91]=[a("",1)]))),Q[92]||(Q[92]=T("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"π")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")")])],-1))]),Q[98]||(Q[98]=t("也就达到最优"))]),Q[99]||(Q[99]=T("li",null,[t("无需策略，"),T("strong",null,"直接迭代贝尔曼最优方程"),t("，价值函数就能趋向于最佳价值函数，最后取其策略即可")],-1))]),T("mjx-container",n1,[(e(),l("svg",i1,Q[100]||(Q[100]=[a("",1)]))),Q[101]||(Q[101]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("mi",null,"V"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",{stretchy:"false"},"←"),T("munder",null,[T("mo",{"data-mjx-texclass":"OP"},"max"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"a")])]),T("mrow",{"data-mjx-texclass":"INNER"},[T("mo",{"data-mjx-texclass":"OPEN"},"("),T("mi",null,"R"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"+"),T("mi",null,"γ"),T("mo",null,"⋅"),T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∈"),T("mi",null,"S")])]),T("mi",null,"p"),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∣"),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"⋅"),T("mi",null,"V"),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")"),T("mo",{"data-mjx-texclass":"CLOSE"},")")])])],-1))]),Q[116]||(Q[116]=T("ul",null,[T("li",null,[t("价值迭代类似于"),T("strong",null,"价值的反向传播"),T("ul",null,[T("li",null,[T("strong",null,"每次迭代做一次传播"),t("，中间的策略和价值函数没有意义")]),T("li",null,[t("像是"),T("strong",null,"从一个状态反向传播到其他状态的过程"),t("，每次迭代只影响与之相关状态的过程")])])])],-1)),Q[117]||(Q[117]=T("p",null,[T("strong",null,"关键流程")],-1)),T("ul",null,[T("li",null,[T("p",null,[Q[104]||(Q[104]=t("所有状态初始化：")),T("mjx-container",h1,[(e(),l("svg",g1,Q[102]||(Q[102]=[a("",1)]))),Q[103]||(Q[103]=T("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mn",null,"0")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",null,"="),T("mn",null,"0")])],-1))]),Q[105]||(Q[105]=t("，"))])]),T("li",null,[Q[110]||(Q[110]=T("p",null,"从k=1迭代到H次，每次迭代如下：",-1)),T("mjx-container",p1,[(e(),l("svg",H1,Q[106]||(Q[106]=[a("",1)]))),Q[107]||(Q[107]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("msub",null,[T("mi",null,"Q"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"k"),T("mo",null,"+"),T("mn",null,"1")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"="),T("mi",null,"R"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"+"),T("mi",null,"γ"),T("mo",null,"⋅"),T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∈"),T("mi",null,"S")])]),T("mi",null,"p"),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∣"),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"⋅"),T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"k")])]),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")")])],-1))]),T("mjx-container",c1,[(e(),l("svg",u1,Q[108]||(Q[108]=[a("",1)]))),Q[109]||(Q[109]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("msub",null,[T("mi",null,"V"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"k"),T("mo",null,"+"),T("mn",null,"1")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",null,"="),T("munder",null,[T("mo",{"data-mjx-texclass":"OP"},"max"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"a")])]),T("msub",null,[T("mi",null,"Q"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"k"),T("mo",null,"+"),T("mn",null,"1")])]),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")")])],-1))])]),Q[111]||(Q[111]=T("li",null,[T("p",null,"迭代完成后，提取最优策略")],-1))]),T("mjx-container",L1,[(e(),l("svg",w1,Q[112]||(Q[112]=[a("",1)]))),Q[113]||(Q[113]=T("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[T("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[T("mi",null,"π"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",{stretchy:"false"},")"),T("mo",null,"="),T("mi",null,"arg"),T("mo",{"data-mjx-texclass":"NONE"},"⁡"),T("munder",null,[T("mo",{"data-mjx-texclass":"OP"},"max"),T("mrow",{"data-mjx-texclass":"ORD"},[T("mi",null,"a")])]),T("mrow",{"data-mjx-texclass":"INNER"},[T("mo",{"data-mjx-texclass":"OPEN"},"("),T("mi",null,"R"),T("mo",{stretchy:"false"},"("),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"+"),T("mi",null,"γ"),T("mo",null,"⋅"),T("munder",null,[T("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),T("mrow",{"data-mjx-texclass":"ORD"},[T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∈"),T("mi",null,"S")])]),T("mi",null,"p"),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",null,"∣"),T("mi",null,"s"),T("mo",null,","),T("mi",null,"a"),T("mo",{stretchy:"false"},")"),T("mo",null,"⋅"),T("mi",null,"V"),T("mo",{stretchy:"false"},"("),T("msup",null,[T("mi",null,"s"),T("mi",{"data-mjx-alternate":"1"},"′")]),T("mo",{stretchy:"false"},")"),T("mo",{"data-mjx-texclass":"CLOSE"},")")])])],-1))])])])}const b1=s(m,[["render",f1]]);export{D1 as __pageData,b1 as default};

import{_ as m,c as l,o as e,ah as a,j as t,a as T}from"./chunks/framework.CvbyeFFO.js";const Tm=JSON.parse('{"title":"典型策略提升方法：TRPO+PPO+DPO+GRPO","description":"","frontmatter":{"title":"典型策略提升方法：TRPO+PPO+DPO+GRPO","date":"2025-09-01T21:43:21.000Z","create":"2025-09-01T21:43:21.000Z","categories":["rl-theory"],"tags":["重要性采样","重要性采样策略梯度","KL约束","信任区域","GAE","n步优势估计","TRPO","PPO","优势策略梯度","PPO-Clip","PPO-Penalty","Reward Model","Pairwise loss","KL负奖励","Critic学习目标","Critic Loss","TD Error","Critic Value Clip","踩坑经验","DPO","标准RLHF目标","DPO显示最优解","DPO Loss","DPO缺点","GRPO","相对组优势"]},"headers":[],"relativePath":"posts/llm/rl/theory/09-policy-trpo-ppo.md","filePath":"posts/llm/rl/theory/09-policy-trpo-ppo.md","lastUpdated":1761231250000}'),s={name:"posts/llm/rl/theory/09-policy-trpo-ppo.md"},d={class:"custom-block note"},o={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.299ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1900 1000","aria-hidden":"true"},r={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.192ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1853 1000","aria-hidden":"true"},h={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.192ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1853 1000","aria-hidden":"true"},p={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},H={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.095ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1810 1000","aria-hidden":"true"},c={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.192ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1853 1000","aria-hidden":"true"},L={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},w={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.307ex"},xmlns:"http://www.w3.org/2000/svg",width:"36.681ex",height:"11.745ex",role:"img",focusable:"false",viewBox:"0 -2845.7 16213 5191.4","aria-hidden":"true"},f={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.697ex"},xmlns:"http://www.w3.org/2000/svg",width:"51.159ex",height:"6ex",role:"img",focusable:"false",viewBox:"0 -1460 22612.5 2652.2","aria-hidden":"true"},x={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},k={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.238ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.96ex",height:"3.607ex",role:"img",focusable:"false",viewBox:"0 -1047.1 1750.3 1594.2","aria-hidden":"true"},M={class:"custom-block note"},Z={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.095ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1810 1000","aria-hidden":"true"},D={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.192ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1853 1000","aria-hidden":"true"},j={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.041ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 460 636","aria-hidden":"true"},A={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},R={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.138ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 503 636","aria-hidden":"true"},O={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.095ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1810 1000","aria-hidden":"true"},C={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.192ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1853 1000","aria-hidden":"true"},E={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.007ex",height:"2.713ex",role:"img",focusable:"false",viewBox:"0 -849.5 4865.3 1199","aria-hidden":"true"},S={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.238ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.898ex",height:"3.607ex",role:"img",focusable:"false",viewBox:"0 -1047.1 6585.1 1594.2","aria-hidden":"true"},P={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.007ex",height:"2.713ex",role:"img",focusable:"false",viewBox:"0 -849.5 4865.3 1199","aria-hidden":"true"},I={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},G={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},N={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},J={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},q={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.42ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2395.6 1000","aria-hidden":"true"},$={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.42ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2395.6 1000","aria-hidden":"true"},U={class:"custom-block note"},W={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.562ex",height:"1.332ex",role:"img",focusable:"false",viewBox:"0 -431 1574.4 588.8","aria-hidden":"true"},Q1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.562ex",height:"1.332ex",role:"img",focusable:"false",viewBox:"0 -431 1574.4 588.8","aria-hidden":"true"},a1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.579ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.007ex",height:"1.735ex",role:"img",focusable:"false",viewBox:"0 -511 4423.2 767.1","aria-hidden":"true"},e1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.579ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.371ex",height:"1.735ex",role:"img",focusable:"false",viewBox:"0 -511 4142.2 767.1","aria-hidden":"true"},s1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.672ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.865ex",height:"1.828ex",role:"img",focusable:"false",viewBox:"0 -511 4802.2 808.1","aria-hidden":"true"},o1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.529ex",height:"1.911ex",role:"img",focusable:"false",viewBox:"0 -583 4211.7 844.6","aria-hidden":"true"},r1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},i1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.777ex",height:"6.014ex",role:"img",focusable:"false",viewBox:"0 -849.5 20675.6 2658.3","aria-hidden":"true"},h1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.021ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 3545.4 692.6","aria-hidden":"true"},p1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},H1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.725ex"},xmlns:"http://www.w3.org/2000/svg",width:"64.314ex",height:"9.028ex",role:"img",focusable:"false",viewBox:"0 -1460 28427 3990.3","aria-hidden":"true"},c1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},u1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.674ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 17094 2431.6","aria-hidden":"true"},L1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},w1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.256ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.383ex",height:"5.643ex",role:"img",focusable:"false",viewBox:"0 -1497.2 11661.1 2494.4","aria-hidden":"true"},f1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},y1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"54.897ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 24264.3 2431.6","aria-hidden":"true"},x1={class:"custom-block note"},k1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},M1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.567ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.013ex",height:"12.266ex",role:"img",focusable:"false",viewBox:"0 -2960.7 16359.9 5421.4","aria-hidden":"true"},Z1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},V1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.609ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.8ex",height:"6.348ex",role:"img",focusable:"false",viewBox:"0 -1653 20685.6 2806","aria-hidden":"true"},D1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-11.665ex"},xmlns:"http://www.w3.org/2000/svg",width:"65.616ex",height:"24.461ex",role:"img",focusable:"false",viewBox:"0 -5655.9 29002.3 10811.8","aria-hidden":"true"},j1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.646ex",height:"6.781ex",role:"img",focusable:"false",viewBox:"0 -1751.3 19733.7 2997.2","aria-hidden":"true"},A1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},R1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.475ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.4ex",height:"3.844ex",role:"img",focusable:"false",viewBox:"0 -1047.1 3712.6 1699.2","aria-hidden":"true"},O1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.475ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.4ex",height:"3.432ex",role:"img",focusable:"false",viewBox:"0 -864.9 3712.6 1517","aria-hidden":"true"},C1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.395ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5036.7 1000","aria-hidden":"true"},E1={class:"custom-block danger"},X1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.471ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.77ex",height:"2.066ex",role:"img",focusable:"false",viewBox:"0 -705 2550.5 913","aria-hidden":"true"},F1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},P1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"58.869ex",height:"2.565ex",role:"img",focusable:"false",viewBox:"0 -883.9 26020 1133.9","aria-hidden":"true"},z1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.624ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.899ex",height:"2.556ex",role:"img",focusable:"false",viewBox:"0 -853.7 1281.2 1129.6","aria-hidden":"true"},G1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},N1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"45.214ex",height:"6.73ex",role:"img",focusable:"false",viewBox:"0 -1728.7 19984.8 2974.6","aria-hidden":"true"},J1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},q1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.159ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.201ex",height:"5.449ex",role:"img",focusable:"false",viewBox:"0 -1454.2 13348.6 2408.5","aria-hidden":"true"},K1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},$1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.213ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 16448.2 2399","aria-hidden":"true"},Y1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},U1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-6.345ex"},xmlns:"http://www.w3.org/2000/svg",width:"54.356ex",height:"9.881ex",role:"img",focusable:"false",viewBox:"0 -1562.5 24025.4 4367.2","aria-hidden":"true"},W1={class:"custom-block danger"},t2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Q2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},T2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},l2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},e2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.786ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 789.3 599.8","aria-hidden":"true"},m2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.471ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.83ex",height:"1.471ex",role:"img",focusable:"false",viewBox:"0 -442 1692.9 650","aria-hidden":"true"},d2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},o2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.03ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 11505.2 1000","aria-hidden":"true"},n2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},r2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.163ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 14216.2 1000","aria-hidden":"true"},i2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},g2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.674ex",height:"1.595ex",role:"img",focusable:"false",viewBox:"0 -694 298 705","aria-hidden":"true"},H2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},c2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.915ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 14548.6 1000","aria-hidden":"true"},u2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},L2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-13.221ex"},xmlns:"http://www.w3.org/2000/svg",width:"79.791ex",height:"27.574ex",role:"img",focusable:"false",viewBox:"0 -6343.8 35267.5 12187.7","aria-hidden":"true"},w2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.637ex",height:"1.505ex",role:"img",focusable:"false",viewBox:"0 -583 2933.6 665","aria-hidden":"true"},y2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},x2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.152ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 19515.3 2828.3","aria-hidden":"true"},k2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.929ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 1736.7 1337.5","aria-hidden":"true"},Z2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},V2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.697ex"},xmlns:"http://www.w3.org/2000/svg",width:"68.142ex",height:"12.526ex",role:"img",focusable:"false",viewBox:"0 -3018.3 30118.8 5536.5","aria-hidden":"true"},D2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.159ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 8026.3 1337.5","aria-hidden":"true"},j2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.706ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 12688 1337.5","aria-hidden":"true"},A2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},R2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"39.253ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 17349.6 1337.5","aria-hidden":"true"},O2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.452ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.882ex",height:"2.149ex",role:"img",focusable:"false",viewBox:"0 -750 2600 950","aria-hidden":"true"},C2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},B2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.885ex",height:"6.757ex",role:"img",focusable:"false",viewBox:"0 -1720.9 7905.1 2986.6","aria-hidden":"true"},E2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},X2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.525ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 8188 2828.3","aria-hidden":"true"},S2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},F2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"57.948ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 25613 2828.3","aria-hidden":"true"},P2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},z2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"56.668ex",height:"6.757ex",role:"img",focusable:"false",viewBox:"0 -1720.9 25047.4 2986.6","aria-hidden":"true"},I2={class:"custom-block danger"},G2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.357ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 600 453","aria-hidden":"true"},J2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},q2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"62.882ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 27793.9 2399","aria-hidden":"true"},K2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},$2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"85.078ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 37604.7 2399","aria-hidden":"true"},Y2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},U2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-19.724ex"},xmlns:"http://www.w3.org/2000/svg",width:"102.078ex",height:"40.58ex",role:"img",focusable:"false",viewBox:"0 -9218.2 45118.4 17936.4","aria-hidden":"true"},W2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},t3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.992ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 14140.3 2828.3","aria-hidden":"true"},Q3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},T3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"58.238ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 25741.1 2828.3","aria-hidden":"true"},a3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},l3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"59.964ex",height:"6.775ex",role:"img",focusable:"false",viewBox:"0 -1728.7 26504 2994.4","aria-hidden":"true"},e3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},m3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.152ex",height:"6.757ex",role:"img",focusable:"false",viewBox:"0 -1720.9 8465.2 2986.6","aria-hidden":"true"},s3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},d3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"23.672ex",height:"6.775ex",role:"img",focusable:"false",viewBox:"0 -1728.7 10463.1 2994.4","aria-hidden":"true"},o3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},n3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.705ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.427ex",height:"2.785ex",role:"img",focusable:"false",viewBox:"0 -919.3 16984.7 1230.8","aria-hidden":"true"},r3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},i3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"62.186ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 27486.2 2399","aria-hidden":"true"},h3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},g3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"63.403ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 28024 1337.5","aria-hidden":"true"},p3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},H3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"39.737ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 17563.7 1337.5","aria-hidden":"true"},c3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},u3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-12.29ex"},xmlns:"http://www.w3.org/2000/svg",width:"119.804ex",height:"25.71ex",role:"img",focusable:"false",viewBox:"0 -5932 52953.4 11363.9","aria-hidden":"true"},L3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},w3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"65.207ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 28821.4 1337.5","aria-hidden":"true"},f3={class:"custom-block danger"},y3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.486ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.183ex",height:"2.106ex",role:"img",focusable:"false",viewBox:"0 -716 6268.8 931","aria-hidden":"true"},k3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.934ex",height:"1.864ex",role:"img",focusable:"false",viewBox:"0 -666 2622.8 823.8","aria-hidden":"true"},Z3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.09ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.427ex",height:"1.622ex",role:"img",focusable:"false",viewBox:"0 -677 2398.6 717","aria-hidden":"true"},D3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"42.627ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 18841.1 1000","aria-hidden":"true"},j3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.427ex",height:"1.717ex",role:"img",focusable:"false",viewBox:"0 -677 2398.6 759","aria-hidden":"true"},A3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},R3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"40.989ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 18116.9 1000","aria-hidden":"true"},O3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-9.316ex"},xmlns:"http://www.w3.org/2000/svg",width:"139.18ex",height:"19.764ex",role:"img",focusable:"false",viewBox:"0 -4617.8 61517.6 8735.6","aria-hidden":"true"},C3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},B3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"40.182ex",height:"6.545ex",role:"img",focusable:"false",viewBox:"0 -1084 17760.3 2892.8","aria-hidden":"true"},E3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.489ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.85ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -694 5237.8 910","aria-hidden":"true"},S3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},F3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.906ex",height:"3.018ex",role:"img",focusable:"false",viewBox:"0 -1084 7030.3 1334","aria-hidden":"true"},P3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.334ex",height:"1.339ex",role:"img",focusable:"false",viewBox:"0 -442 1031.8 592","aria-hidden":"true"},I3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},G3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.444ex",height:"2.47ex",role:"img",focusable:"false",viewBox:"0 -841.7 3290.2 1091.7","aria-hidden":"true"},N3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},J3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.215ex",height:"2.47ex",role:"img",focusable:"false",viewBox:"0 -841.7 2747.2 1091.7","aria-hidden":"true"},q3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.738ex",height:"2.213ex",role:"img",focusable:"false",viewBox:"0 -683 2536.3 978","aria-hidden":"true"},$3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.738ex",height:"2.213ex",role:"img",focusable:"false",viewBox:"0 -683 2536.3 978","aria-hidden":"true"},U3={class:"custom-block danger"},W3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},t4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"20.702ex",height:"2.565ex",role:"img",focusable:"false",viewBox:"0 -883.9 9150.1 1133.9","aria-hidden":"true"},Q4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},T4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"45.051ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 19912.6 1000","aria-hidden":"true"},a4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},l4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.576ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.73ex",height:"3.029ex",role:"img",focusable:"false",viewBox:"0 -1084 20654.8 1338.8","aria-hidden":"true"},e4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},m4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.832ex"},xmlns:"http://www.w3.org/2000/svg",width:"65.772ex",height:"12.795ex",role:"img",focusable:"false",viewBox:"0 -3077.7 29071.2 5655.3","aria-hidden":"true"},s4={class:"custom-block danger"},d4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},o4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},n4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.674ex",height:"1.595ex",role:"img",focusable:"false",viewBox:"0 -694 298 705","aria-hidden":"true"},i4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},h4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.915ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 14548.6 1000","aria-hidden":"true"},g4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},p4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"56.668ex",height:"6.757ex",role:"img",focusable:"false",viewBox:"0 -1720.9 25047.4 2986.6","aria-hidden":"true"},H4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},c4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"62.882ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 27793.9 2399","aria-hidden":"true"},u4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},L4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"85.078ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 37604.7 2399","aria-hidden":"true"},w4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},f4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.992ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 14140.3 2828.3","aria-hidden":"true"},y4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},x4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"58.238ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 25741.1 2828.3","aria-hidden":"true"},k4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},M4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.705ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.427ex",height:"2.785ex",role:"img",focusable:"false",viewBox:"0 -919.3 16984.7 1230.8","aria-hidden":"true"},Z4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},V4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"39.737ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 17563.7 1337.5","aria-hidden":"true"},D4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"65.207ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 28821.4 1337.5","aria-hidden":"true"},j4={class:"custom-block danger"},v4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},A4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.264ex"},xmlns:"http://www.w3.org/2000/svg",width:"39.841ex",height:"7.659ex",role:"img",focusable:"false",viewBox:"0 -1942.6 17609.9 3385.2","aria-hidden":"true"},R4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},O4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.266ex"},xmlns:"http://www.w3.org/2000/svg",width:"51.379ex",height:"7.663ex",role:"img",focusable:"false",viewBox:"0 -1943.4 22709.3 3386.9","aria-hidden":"true"},_4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},C4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.69ex"},xmlns:"http://www.w3.org/2000/svg",width:"59.885ex",height:"8.512ex",role:"img",focusable:"false",viewBox:"0 -2131.1 26469.3 3762.1","aria-hidden":"true"},B4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},E4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"54.897ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 24264.3 2431.6","aria-hidden":"true"},X4={class:"custom-block info"},S4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.773ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.433ex",height:"3.47ex",role:"img",focusable:"false",viewBox:"0 -750 7705.4 1533.6","aria-hidden":"true"},P4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.076ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3127.6 1000","aria-hidden":"true"},I4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},G4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"41.952ex",height:"6.354ex",role:"img",focusable:"false",viewBox:"0 -1562.5 18542.6 2808.5","aria-hidden":"true"},N4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},J4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.353ex"},xmlns:"http://www.w3.org/2000/svg",width:"61.207ex",height:"7.836ex",role:"img",focusable:"false",viewBox:"0 -1981.9 27053.3 3463.7","aria-hidden":"true"},q4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},K4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.628ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 7791.4 1000","aria-hidden":"true"},$4={class:"custom-block warning"},Y4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},W4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},Q6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.562ex",height:"1.332ex",role:"img",focusable:"false",viewBox:"0 -431 1574.4 588.8","aria-hidden":"true"},a6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.253ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1880 1000","aria-hidden":"true"},e6={class:"custom-block tip"},m6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},d6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},o6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.562ex",height:"1.332ex",role:"img",focusable:"false",viewBox:"0 -431 1574.4 588.8","aria-hidden":"true"},n6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.253ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1880 1000","aria-hidden":"true"},i6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},h6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.642ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.647ex",height:"10.415ex",role:"img",focusable:"false",viewBox:"0 -2551.7 19733.8 4603.4","aria-hidden":"true"},g6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.773ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.175ex",height:"3.47ex",role:"img",focusable:"false",viewBox:"0 -750 4939.5 1533.6","aria-hidden":"true"},H6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},u6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},w6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.082ex",height:"1.952ex",role:"img",focusable:"false",viewBox:"0 -705 920.4 862.8","aria-hidden":"true"},y6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},k6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.95ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1303.8 692.6","aria-hidden":"true"},Z6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.95ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1303.8 692.6","aria-hidden":"true"},D6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},j6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.118ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.847ex",height:"6.04ex",role:"img",focusable:"false",viewBox:"0 -849.5 16728.2 2669.8","aria-hidden":"true"},A6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},R6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.665ex",height:"2.289ex",role:"img",focusable:"false",viewBox:"0 -750 7365.8 1011.6","aria-hidden":"true"},O6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.516ex",height:"2.289ex",role:"img",focusable:"false",viewBox:"0 -750 5532.3 1011.6","aria-hidden":"true"},C6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.826ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 807.3 599.8","aria-hidden":"true"},E6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.005ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.328ex",height:"2.627ex",role:"img",focusable:"false",viewBox:"0 -717 5006.8 1161.2","aria-hidden":"true"},S6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.005ex",height:"1.645ex",role:"img",focusable:"false",viewBox:"0 -717 444 727","aria-hidden":"true"},P6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.489ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.459ex",height:"2.066ex",role:"img",focusable:"false",viewBox:"0 -697 3739.1 913","aria-hidden":"true"},I6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},G6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.489ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.616ex",height:"2.066ex",role:"img",focusable:"false",viewBox:"0 -697 1598.2 913","aria-hidden":"true"},N6={class:"custom-block info"},J6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},q6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"69.488ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 30713.6 2431.6","aria-hidden":"true"},K6={class:"custom-block tip"},$6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},U6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},W6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.689ex",height:"1.74ex",role:"img",focusable:"false",viewBox:"0 -759 746.5 769","aria-hidden":"true"},t5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Q5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.152ex",height:"2.283ex",role:"img",focusable:"false",viewBox:"0 -759 5371 1009","aria-hidden":"true"},T5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.452ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.012ex",height:"2.17ex",role:"img",focusable:"false",viewBox:"0 -759 2215.5 959","aria-hidden":"true"},l5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},e5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.452ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.406ex",height:"2.149ex",role:"img",focusable:"false",viewBox:"0 -750 2389.4 950","aria-hidden":"true"},m5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.806ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.751ex",height:"2.503ex",role:"img",focusable:"false",viewBox:"0 -750 14034.1 1106.2","aria-hidden":"true"},d5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},o5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.869ex"},xmlns:"http://www.w3.org/2000/svg",width:"48.807ex",height:"2.869ex",role:"img",focusable:"false",viewBox:"0 -884 21572.8 1267.9","aria-hidden":"true"},n5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},r5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"43.858ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 19385.4 1000","aria-hidden":"true"},i5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.782ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.028ex",height:"2.32ex",role:"img",focusable:"false",viewBox:"0 -680 3106.2 1025.5","aria-hidden":"true"},g5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.672ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 1180.8 588.1","aria-hidden":"true"},H5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},u5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},L5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.782ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.17ex",height:"2.32ex",role:"img",focusable:"false",viewBox:"0 -680 7589 1025.5","aria-hidden":"true"},w5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},y5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},x5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.738ex"},xmlns:"http://www.w3.org/2000/svg",width:"50.054ex",height:"4.774ex",role:"img",focusable:"false",viewBox:"0 -1342 22123.7 2110","aria-hidden":"true"},k5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},Z5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.672ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 1180.8 588.1","aria-hidden":"true"},D5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"55.048ex",height:"5.475ex",role:"img",focusable:"false",viewBox:"0 -1460 24331.1 2420","aria-hidden":"true"},j5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.049ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.595ex",height:"7.229ex",role:"img",focusable:"false",viewBox:"0 -1847.5 19711.2 3195.1","aria-hidden":"true"},A5={class:"custom-block tip"},R5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.253ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1880 1000","aria-hidden":"true"},_5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},C5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-7.341ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.57ex",height:"15.814ex",role:"img",focusable:"false",viewBox:"0 -3744.9 20584 6989.8","aria-hidden":"true"},B5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.9ex",height:"2.283ex",role:"img",focusable:"false",viewBox:"0 -759 5259.9 1009","aria-hidden":"true"},X5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},S5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-15.681ex"},xmlns:"http://www.w3.org/2000/svg",width:"76.145ex",height:"32.492ex",role:"img",focusable:"false",viewBox:"0 -7430.8 33656 14361.6","aria-hidden":"true"},F5={class:"custom-block tip"},P5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},z5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.915ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 14548.6 1000","aria-hidden":"true"},I5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},G5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.992ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 14140.3 2828.3","aria-hidden":"true"},N5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},J5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"56.98ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 25185.1 2828.3","aria-hidden":"true"},q5={class:"custom-block info"},K5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},Y5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},W5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.42ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2395.6 1000","aria-hidden":"true"},Q0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.42ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2395.6 1000","aria-hidden":"true"},a0={class:"custom-block note"},l0={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},e0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"54.897ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 24264.3 2431.6","aria-hidden":"true"},m0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},d0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},o0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},n0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.475ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.507ex",height:"3.844ex",role:"img",focusable:"false",viewBox:"0 -1047.1 3760 1699.2","aria-hidden":"true"},i0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.475ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.507ex",height:"3.844ex",role:"img",focusable:"false",viewBox:"0 -1047.1 3760 1699.2","aria-hidden":"true"},g0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.045ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.61ex",height:"3.445ex",role:"img",focusable:"false",viewBox:"0 -1060.7 6899.5 1522.8","aria-hidden":"true"},H0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.662ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 4270.7 1000","aria-hidden":"true"},u0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},w0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},y0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.895ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5257.6 1000","aria-hidden":"true"},k0={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},M0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"35.554ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 15714.7 2431.6","aria-hidden":"true"},Z0={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},V0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"84.405ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 37306.8 2399","aria-hidden":"true"},D0={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.912ex"},xmlns:"http://www.w3.org/2000/svg",width:"93.525ex",height:"6.215ex",role:"img",focusable:"false",viewBox:"0 -1460 41338.2 2747.2","aria-hidden":"true"},j0={class:"custom-block danger"},v0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.704ex",height:"3.018ex",role:"img",focusable:"false",viewBox:"0 -1084 3847 1334","aria-hidden":"true"},R0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"27.197ex",height:"3.243ex",role:"img",focusable:"false",viewBox:"0 -1084 12021.2 1433.5","aria-hidden":"true"},_0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},C0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.895ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5257.6 1000","aria-hidden":"true"},B0={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},E0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"59.027ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 26090.2 2399","aria-hidden":"true"},X0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.61ex",height:"2.809ex",role:"img",focusable:"false",viewBox:"0 -1084 2921.8 1241.8","aria-hidden":"true"},F0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.607ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2036.3 1000","aria-hidden":"true"},z0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.44ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5498.3 1000","aria-hidden":"true"},G0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.44ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5498.3 1000","aria-hidden":"true"},J0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},q0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.672ex",height:"3.018ex",role:"img",focusable:"false",viewBox:"0 -1084 4717.2 1334","aria-hidden":"true"},K0={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},$0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"40.921ex",height:"3.243ex",role:"img",focusable:"false",viewBox:"0 -1084 18087.2 1433.5","aria-hidden":"true"},Y0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.672ex",height:"3.018ex",role:"img",focusable:"false",viewBox:"0 -1084 4717.2 1334","aria-hidden":"true"},W0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},Q7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.61ex",height:"2.809ex",role:"img",focusable:"false",viewBox:"0 -1084 2921.8 1241.8","aria-hidden":"true"},a7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.607ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2036.3 1000","aria-hidden":"true"},e7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.44ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5498.3 1000","aria-hidden":"true"},s7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.672ex",height:"3.018ex",role:"img",focusable:"false",viewBox:"0 -1084 4717.2 1334","aria-hidden":"true"},o7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},n7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"40.921ex",height:"3.243ex",role:"img",focusable:"false",viewBox:"0 -1084 18087.2 1433.5","aria-hidden":"true"},r7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.672ex",height:"3.018ex",role:"img",focusable:"false",viewBox:"0 -1084 4717.2 1334","aria-hidden":"true"},h7={class:"custom-block note"},g7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},p7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.769ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.448ex",height:"2.896ex",role:"img",focusable:"false",viewBox:"0 -940.1 16994 1279.9","aria-hidden":"true"},H7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.632ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 6467.3 1000","aria-hidden":"true"},u7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.281ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 566 899","aria-hidden":"true"},w7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.359ex",height:"2.289ex",role:"img",focusable:"false",viewBox:"0 -750 9440.6 1011.6","aria-hidden":"true"},y7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},k7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.281ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 566 899","aria-hidden":"true"},Z7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.048ex",height:"2.289ex",role:"img",focusable:"false",viewBox:"0 -750 9303.4 1011.6","aria-hidden":"true"},D7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.281ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 566 899","aria-hidden":"true"},j7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"54.897ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 24264.3 2431.6","aria-hidden":"true"},A7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},R7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"85.136ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 37630.1 2431.6","aria-hidden":"true"},O7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"66.8ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 29525.6 2431.6","aria-hidden":"true"},C7={class:"custom-block info"},B7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},E7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"48.965ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 21642.7 2431.6","aria-hidden":"true"},X7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},S7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"69.488ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 30713.6 2431.6","aria-hidden":"true"},F7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},P7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"84.405ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 37306.8 2399","aria-hidden":"true"},z7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},I7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.912ex"},xmlns:"http://www.w3.org/2000/svg",width:"93.525ex",height:"6.215ex",role:"img",focusable:"false",viewBox:"0 -1460 41338.2 2747.2","aria-hidden":"true"},G7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},N7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"94.928ex",height:"7.044ex",role:"img",focusable:"false",viewBox:"0 -1867.4 41958.2 3113.3","aria-hidden":"true"},J7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},q7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-6.345ex"},xmlns:"http://www.w3.org/2000/svg",width:"99.809ex",height:"10.57ex",role:"img",focusable:"false",viewBox:"0 -1867.4 44115.7 4672.1","aria-hidden":"true"},K7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},$7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"66.8ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 29525.6 2431.6","aria-hidden":"true"},Y7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},U7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"85.136ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 37630.1 2431.6","aria-hidden":"true"},W7={class:"custom-block note"},t8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Q8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.889ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 8790.7 2431.6","aria-hidden":"true"},T8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},a8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.854ex",height:"2.713ex",role:"img",focusable:"false",viewBox:"0 -849.5 14079.4 1199","aria-hidden":"true"},l8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},e8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"90.879ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 40168.5 2431.6","aria-hidden":"true"},m8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},s8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-6.345ex"},xmlns:"http://www.w3.org/2000/svg",width:"99.809ex",height:"10.57ex",role:"img",focusable:"false",viewBox:"0 -1867.4 44115.7 4672.1","aria-hidden":"true"},d8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},o8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.61ex",height:"1.977ex",role:"img",focusable:"false",viewBox:"0 -716 2921.8 873.8","aria-hidden":"true"},n8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},r8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.327ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.816ex",height:"5.785ex",role:"img",focusable:"false",viewBox:"0 -1528.4 20692.7 2556.9","aria-hidden":"true"},i8={class:"custom-block note"},h8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},g8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.5ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -705 11713 1000","aria-hidden":"true"},p8={class:"custom-block note"},H8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.824ex",height:"1.642ex",role:"img",focusable:"false",viewBox:"0 -431 1690.3 726","aria-hidden":"true"},u8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},w8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},f8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.811ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.073ex",height:"2.508ex",role:"img",focusable:"false",viewBox:"0 -750 11524.2 1108.6","aria-hidden":"true"},y8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},x8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.256ex"},xmlns:"http://www.w3.org/2000/svg",width:"62.252ex",height:"5.661ex",role:"img",focusable:"false",viewBox:"0 -1505 27515.2 2502.1","aria-hidden":"true"},k8={class:"custom-block note"},M8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Z8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"64.534ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 28523.9 1000","aria-hidden":"true"},V8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},D8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.666ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.966ex",height:"1.985ex",role:"img",focusable:"false",viewBox:"0 -583 9709 877.2","aria-hidden":"true"},b8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},j8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.466ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.029ex",height:"2.036ex",role:"img",focusable:"false",viewBox:"0 -694 2222.7 900","aria-hidden":"true"},v8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},A8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.748ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 17126.5 2399","aria-hidden":"true"},R8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},O8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"40.626ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 17956.9 2399","aria-hidden":"true"},_8={class:"custom-block note"},C8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.334ex",height:"1.339ex",role:"img",focusable:"false",viewBox:"0 -442 1031.8 592","aria-hidden":"true"},E8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.334ex",height:"1.339ex",role:"img",focusable:"false",viewBox:"0 -442 1031.8 592","aria-hidden":"true"},S8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},F8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.449ex",height:"2.364ex",role:"img",focusable:"false",viewBox:"0 -750 5502.6 1045","aria-hidden":"true"},P8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},z8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.747ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 16684.4 2399","aria-hidden":"true"},I8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},G8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"61.838ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 27332.5 2465","aria-hidden":"true"},N8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},J8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.334ex",height:"1.339ex",role:"img",focusable:"false",viewBox:"0 -442 1031.8 592","aria-hidden":"true"},q8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.786ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 789.3 599.8","aria-hidden":"true"},$8={class:"custom-block note"},Y8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},U8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"35.657ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 15760.4 2465","aria-hidden":"true"},W8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},t9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"61.838ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 27332.5 2465","aria-hidden":"true"},Q9={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},T9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.403ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 16974.1 2465","aria-hidden":"true"},a9={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},l9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"52.119ex",height:"2.713ex",role:"img",focusable:"false",viewBox:"0 -849.5 23036.7 1199","aria-hidden":"true"},e9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.334ex",height:"1.339ex",role:"img",focusable:"false",viewBox:"0 -442 1031.8 592","aria-hidden":"true"},s9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.786ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 789.3 599.8","aria-hidden":"true"},o9={class:"custom-block important"},n9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.561ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2016 1000","aria-hidden":"true"},i9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.561ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2016 1000","aria-hidden":"true"},g9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.023ex",role:"img",focusable:"false",viewBox:"0 -442 469 452","aria-hidden":"true"},H9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.826ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 807.3 599.8","aria-hidden":"true"},u9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.786ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 789.3 599.8","aria-hidden":"true"},w9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},y9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.334ex",height:"1.339ex",role:"img",focusable:"false",viewBox:"0 -442 1031.8 592","aria-hidden":"true"},k9={class:"custom-block important"},M9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.023ex",role:"img",focusable:"false",viewBox:"0 -442 469 452","aria-hidden":"true"},V9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},D9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.826ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 807.3 599.8","aria-hidden":"true"},b9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},j9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.282ex",height:"2.364ex",role:"img",focusable:"false",viewBox:"0 -750 2334.4 1045","aria-hidden":"true"},v9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.844ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2582.9 1000","aria-hidden":"true"},R9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.326ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2354.3 1000","aria-hidden":"true"},_9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},C9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.848ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3468.9 1000","aria-hidden":"true"},B9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},X9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.826ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 807.3 599.8","aria-hidden":"true"},F9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.348ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -694 596 899","aria-hidden":"true"},z9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.689ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2514.4 978.7","aria-hidden":"true"},G9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},J9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},q9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.483ex",height:"1.902ex",role:"img",focusable:"false",viewBox:"0 -683 1097.3 840.8","aria-hidden":"true"},K9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},Y9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.178ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3172.6 1000","aria-hidden":"true"},W9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},tt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.826ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 807.3 599.8","aria-hidden":"true"},Qt={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Tt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.178ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3172.6 1000","aria-hidden":"true"},at={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},lt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"29.432ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 13009 1000","aria-hidden":"true"},et={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},mt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.471ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.83ex",height:"1.471ex",role:"img",focusable:"false",viewBox:"0 -442 1692.9 650","aria-hidden":"true"},st={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},dt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.992ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 14140.3 2828.3","aria-hidden":"true"},ot={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},nt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.705ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.427ex",height:"2.785ex",role:"img",focusable:"false",viewBox:"0 -919.3 16984.7 1230.8","aria-hidden":"true"},rt={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},it={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.178ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3172.6 1000","aria-hidden":"true"},ht={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},gt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"35.326ex",height:"3.069ex",role:"img",focusable:"false",viewBox:"0 -1060.7 15614.1 1356.4","aria-hidden":"true"},pt={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Ht={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.083ex",height:"2.713ex",role:"img",focusable:"false",viewBox:"0 -849.5 5340.6 1199","aria-hidden":"true"},ct={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ut={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.826ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 807.3 599.8","aria-hidden":"true"},Lt={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},wt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.047ex",height:"2.364ex",role:"img",focusable:"false",viewBox:"0 -750 2672.7 1045","aria-hidden":"true"},ft={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},yt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.191ex",height:"5.876ex",role:"img",focusable:"false",viewBox:"0 -1647.5 12460.6 2597","aria-hidden":"true"},xt={class:"custom-block danger"},kt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Mt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"27.988ex",height:"5.876ex",role:"img",focusable:"false",viewBox:"0 -1647.5 12370.8 2597","aria-hidden":"true"},Zt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Vt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"35.217ex",height:"6.74ex",role:"img",focusable:"false",viewBox:"0 -1733 15565.9 2978.9","aria-hidden":"true"},Dt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},bt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.074ex",height:"5.789ex",role:"img",focusable:"false",viewBox:"0 -750 12408.9 2558.8","aria-hidden":"true"},jt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},vt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.196ex"},xmlns:"http://www.w3.org/2000/svg",width:"29.993ex",height:"7.923ex",role:"img",focusable:"false",viewBox:"0 -1647.5 13256.8 3501.9","aria-hidden":"true"},At={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Rt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.032ex",height:"7.82ex",role:"img",focusable:"false",viewBox:"0 -1647.5 11506.1 3456.2","aria-hidden":"true"},Ot={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_t={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},Ct={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Bt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.483ex",height:"1.902ex",role:"img",focusable:"false",viewBox:"0 -683 1097.3 840.8","aria-hidden":"true"},Et={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Xt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},St={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Ft={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.583ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 13517.8 1000","aria-hidden":"true"},Pt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},zt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"41.8ex",height:"5.789ex",role:"img",focusable:"false",viewBox:"0 -750 18475.8 2558.8","aria-hidden":"true"},It={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Gt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.501ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 12597.4 2828.3","aria-hidden":"true"},Nt={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Jt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},qt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Kt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"65.944ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 29147.2 1000","aria-hidden":"true"},$t={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Yt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.555ex",height:"2.032ex",role:"img",focusable:"false",viewBox:"0 -704 1129.3 898","aria-hidden":"true"},Ut={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Wt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.835ex",height:"2.749ex",role:"img",focusable:"false",viewBox:"0 -919.3 14071.2 1215","aria-hidden":"true"},tQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},QQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.178ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3172.6 1000","aria-hidden":"true"},TQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},aQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.61ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 6899.5 1337.5","aria-hidden":"true"},lQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},eQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.591ex",height:"1.902ex",role:"img",focusable:"false",viewBox:"0 -683 1587.4 840.8","aria-hidden":"true"},mQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},sQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},dQ={class:"custom-block danger"},oQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},nQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.074ex",height:"5.789ex",role:"img",focusable:"false",viewBox:"0 -750 12408.9 2558.8","aria-hidden":"true"},rQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},iQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.196ex"},xmlns:"http://www.w3.org/2000/svg",width:"29.993ex",height:"7.923ex",role:"img",focusable:"false",viewBox:"0 -1647.5 13256.8 3501.9","aria-hidden":"true"},hQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},gQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.032ex",height:"7.82ex",role:"img",focusable:"false",viewBox:"0 -1647.5 11506.1 3456.2","aria-hidden":"true"},pQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},HQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},cQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},uQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.483ex",height:"1.902ex",role:"img",focusable:"false",viewBox:"0 -683 1097.3 840.8","aria-hidden":"true"},LQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},wQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.848ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3468.9 1000","aria-hidden":"true"},fQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},yQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.047ex",height:"2.364ex",role:"img",focusable:"false",viewBox:"0 -750 2672.7 1045","aria-hidden":"true"},xQ={class:"custom-block danger"},kQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},MQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.671ex"},xmlns:"http://www.w3.org/2000/svg",width:"65.282ex",height:"6.474ex",role:"img",focusable:"false",viewBox:"0 -1680.8 28854.4 2861.5","aria-hidden":"true"},ZQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},VQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.705ex"},xmlns:"http://www.w3.org/2000/svg",width:"63.648ex",height:"2.785ex",role:"img",focusable:"false",viewBox:"0 -919.3 28132.2 1230.8","aria-hidden":"true"},DQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},bQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.449ex"},xmlns:"http://www.w3.org/2000/svg",width:"75.362ex",height:"10.029ex",role:"img",focusable:"false",viewBox:"0 -2466.3 33309.8 4432.6","aria-hidden":"true"},jQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},vQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.705ex"},xmlns:"http://www.w3.org/2000/svg",width:"53.84ex",height:"2.785ex",role:"img",focusable:"false",viewBox:"0 -919.3 23797.4 1230.8","aria-hidden":"true"},AQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},RQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-6.854ex"},xmlns:"http://www.w3.org/2000/svg",width:"66.789ex",height:"14.838ex",role:"img",focusable:"false",viewBox:"0 -3529.3 29520.9 6558.5","aria-hidden":"true"},OQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_Q={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.463ex"},xmlns:"http://www.w3.org/2000/svg",width:"66.789ex",height:"8.058ex",role:"img",focusable:"false",viewBox:"0 -2030.8 29520.9 3561.6","aria-hidden":"true"},CQ={class:"custom-block danger"},BQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},EQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.919ex",height:"1ex",role:"img",focusable:"false",viewBox:"0 -431 406 442","aria-hidden":"true"},XQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},SQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"49.619ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 21931.6 2399","aria-hidden":"true"},FQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},PQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"33.287ex",height:"5.876ex",role:"img",focusable:"false",viewBox:"0 -1647.5 14712.7 2597","aria-hidden":"true"},zQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},IQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"33.635ex",height:"5.876ex",role:"img",focusable:"false",viewBox:"0 -1647.5 14866.9 2597","aria-hidden":"true"},GQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},NQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.475ex",height:"2.347ex",role:"img",focusable:"false",viewBox:"0 -750 13469.9 1037.2","aria-hidden":"true"},JQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},qQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.227ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3194.5 1000","aria-hidden":"true"},KQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},$Q={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"25.219ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 11146.6 2399","aria-hidden":"true"},YQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},UQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.944ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3511.3 1000","aria-hidden":"true"},WQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},tT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.227ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3194.5 1000","aria-hidden":"true"},QT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},TT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.946ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 6164.2 1000","aria-hidden":"true"},aT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},lT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},eT={class:"custom-block info"},mT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},sT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},dT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},oT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},nT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},rT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},iT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},hT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},gT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},pT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},HT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},cT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"43.372ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 19170.6 2431.6","aria-hidden":"true"},uT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},LT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.929ex",height:"6.014ex",role:"img",focusable:"false",viewBox:"0 -849.5 20742.6 2658.3","aria-hidden":"true"},wT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},fT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.725ex"},xmlns:"http://www.w3.org/2000/svg",width:"62.898ex",height:"9.028ex",role:"img",focusable:"false",viewBox:"0 -1460 27801 3990.3","aria-hidden":"true"},yT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},xT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.725ex"},xmlns:"http://www.w3.org/2000/svg",width:"64.314ex",height:"9.028ex",role:"img",focusable:"false",viewBox:"0 -1460 28427 3990.3","aria-hidden":"true"},kT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},MT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.725ex"},xmlns:"http://www.w3.org/2000/svg",width:"45.755ex",height:"9.028ex",role:"img",focusable:"false",viewBox:"0 -1460 20223.5 3990.3","aria-hidden":"true"},ZT={class:"custom-block note"},VT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},DT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.915ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 14548.6 1000","aria-hidden":"true"},bT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},jT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.992ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 14140.3 2828.3","aria-hidden":"true"},vT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},AT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"56.98ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 25185.1 2828.3","aria-hidden":"true"},RT={class:"custom-block note"},OT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_T={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.049ex",height:"1.909ex",role:"img",focusable:"false",viewBox:"0 -833.9 905.6 843.9","aria-hidden":"true"},CT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},BT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.082ex",height:"1.954ex",role:"img",focusable:"false",viewBox:"0 -853.7 920.4 863.7","aria-hidden":"true"},ET={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},XT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.024ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2220.7 1000","aria-hidden":"true"},ST={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},FT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.082ex",height:"1.954ex",role:"img",focusable:"false",viewBox:"0 -853.7 920.4 863.7","aria-hidden":"true"},PT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},zT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.698ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 4728.4 1000","aria-hidden":"true"},IT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},GT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},NT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},JT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.706ex",height:"2.95ex",role:"img",focusable:"false",viewBox:"0 -1016.7 14013.8 1304.1","aria-hidden":"true"},qT={class:"custom-block note"},KT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},$T={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"25.265ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 11166.9 1000","aria-hidden":"true"},YT={class:"custom-block tip"},UT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},WT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},ta={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Qa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.109ex",height:"1.464ex",role:"img",focusable:"false",viewBox:"0 -442 490 647","aria-hidden":"true"},Ta={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},aa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},la={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ea={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.824ex",height:"1.642ex",role:"img",focusable:"false",viewBox:"0 -431 1690.3 726","aria-hidden":"true"},ma={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},sa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.685ex",height:"1.642ex",role:"img",focusable:"false",viewBox:"0 -431 1628.8 726","aria-hidden":"true"},da={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},oa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"59.196ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 26164.7 2399","aria-hidden":"true"},na={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},ra={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"52.119ex",height:"2.713ex",role:"img",focusable:"false",viewBox:"0 -849.5 23036.7 1199","aria-hidden":"true"},ia={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},ha={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"43.776ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 19349.1 2399","aria-hidden":"true"},ga={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},pa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"59.196ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 26164.7 2399","aria-hidden":"true"},Ha={class:"custom-block tip"},ca={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},ua={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.542ex",height:"5.208ex",role:"img",focusable:"false",viewBox:"0 -1342 19687.8 2302","aria-hidden":"true"},La={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},wa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.69ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2073 1000","aria-hidden":"true"},fa={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},ya={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.93ex"},xmlns:"http://www.w3.org/2000/svg",width:"35.973ex",height:"5.966ex",role:"img",focusable:"false",viewBox:"0 -1342 15900.1 2637","aria-hidden":"true"},xa={class:"custom-block tip"},ka={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Ma={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-16.397ex"},xmlns:"http://www.w3.org/2000/svg",width:"72.688ex",height:"33.925ex",role:"img",focusable:"false",viewBox:"0 -7747.5 32128.2 14995","aria-hidden":"true"},Za={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Va={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.69ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2073 1000","aria-hidden":"true"},Da={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ba={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.326ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3680.1 1000","aria-hidden":"true"},ja={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},va={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.93ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.723ex",height:"5.079ex",role:"img",focusable:"false",viewBox:"0 -950 13579.6 2245","aria-hidden":"true"},Aa={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Ra={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.71ex",height:"5.901ex",role:"img",focusable:"false",viewBox:"0 -1648.3 14016 2608.3","aria-hidden":"true"},Oa={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_a={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-11.736ex"},xmlns:"http://www.w3.org/2000/svg",width:"53.172ex",height:"24.604ex",role:"img",focusable:"false",viewBox:"0 -5687.5 23502.1 10874.9","aria-hidden":"true"},Ca={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Ba={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.326ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3680.1 1000","aria-hidden":"true"},Ea={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Xa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.71ex",height:"5.901ex",role:"img",focusable:"false",viewBox:"0 -1648.3 14016 2608.3","aria-hidden":"true"},Sa={class:"custom-block tip"},Fa={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Pa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.326ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3680.1 1000","aria-hidden":"true"},za={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Ia={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.331ex",height:"2.364ex",role:"img",focusable:"false",viewBox:"0 -750 3240.1 1045","aria-hidden":"true"},Ga={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Na={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.074ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 12408.9 2465","aria-hidden":"true"},Ja={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},qa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"33.724ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 14906.1 2465","aria-hidden":"true"},Ka={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},$a={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"41.039ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 18139.2 2465","aria-hidden":"true"},Ya={class:"custom-block tip"},Ua={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Wa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-10.064ex"},xmlns:"http://www.w3.org/2000/svg",width:"91.342ex",height:"21.26ex",role:"img",focusable:"false",viewBox:"0 -4948.5 40373 9397","aria-hidden":"true"},tl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Ql={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.375ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.546ex",height:"1.92ex",role:"img",focusable:"false",viewBox:"0 -683 5545.5 848.6","aria-hidden":"true"},Tl={class:"custom-block tip"},al={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ll={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.796ex",height:"1.414ex",role:"img",focusable:"false",viewBox:"0 -431 3003.7 625","aria-hidden":"true"},el={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ml={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},sl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},dl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.824ex",height:"1.642ex",role:"img",focusable:"false",viewBox:"0 -431 1690.3 726","aria-hidden":"true"},ol={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},nl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"41.039ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 18139.2 2465","aria-hidden":"true"},rl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},il={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.442ex",height:"1.464ex",role:"img",focusable:"false",viewBox:"0 -442 1079.3 647","aria-hidden":"true"},hl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},gl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.773ex",height:"1.464ex",role:"img",focusable:"false",viewBox:"0 -442 783.7 647","aria-hidden":"true"},pl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Hl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.31ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5883.1 1000","aria-hidden":"true"},cl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},ul={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-7.123ex"},xmlns:"http://www.w3.org/2000/svg",width:"90.131ex",height:"15.378ex",role:"img",focusable:"false",viewBox:"0 -3648.5 39837.8 6797","aria-hidden":"true"},Ll={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},wl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.466ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.029ex",height:"2.036ex",role:"img",focusable:"false",viewBox:"0 -694 2222.7 900","aria-hidden":"true"},fl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},yl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"82.965ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 36670.4 2465","aria-hidden":"true"},xl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},kl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"51.975ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 22972.8 2465","aria-hidden":"true"},Ml={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Zl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-8.481ex"},xmlns:"http://www.w3.org/2000/svg",width:"98.024ex",height:"18.093ex",role:"img",focusable:"false",viewBox:"0 -4248.5 43326.6 7997","aria-hidden":"true"},Vl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Dl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"47.903ex",height:"5.679ex",role:"img",focusable:"false",viewBox:"0 -1505 21173.1 2509.9","aria-hidden":"true"},bl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},jl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.816ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.988ex",height:"2.773ex",role:"img",focusable:"false",viewBox:"0 -864.9 3530.8 1225.5","aria-hidden":"true"},vl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Al={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.816ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.188ex",height:"2.773ex",role:"img",focusable:"false",viewBox:"0 -864.9 3177.2 1225.5","aria-hidden":"true"},Rl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Ol={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.602ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.803ex",height:"4.638ex",role:"img",focusable:"false",viewBox:"0 -1342 14056.7 2050","aria-hidden":"true"},_l={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Cl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.683ex"},xmlns:"http://www.w3.org/2000/svg",width:"98.197ex",height:"8.962ex",role:"img",focusable:"false",viewBox:"0 -1449.5 43403.1 3961.3","aria-hidden":"true"},Bl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},El={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"27.196ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 12020.8 2465","aria-hidden":"true"},Xl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Sl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},Fl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Pl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.526ex",height:"1.986ex",role:"img",focusable:"false",viewBox:"0 -583 4652.7 878","aria-hidden":"true"},zl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Il={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.281ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 566 899","aria-hidden":"true"},Gl={class:"custom-block warning"},Nl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Jl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"47.903ex",height:"5.679ex",role:"img",focusable:"false",viewBox:"0 -1505 21173.1 2509.9","aria-hidden":"true"},ql={class:"custom-block danger"},Kl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},$l={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"94.928ex",height:"7.044ex",role:"img",focusable:"false",viewBox:"0 -1867.4 41958.2 3113.3","aria-hidden":"true"},Yl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Ul={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.463ex"},xmlns:"http://www.w3.org/2000/svg",width:"66.789ex",height:"8.058ex",role:"img",focusable:"false",viewBox:"0 -2030.8 29520.9 3561.6","aria-hidden":"true"},Wl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},te={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"57.792ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 25543.9 2465","aria-hidden":"true"},Qe={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Te={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.462ex",height:"1.977ex",role:"img",focusable:"false",viewBox:"0 -716 1088.3 873.8","aria-hidden":"true"},ae={class:"custom-block note"},le={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},ee={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"48.815ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 21576.3 1000","aria-hidden":"true"},me={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},se={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.241ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 7620.7 1000","aria-hidden":"true"},de={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},oe={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.837ex",height:"1.355ex",role:"img",focusable:"false",viewBox:"0 -441 812 598.8","aria-hidden":"true"},ne={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},re={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.4ex",height:"5.475ex",role:"img",focusable:"false",viewBox:"0 -1460 13436.9 2420","aria-hidden":"true"},ie={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},he={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.459ex",height:"3.102ex",role:"img",focusable:"false",viewBox:"0 -1084 1528.8 1371.2","aria-hidden":"true"},ge={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},pe={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.56ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.233ex",height:"1.558ex",role:"img",focusable:"false",viewBox:"0 -441 1871.2 688.6","aria-hidden":"true"},He={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},ce={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.339ex",height:"5.475ex",role:"img",focusable:"false",viewBox:"0 -1460 13409.8 2420","aria-hidden":"true"},ue={class:"custom-block danger"},Le={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},we={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},fe={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ye={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.811ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.02ex",height:"1.786ex",role:"img",focusable:"false",viewBox:"0 -431 1776.8 789.6","aria-hidden":"true"},xe={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ke={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.786ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 789.3 599.8","aria-hidden":"true"},Me={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Ze={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.737ex",height:"2.599ex",role:"img",focusable:"false",viewBox:"0 -853.7 13585.7 1148.7","aria-hidden":"true"},Ve={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},De={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"134.898ex",height:"7.044ex",role:"img",focusable:"false",viewBox:"0 -1867.4 59625 3113.3","aria-hidden":"true"},be={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},je={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-6.345ex"},xmlns:"http://www.w3.org/2000/svg",width:"97.096ex",height:"10.57ex",role:"img",focusable:"false",viewBox:"0 -1867.4 42916.5 4672.1","aria-hidden":"true"},ve={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Ae={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.256ex"},xmlns:"http://www.w3.org/2000/svg",width:"62.252ex",height:"5.661ex",role:"img",focusable:"false",viewBox:"0 -1505 27515.2 2502.1","aria-hidden":"true"},Re={class:"custom-block tip"},Oe={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_e={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},Ce={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Be={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.29ex",height:"1.593ex",role:"img",focusable:"false",viewBox:"0 -693 570 704","aria-hidden":"true"},Ee={class:"custom-block tip"},Xe={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Se={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},Fe={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Pe={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.29ex",height:"1.593ex",role:"img",focusable:"false",viewBox:"0 -693 570 704","aria-hidden":"true"},ze={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Ie={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.561ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2016 1000","aria-hidden":"true"},Ge={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Ne={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.561ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2016 1000","aria-hidden":"true"},Je={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},qe={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.459ex",height:"3.102ex",role:"img",focusable:"false",viewBox:"0 -1084 1528.8 1371.2","aria-hidden":"true"};function Ke($e,Q,Ye,Ue,We,tm){return e(),l("div",null,[Q[1864]||(Q[1864]=a("",3)),t("div",d,[Q[34]||(Q[34]=t("div",{class:"custom-block-title"},"重要性采样",-1)),Q[35]||(Q[35]=t("p",null,[t("strong",null,"问题定义")],-1)),t("ul",null,[t("li",null,[Q[6]||(Q[6]=T("函数")),t("mjx-container",o,[(e(),l("svg",n,Q[0]||(Q[0]=[a("",1)]))),Q[1]||(Q[1]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[7]||(Q[7]=T("，需")),t("strong",null,[Q[4]||(Q[4]=T("从分布")),t("mjx-container",r,[(e(),l("svg",i,Q[2]||(Q[2]=[a("",1)]))),Q[3]||(Q[3]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[5]||(Q[5]=T("中采样"))]),Q[8]||(Q[8]=T("，来")),Q[9]||(Q[9]=t("code",null,"计算期望值",-1))]),t("li",null,[Q[14]||(Q[14]=T("但现在")),t("em",null,[Q[12]||(Q[12]=T("很难从")),t("mjx-container",h,[(e(),l("svg",g,Q[10]||(Q[10]=[a("",1)]))),Q[11]||(Q[11]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[13]||(Q[13]=T("中采样"))])])]),Q[36]||(Q[36]=t("p",null,[t("strong",null,"方法")],-1)),t("ul",null,[t("li",null,[t("strong",null,[Q[17]||(Q[17]=T("从另一个分布")),t("mjx-container",p,[(e(),l("svg",H,Q[15]||(Q[15]=[a("",1)]))),Q[16]||(Q[16]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[18]||(Q[18]=T("中采样"))]),Q[23]||(Q[23]=T("(容易)，")),t("strong",null,[Q[21]||(Q[21]=T("间接达到从")),t("mjx-container",c,[(e(),l("svg",u,Q[19]||(Q[19]=[a("",1)]))),Q[20]||(Q[20]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[22]||(Q[22]=T("中采样的效果"))])])]),t("mjx-container",L,[(e(),l("svg",w,Q[24]||(Q[24]=[a("",1)]))),Q[25]||(Q[25]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])]),t("mtd",null,[t("mo",null,"="),t("mo",{"data-mjx-texclass":"OP"},"∫"),t("mstyle",{mathcolor:"red"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mtext",null," "),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",null,"x")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mo",{"data-mjx-texclass":"OP"},"∫"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mfrac",null,[t("mrow",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mtext",null," "),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",null,"x")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mrow",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])])])])],-1))]),Q[37]||(Q[37]=t("ul",null,[t("li",null,"总结")],-1)),t("mjx-container",f,[(e(),l("svg",y,Q[26]||(Q[26]=[a("",1)]))),Q[27]||(Q[27]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"p")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"q")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mrow",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")]),t("munder",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i")])])]),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mrow",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"x"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"x"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")")])])]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"x"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")")])],-1))]),t("ul",null,[t("li",null,[t("p",null,[t("mjx-container",x,[(e(),l("svg",k,Q[28]||(Q[28]=[a("",1)]))),Q[29]||(Q[29]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mrow",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])])])],-1))]),Q[30]||(Q[30]=T("：")),Q[31]||(Q[31]=t("strong",null,"重要性权重",-1))]),Q[32]||(Q[32]=t("ul",null,[t("li",null,[t("code",null,"用来修正采样的偏差"),T("，即两个分布之间的"),t("code",null,"差异")])],-1))]),Q[33]||(Q[33]=t("li",null,[t("p",null,[t("strong",null,"重要性采样"),T("也是一种"),t("code",null,"特殊的MC采样")]),t("ul",null,[t("li",null,[T("允许"),t("strong",null,"从简单分布采样"),T("，"),t("em",null,"避免直接从困难分布采样"),T("的问题。")])])],-1))])]),Q[1865]||(Q[1865]=t("h4",{id:"重要性采样的缺点",tabindex:"-1"},[T("重要性采样的缺点 "),t("a",{class:"header-anchor",href:"#重要性采样的缺点","aria-label":'Permalink to "重要性采样的缺点"'},"​")],-1)),t("div",M,[Q[104]||(Q[104]=t("div",{class:"custom-block-title"},"重要性采样缺点",-1)),Q[105]||(Q[105]=t("p",null,[t("strong",null,"缺点")],-1)),t("ul",null,[t("li",null,[t("strong",null,[t("mjx-container",Z,[(e(),l("svg",V,Q[38]||(Q[38]=[a("",1)]))),Q[39]||(Q[39]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[42]||(Q[42]=T("和")),t("mjx-container",D,[(e(),l("svg",b,Q[40]||(Q[40]=[a("",1)]))),Q[41]||(Q[41]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[43]||(Q[43]=T("差异较大时"))]),Q[58]||(Q[58]=T("，")),Q[59]||(Q[59]=t("code",null,"方差很大",-1)),Q[60]||(Q[60]=T("，尽管期望相同。 ")),t("ul",null,[t("li",null,[t("mjx-container",j,[(e(),l("svg",v,Q[44]||(Q[44]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D45E",d:"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[45]||(Q[45]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"q")])],-1))]),Q[53]||(Q[53]=T("越接近")),t("mjx-container",A,[(e(),l("svg",R,Q[46]||(Q[46]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D45D",d:"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[47]||(Q[47]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"p")])],-1))]),Q[54]||(Q[54]=T("，")),Q[55]||(Q[55]=t("strong",null,"方差越小",-1)),Q[56]||(Q[56]=T("；")),t("strong",null,[t("mjx-container",O,[(e(),l("svg",_,Q[48]||(Q[48]=[a("",1)]))),Q[49]||(Q[49]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[52]||(Q[52]=T("必须尽可能接近")),t("mjx-container",C,[(e(),l("svg",B,Q[50]||(Q[50]=[a("",1)]))),Q[51]||(Q[51]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))])])]),Q[57]||(Q[57]=t("li",null,[T("为什么分布接近方差小？见"),t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/06-policy-gradient.html#%E9%99%8D%E4%BD%8E%E6%96%B9%E5%B7%AE%E6%96%B9%E6%B3%95%E7%9A%84%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%AF%BC",target:"_blank",rel:"noreferrer"},"降低方差方法的公式推导"),T(" 👍")],-1))])]),t("li",null,[Q[77]||(Q[77]=t("strong",null,"当q和p差异大时",-1)),Q[78]||(Q[78]=T("，需通过")),Q[79]||(Q[79]=t("code",null,"足够多的采样",-1)),Q[80]||(Q[80]=T("，")),Q[81]||(Q[81]=t("code",null,"抵消差异对期望的影响",-1)),t("ul",null,[t("li",null,[Q[68]||(Q[68]=T("如果采样次数不够多 ")),t("ul",null,[t("li",null,[t("mjx-container",E,[(e(),l("svg",X,Q[61]||(Q[61]=[a("",1)]))),Q[62]||(Q[62]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"p")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),Q[65]||(Q[65]=T(" 和 ")),t("mjx-container",S,[(e(),l("svg",F,Q[63]||(Q[63]=[a("",1)]))),Q[64]||(Q[64]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"q")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mrow",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),Q[66]||(Q[66]=T(" 会")),Q[67]||(Q[67]=t("em",null,"有很大差异",-1))])])]),t("li",null,[Q[75]||(Q[75]=T("比如下图 ")),t("ul",null,[t("li",null,[Q[71]||(Q[71]=T("本身")),t("mjx-container",P,[(e(),l("svg",z,Q[69]||(Q[69]=[a("",1)]))),Q[70]||(Q[70]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"p")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),Q[72]||(Q[72]=T("是负的；但由于q和p差异大，")),Q[73]||(Q[73]=t("code",null,"大部分q都只能采样到正的",-1)),Q[74]||(Q[74]=T("，导致期望不对"))])])]),Q[76]||(Q[76]=t("li",null,[t("code",null,"需足够多的采样"),T("，"),t("strong",null,"才能采到左边点"),T("，并"),t("strong",null,"给与其大权重"),T("，才能"),t("strong",null,"保证期望一致"),T("。")],-1))])]),Q[82]||(Q[82]=t("li",null,[t("strong",null,"采样具有随机性"),T("，如果"),t("code",null,"突然采样到方差大的样本"),T("，可能"),t("code",null,"朝着错误方向更新"),T("。")],-1))]),Q[106]||(Q[106]=t("p",null,[t("strong",null,"解法")],-1)),t("ul",null,[t("li",null,[Q[103]||(Q[103]=t("p",null,[T("如果"),t("strong",null,"分布差异太大"),T("、"),t("strong",null,"采样数量又不够多"),T("怎么办？")],-1)),t("ul",null,[t("li",null,[t("p",null,[Q[92]||(Q[92]=t("code",null,"KL约束",-1)),Q[93]||(Q[93]=T("(TRPO)：")),t("strong",null,[Q[87]||(Q[87]=T("把")),t("mjx-container",I,[(e(),l("svg",G,Q[83]||(Q[83]=[a("",1)]))),Q[84]||(Q[84]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[88]||(Q[88]=T("和")),t("mjx-container",N,[(e(),l("svg",J,Q[85]||(Q[85]=[a("",1)]))),Q[86]||(Q[86]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])],-1))]),Q[89]||(Q[89]=T("的相似性"))]),Q[94]||(Q[94]=T(" 作为")),t("mjx-container",q,[(e(),l("svg",K,Q[90]||(Q[90]=[a("",1)]))),Q[91]||(Q[91]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")])],-1))]),Q[95]||(Q[95]=T("的")),Q[96]||(Q[96]=t("code",null,"约束条件",-1)),Q[97]||(Q[97]=T("，信任区域。"))])]),t("li",null,[t("p",null,[Q[100]||(Q[100]=t("code",null,"CLIP",-1)),Q[101]||(Q[101]=T("(PPO)：把约束限制条件，放回到")),t("mjx-container",$,[(e(),l("svg",Y,Q[98]||(Q[98]=[a("",1)]))),Q[99]||(Q[99]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")])],-1))]),Q[102]||(Q[102]=T("中。"))])])])])])]),Q[1866]||(Q[1866]=t("img",{src:"https://pica.zhimg.com/v2-bcac958cfda20f0f1784313166fa7c38_1440w.jpg",style:{display:"block",margin:"auto"},width:"70%"},null,-1)),Q[1867]||(Q[1867]=t("h4",{id:"重要性采样在rl中的作用",tabindex:"-1"},[T("重要性采样在RL中的作用 "),t("a",{class:"header-anchor",href:"#重要性采样在rl中的作用","aria-label":'Permalink to "重要性采样在RL中的作用"'},"​")],-1)),t("div",U,[Q[157]||(Q[157]=a("",4)),t("ul",null,[t("li",null,[Q[113]||(Q[113]=T("从")),t("mjx-container",W,[(e(),l("svg",t1,Q[107]||(Q[107]=[a("",1)]))),Q[108]||(Q[108]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])],-1))]),Q[114]||(Q[114]=T("开始，")),t("strong",null,[Q[111]||(Q[111]=T("用")),t("mjx-container",Q1,[(e(),l("svg",T1,Q[109]||(Q[109]=[a("",1)]))),Q[110]||(Q[110]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])],-1))]),Q[112]||(Q[112]=T("和环境交互"))]),Q[115]||(Q[115]=T("，得到一批")),Q[116]||(Q[116]=t("code",null,"回合数据",-1)),Q[117]||(Q[117]=T("。"))]),t("li",null,[Q[132]||(Q[132]=T("把这批")),Q[133]||(Q[133]=t("code",null,"回合数据",-1)),Q[134]||(Q[134]=T()),Q[135]||(Q[135]=t("strong",null,"重复使用k次去更新模型",-1)),Q[136]||(Q[136]=T("( ")),Q[137]||(Q[137]=t("code",null,"off-policy过程",-1)),Q[138]||(Q[138]=T(") ")),t("ul",null,[t("li",null,[Q[120]||(Q[120]=T("第1次，喂给：")),t("mjx-container",a1,[(e(),l("svg",l1,Q[118]||(Q[118]=[a("",1)]))),Q[119]||(Q[119]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"→"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mn",null,"1")])])])])],-1))])]),t("li",null,[Q[123]||(Q[123]=T("第2次，喂给：")),t("mjx-container",e1,[(e(),l("svg",m1,Q[121]||(Q[121]=[a("",1)]))),Q[122]||(Q[122]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mn",null,"1")])])]),t("mo",{stretchy:"false"},"→"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mn",null,"2")])])])])],-1))])]),Q[131]||(Q[131]=t("li",null,"...",-1)),t("li",null,[Q[126]||(Q[126]=T("第k次，喂给：")),t("mjx-container",s1,[(e(),l("svg",d1,Q[124]||(Q[124]=[a("",1)]))),Q[125]||(Q[125]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"k"),t("mo",null,"−"),t("mn",null,"1")])])])]),t("mo",{stretchy:"false"},"→"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])])])],-1))])]),t("li",null,[Q[129]||(Q[129]=t("code",null,"k次更新后",-1)),Q[130]||(Q[130]=T("：")),t("mjx-container",o1,[(e(),l("svg",n1,Q[127]||(Q[127]=[a("",1)]))),Q[128]||(Q[128]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",null,"="),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])])])],-1))])])])])]),Q[158]||(Q[158]=t("p",null,[t("strong",null,"策略梯度发生变化")],-1)),Q[159]||(Q[159]=t("ul",null,[t("li",null,"原始策略梯度")],-1)),t("mjx-container",r1,[(e(),l("svg",i1,Q[139]||(Q[139]=[a("",1)]))),Q[140]||(Q[140]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mi",null,"θ")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"梯"),t("mi",{mathvariant:"normal"},"度")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),t("ul",null,[t("li",null,[Q[143]||(Q[143]=T("引入重要性采样后的梯度：")),t("mjx-container",h1,[(e(),l("svg",g1,Q[141]||(Q[141]=[a("",1)]))),Q[142]||(Q[142]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"τ"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])],-1))]),Q[144]||(Q[144]=T("，")),Q[145]||(Q[145]=t("code",null,"训练数据是从旧策略采样出来的",-1)),Q[146]||(Q[146]=T("。"))])]),t("mjx-container",p1,[(e(),l("svg",H1,Q[147]||(Q[147]=[a("",1)]))),Q[148]||(Q[148]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"重"),t("mi",{mathvariant:"normal"},"要"),t("mi",{mathvariant:"normal"},"性"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"梯"),t("mi",{mathvariant:"normal"},"度")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t("ul",null,[t("li",null,[Q[153]||(Q[153]=t("p",null,[t("code",null,"重要性权重")],-1)),t("mjx-container",c1,[(e(),l("svg",u1,Q[149]||(Q[149]=[a("",1)]))),Q[150]||(Q[150]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"("),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"="),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])])])],-1))]),t("mjx-container",L1,[(e(),l("svg",w1,Q[151]||(Q[151]=[a("",1)]))),Q[152]||(Q[152]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])])])],-1))])]),Q[154]||(Q[154]=t("li",null,[t("p",null,"目标函数")],-1))]),t("mjx-container",f1,[(e(),l("svg",y1,Q[155]||(Q[155]=[a("",1)]))),Q[156]||(Q[156]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"arg"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"τ"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))])]),Q[1868]||(Q[1868]=t("h4",{id:"重要性采样策略梯度推导",tabindex:"-1"},[T("重要性采样策略梯度推导 "),t("a",{class:"header-anchor",href:"#重要性采样策略梯度推导","aria-label":'Permalink to "重要性采样策略梯度推导"'},"​")],-1)),Q[1869]||(Q[1869]=t("p",null,[t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/06-policy-gradient.html#%E7%AD%96%E7%95%A5%E6%A2%AF%E5%BA%A6%E6%8E%A8%E5%AF%BC%E8%BF%87%E7%A8%8B",target:"_blank",rel:"noreferrer"},"策略梯度推导过程")],-1)),t("div",x1,[Q[180]||(Q[180]=t("div",{class:"custom-block-title"},"重要性采样策略梯度推导",-1)),Q[181]||(Q[181]=t("p",null,[t("strong",null,"从定义到期望形式")],-1)),t("mjx-container",k1,[(e(),l("svg",M1,Q[160]||(Q[160]=[a("",1)]))),Q[161]||(Q[161]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"τ")])])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"R"),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"∇"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"τ")])])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"R"),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"τ"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"R"),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])])])])],-1))]),Q[182]||(Q[182]=t("p",null,[t("strong",null,"转换成优势策略梯度")],-1)),t("mjx-container",Z1,[(e(),l("svg",V1,Q[162]||(Q[162]=[a("",1)]))),Q[163]||(Q[163]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"τ"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"R"),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"A"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])])])])],-1))]),Q[183]||(Q[183]=t("p",null,[t("strong",null,"代入重要性采样")],-1)),Q[184]||(Q[184]=t("ul",null,[t("li",null,"推导过程")],-1)),t("mjx-container",D1,[(e(),l("svg",b1,Q[164]||(Q[164]=[a("",1)]))),Q[165]||(Q[165]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"A"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mfrac",null,[t("mn",null,"1"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"∇"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("msub",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"black"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"⋅"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("mn",null,"1")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"∇"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("msub",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"⋅"),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"≈"),t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"n"),t("mo",null,"="),t("mn",null,"1")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"N")])])]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"1")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"T"),t("mi",null,"n")])])])]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])])])])])],-1))]),Q[185]||(Q[185]=t("ul",null,[t("li",null,"推导结果")],-1)),t("mjx-container",j1,[(e(),l("svg",v1,Q[166]||(Q[166]=[a("",1)]))),Q[167]||(Q[167]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"≈"),t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"n"),t("mo",null,"="),t("mn",null,"1")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"N")])])]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"1")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"T"),t("mi",null,"n")])])])]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])])],-1))]),t("p",null,[Q[170]||(Q[170]=t("strong",null,"除以旧策略概率的作用",-1)),Q[171]||(Q[171]=T()),t("mjx-container",A1,[(e(),l("svg",R1,Q[168]||(Q[168]=[a("",1)]))),Q[169]||(Q[169]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])])],-1))])]),t("ul",null,[t("li",null,[t("mjx-container",O1,[(e(),l("svg",_1,Q[172]||(Q[172]=[a("",1)]))),Q[173]||(Q[173]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("mn",null,"1"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])])],-1))]),Q[176]||(Q[176]=T("：为了")),Q[177]||(Q[177]=t("code",null,"加权梯度",-1)),t("mjx-container",C1,[(e(),l("svg",B1,Q[174]||(Q[174]=[a("",1)]))),Q[175]||(Q[175]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[178]||(Q[178]=t("ul",null,[t("li",null,"初期：模型不自信，预测概率较小，加权大，"),t("li",null,"模型自信后：就不怎么加权了。")],-1))]),Q[179]||(Q[179]=a("",2))])]),Q[1870]||(Q[1870]=a("",4)),t("div",E1,[Q[208]||(Q[208]=a("",4)),t("ul",null,[t("li",null,[Q[188]||(Q[188]=t("strong",null,"一个n步回报",-1)),t("mjx-container",X1,[(e(),l("svg",S1,Q[186]||(Q[186]=[a("",1)]))),Q[187]||(Q[187]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])])])])],-1))]),Q[189]||(Q[189]=T("：")),Q[190]||(Q[190]=t("code",null,"采样n步",-1)),Q[191]||(Q[191]=T("，")),Q[192]||(Q[192]=t("code",null,"再做自举估计",-1)),Q[193]||(Q[193]=T("。"))])]),t("mjx-container",F1,[(e(),l("svg",P1,Q[194]||(Q[194]=[a("",1)]))),Q[195]||(Q[195]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])])]),t("mo",null,"="),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"red"},[t("mi",null,"γ")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")])]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"3")])])]),t("mo",null,"+"),t("mo",null,"⋯"),t("mo",null,"+"),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"γ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"n")])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])]),t("mo",{stretchy:"false"},")")])])],-1))]),t("ul",null,[Q[199]||(Q[199]=t("li",null,[T("对"),t("strong",null,"多个n步回报估计量"),T("进行"),t("code",null,"加权平均"),T("，"),t("code",null,"λ, 平衡了TD偏差和MC方差"),T("。 "),t("ul",null,[t("li",null,"λ接近1，接近MC估计，偏差小、方差大。"),t("li",null,"λ接近0，接近单步TD，偏差大、方差小。")])],-1)),t("li",null,[t("mjx-container",z1,[(e(),l("svg",I1,Q[196]||(Q[196]=[a("",1)]))),Q[197]||(Q[197]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"λ")])])])])],-1))]),Q[198]||(Q[198]=T(" 定义"))])]),t("mjx-container",G1,[(e(),l("svg",N1,Q[200]||(Q[200]=[a("",1)]))),Q[201]||(Q[201]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"T")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"λ")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"λ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"λ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"G"),t("mi",null,"t")])])])],-1))]),t("mjx-container",J1,[(e(),l("svg",q1,Q[202]||(Q[202]=[a("",1)]))),Q[203]||(Q[203]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"λ")])])])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"λ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])])])])])])])],-1))]),Q[209]||(Q[209]=t("ul",null,[t("li",null,[t("code",null,"V 函数更新"),T("，"),t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#%E6%A0%B8%E5%BF%83%E5%85%AC%E5%BC%8F%E5%AF%B9%E6%AF%94",target:"_blank",rel:"noreferrer"},"MC vs TD vs n步TD vs TD(λ) 核心公式对比")])],-1)),t("mjx-container",K1,[(e(),l("svg",$1,Q[204]||(Q[204]=[a("",1)]))),Q[205]||(Q[205]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",{stretchy:"false"},"←"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("mi",null,"α"),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t("mjx-container",Y1,[(e(),l("svg",U1,Q[206]||(Q[206]=[a("",1)]))),Q[207]||(Q[207]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",{stretchy:"false"},"←"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("mi",null,"α"),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mstyle",{mathcolor:"red"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"λ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])])])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"λ"),t("mi",{mathvariant:"normal"},"回"),t("mi",{mathvariant:"normal"},"报"),t("mi",null,"，"),t("mi",{mathvariant:"normal"},"多"),t("mi",{mathvariant:"normal"},"个"),t("mi",null,"n"),t("mi",{mathvariant:"normal"},"步"),t("mi",{mathvariant:"normal"},"回"),t("mi",{mathvariant:"normal"},"报"),t("mo",null,","),t("mi",{mathvariant:"normal"},"做"),t("mi",{mathvariant:"normal"},"平"),t("mi",{mathvariant:"normal"},"均")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))])]),Q[1871]||(Q[1871]=t("h4",{id:"gae-n步优势估计",tabindex:"-1"},[T("GAE n步优势估计 "),t("a",{class:"header-anchor",href:"#gae-n步优势估计","aria-label":'Permalink to "GAE n步优势估计"'},"​")],-1)),t("div",W1,[Q[272]||(Q[272]=t("div",{class:"custom-block-title"},"GAE n步优势估计",-1)),Q[273]||(Q[273]=t("p",null,[t("strong",null,"1. 朴素 TD Error 定义")],-1)),t("ul",null,[t("li",null,[t("strong",null,[Q[212]||(Q[212]=T("时刻")),t("mjx-container",t2,[(e(),l("svg",Q2,Q[210]||(Q[210]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[211]||(Q[211]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"t")])],-1))]),Q[213]||(Q[213]=T("、步长为1、步长为2"))]),Q[224]||(Q[224]=T(" 的 ")),Q[225]||(Q[225]=t("code",null,"TD Error定义",-1)),t("ul",null,[t("li",null,[Q[220]||(Q[220]=T("注意：t时刻的即时奖励下标为")),t("mjx-container",T2,[(e(),l("svg",a2,Q[214]||(Q[214]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[215]||(Q[215]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"t")])],-1))]),Q[221]||(Q[221]=T("，这里")),t("mjx-container",l2,[(e(),l("svg",e2,Q[216]||(Q[216]=[a("",1)]))),Q[217]||(Q[217]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])])],-1))]),Q[222]||(Q[222]=T("和 前面文章 ")),t("mjx-container",m2,[(e(),l("svg",s2,Q[218]||(Q[218]=[a("",1)]))),Q[219]||(Q[219]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])])],-1))]),Q[223]||(Q[223]=T("其实一样的"))])])])]),t("mjx-container",d2,[(e(),l("svg",o2,Q[226]||(Q[226]=[a("",1)]))),Q[227]||(Q[227]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])]),t("mstyle",{mathcolor:"red"},[t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),t("mjx-container",n2,[(e(),l("svg",r2,Q[228]||(Q[228]=[a("",1)]))),Q[229]||(Q[229]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"red"},[t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")])])],-1))]),t("ul",null,[t("li",null,[t("strong",null,[Q[234]||(Q[234]=T("时刻")),t("mjx-container",i2,[(e(),l("svg",h2,Q[230]||(Q[230]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[231]||(Q[231]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"t")])],-1))]),Q[235]||(Q[235]=T("、步长为")),t("mjx-container",g2,[(e(),l("svg",p2,Q[232]||(Q[232]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D459",d:"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[233]||(Q[233]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"l")])],-1))])]),Q[236]||(Q[236]=T(" 的 ")),Q[237]||(Q[237]=t("code",null,"TD Error 定义",-1))])]),t("mjx-container",H2,[(e(),l("svg",c2,Q[238]||(Q[238]=[a("",1)]))),Q[239]||(Q[239]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[274]||(Q[274]=a("",2)),t("mjx-container",u2,[(e(),l("svg",L2,Q[240]||(Q[240]=[a("",1)]))),Q[241]||(Q[241]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])]),t("mstyle",{mathcolor:"red"},[t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"2"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"red"},[t("mo",null,"+"),t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")]),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"3"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"3")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")]),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])]),t("mstyle",{mathcolor:"red"},[t("mo",null,"+"),t("msup",null,[t("mi",null,"γ"),t("mn",null,"3")]),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"3")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"⋮")])]),t("mtd")]),t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"n"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")]),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])]),t("mo",null,"+"),t("mo",null,"⋯"),t("msup",null,[t("mi",null,"γ"),t("mi",null,"n")]),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"⋮")])]),t("mtd")]),t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",{mathvariant:"normal"},"∞"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mi",{mathvariant:"normal"},"∞")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")]),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])]),t("mo",null,"+"),t("mo",null,"⋯"),t("msup",null,[t("mi",null,"γ"),t("mi",null,"T")]),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T")])]),t("mo",null,"+"),t("mn",null,"0"),t("mo",null,"+"),t("mn",null,"0"),t("mo",null,"+"),t("mo",null,"⋯")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])])])])],-1))]),t("ul",null,[t("li",null,[Q[245]||(Q[245]=t("code",null,"n步优势估计 定义公式",-1)),t("ul",null,[t("li",null,[Q[244]||(Q[244]=T("步长 ")),t("mjx-container",w2,[(e(),l("svg",f2,Q[242]||(Q[242]=[a("",1)]))),Q[243]||(Q[243]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"n"),t("mo",null,"="),t("mi",{mathvariant:"normal"},"∞")])])],-1))])])])])]),t("mjx-container",y2,[(e(),l("svg",x2,Q[246]||(Q[246]=[a("",1)]))),Q[247]||(Q[247]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",{mathvariant:"normal"},"∞"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mi",{mathvariant:"normal"},"∞")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("msup",null,[t("mi",null,"γ"),t("mi",null,"l")]),t("mo",null,"⋅"),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[275]||(Q[275]=t("p",null,[t("strong",null,"3. n步优势估计 迭代计算公式")],-1)),t("ul",null,[t("li",null,[Q[250]||(Q[250]=T("推导 ")),t("mjx-container",k2,[(e(),l("svg",M2,Q[248]||(Q[248]=[a("",1)]))),Q[249]||(Q[249]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"2"),t("mo",{stretchy:"false"},")")])])])])],-1))])])]),t("mjx-container",Z2,[(e(),l("svg",V2,Q[251]||(Q[251]=[a("",1)]))),Q[252]||(Q[252]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"2"),t("mo",{stretchy:"false"},")")])])])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"red"},[t("mo",null,"+"),t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")]),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mstyle",{mathcolor:"red"},[t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mo",null,"+"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mi",null,"γ"),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")]),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])]),t("mo",{stretchy:"false"},")"),t("mstyle",{mathcolor:"red"},[t("mo",null,"−"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])])])])])])],-1))]),t("ul",null,[t("li",null,[Q[262]||(Q[262]=t("p",null,[t("code",null,"n步优势估计 迭代计算公式")],-1)),Q[263]||(Q[263]=t("ul",null,[t("li",null,[t("strong",null,"步长2、3、4")])],-1)),t("mjx-container",D2,[(e(),l("svg",b2,Q[253]||(Q[253]=[a("",1)]))),Q[254]||(Q[254]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"2"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])])])],-1))]),t("mjx-container",j2,[(e(),l("svg",v2,Q[255]||(Q[255]=[a("",1)]))),Q[256]||(Q[256]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"3"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])])])],-1))]),t("mjx-container",A2,[(e(),l("svg",R2,Q[257]||(Q[257]=[a("",1)]))),Q[258]||(Q[258]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"4"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mn",null,"3")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"3")])])])])],-1))]),t("ul",null,[t("li",null,[t("strong",null,[Q[261]||(Q[261]=T("步长为")),t("mjx-container",O2,[(e(),l("svg",_2,Q[259]||(Q[259]=[a("",1)]))),Q[260]||(Q[260]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"n"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"、")]),t("mi",{mathvariant:"normal"},"∞")])],-1))])])])])])]),t("mjx-container",C2,[(e(),l("svg",B2,Q[264]||(Q[264]=[a("",1)]))),Q[265]||(Q[265]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"n"),t("mo",{stretchy:"false"},")")])])])]),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"n"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))]),t("mjx-container",E2,[(e(),l("svg",X2,Q[266]||(Q[266]=[a("",1)]))),Q[267]||(Q[267]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",{mathvariant:"normal"},"∞"),t("mo",{stretchy:"false"},")")])])])]),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))]),Q[276]||(Q[276]=t("p",null,[t("strong",null,"4. 总结 n步优势 定义及计算公式")],-1)),t("mjx-container",S2,[(e(),l("svg",F2,Q[268]||(Q[268]=[a("",1)]))),Q[269]||(Q[269]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",{mathvariant:"normal"},"∞"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mi",{mathvariant:"normal"},"∞")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))]),t("mjx-container",P2,[(e(),l("svg",z2,Q[270]||(Q[270]=[a("",1)]))),Q[271]||(Q[271]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("mi",null,"n")]),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"n"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"n"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))])]),Q[1872]||(Q[1872]=a("",2)),t("div",I2,[Q[316]||(Q[316]=t("div",{class:"custom-block-title"},"GAE 多个n步估计做加权",-1)),Q[317]||(Q[317]=t("p",null,[t("strong",null,"0. 背景")],-1)),Q[318]||(Q[318]=t("ul",null,[t("li",null,[T("解决 "),t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#tderror-%E4%BC%98%E5%8A%BF%E5%81%8F%E5%B7%AE%E6%96%B9%E5%B7%AE%E9%97%AE%E9%A2%98",target:"_blank",rel:"noreferrer"},"TD Error 估计优势 方差偏差问题")])],-1)),Q[319]||(Q[319]=t("p",null,[t("strong",null,"1. GAE 定义公式")],-1)),t("ul",null,[t("li",null,[Q[281]||(Q[281]=T("对")),t("strong",null,[Q[279]||(Q[279]=T("多个")),t("mjx-container",G2,[(e(),l("svg",N2,Q[277]||(Q[277]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D45B",d:"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[278]||(Q[278]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"n")])],-1))]),Q[280]||(Q[280]=T("步优势估计量"))]),Q[282]||(Q[282]=T("，进行")),Q[283]||(Q[283]=t("code",null,"加权平均",-1)),Q[284]||(Q[284]=T("(步数从1到n到无穷)，引入")),Q[285]||(Q[285]=t("code",null,"λ做方差、偏差平衡",-1))])]),t("mjx-container",J2,[(e(),l("svg",q2,Q[286]||(Q[286]=[a("",1)]))),Q[287]||(Q[287]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"λ"),t("mn",null,"0")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"λ")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"2"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"λ"),t("mn",null,"2")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"3"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"+"),t("mo",null,"⋯"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t("mjx-container",K2,[(e(),l("svg",$2,Q[288]||(Q[288]=[a("",1)]))),Q[289]||(Q[289]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"λ"),t("mn",null,"0")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"λ")]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"λ"),t("mn",null,"2")])]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")]),t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"+"),t("mo",null,"⋯"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q[320]||(Q[320]=t("p",null,[t("strong",null,"2. GAE 推导过程")],-1)),t("mjx-container",Y2,[(e(),l("svg",U2,Q[290]||(Q[290]=[a("",1)]))),Q[291]||(Q[291]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"λ"),t("mn",null,"0")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"λ")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"2"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"λ"),t("mn",null,"2")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"3"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"+"),t("mo",null,"⋯"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"λ")]),t("mo",null,"⋅"),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"λ"),t("mn",null,"2")])]),t("mo",null,"⋅"),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")])]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])]),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("mo",null,"⋯"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"λ"),t("mo",null,"+"),t("msup",null,[t("mi",null,"λ"),t("mn",null,"2")]),t("mo",null,"+"),t("mo",null,"⋯"),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("mo",null,"+"),t("msup",null,[t("mi",null,"λ"),t("mn",null,"2")]),t("mo",null,"+"),t("mo",null,"⋯"),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")])]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"λ"),t("mn",null,"2")]),t("mo",null,"+"),t("msup",null,[t("mi",null,"λ"),t("mn",null,"3")]),t("mo",null,"+"),t("mo",null,"⋯"),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mo",null,"⋯"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mi",null,"λ"),t("mrow",null,[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")])]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])]),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("msup",null,[t("mi",null,"λ"),t("mn",null,"2")]),t("mrow",null,[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ")])])]),t("mo",null,"+"),t("mo",null,"⋯"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ"),t("mi",null,"λ")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")]),t("msup",null,[t("mi",null,"λ"),t("mn",null,"2")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mn",null,"3")]),t("msup",null,[t("mi",null,"λ"),t("mn",null,"3")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"3")])])]),t("mo",null,"+"),t("mo",null,"⋯")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])])])])])],-1))]),Q[321]||(Q[321]=t("p",null,[t("strong",null,"3. GAE 推导结果")],-1)),t("mjx-container",W2,[(e(),l("svg",t3,Q[292]||(Q[292]=[a("",1)]))),Q[293]||(Q[293]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))]),t("mjx-container",Q3,[(e(),l("svg",T3,Q[294]||(Q[294]=[a("",1)]))),Q[295]||(Q[295]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t("mjx-container",a3,[(e(),l("svg",l3,Q[296]||(Q[296]=[a("",1)]))),Q[297]||(Q[297]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q[322]||(Q[322]=t("p",null,[t("strong",null,"4. GAE估计 vs 单个n步估计")],-1)),Q[323]||(Q[323]=t("ul",null,[t("li",null,[t("code",null,"n步优势估计"),T("：采样n步，估计优势")])],-1)),t("mjx-container",e3,[(e(),l("svg",m3,Q[298]||(Q[298]=[a("",1)]))),Q[299]||(Q[299]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"n"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"n"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))]),t("ul",null,[t("li",null,[Q[302]||(Q[302]=t("code",null,"GAE 优势估计",-1)),Q[303]||(Q[303]=T("：多个n步优势估计加权求平均")),t("mjx-container",s3,[(e(),l("svg",d3,Q[300]||(Q[300]=[a("",1)]))),Q[301]||(Q[301]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])])]),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("mi",null,"γ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))])])]),Q[324]||(Q[324]=t("p",null,[t("strong",null,"4. GAE 反向递推公式")],-1)),Q[325]||(Q[325]=t("ul",null,[t("li",null,[T("从"),t("strong",null,"最后一个时间步开始"),T("，"),t("code",null,"反向遍历"),T("，"),t("code",null,"提高GAE计算效率")])],-1)),t("mjx-container",o3,[(e(),l("svg",n3,Q[304]||(Q[304]=[a("",1)]))),Q[305]||(Q[305]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ"),t("mi",null,"λ")]),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[326]||(Q[326]=t("p",null,[t("strong",null,"5. λ=0时，退化单步TD估计")],-1)),Q[327]||(Q[327]=t("ul",null,[t("li",null,[t("code",null,"高偏差"),T("、"),t("code",null,"低方差")])],-1)),t("mjx-container",r3,[(e(),l("svg",i3,Q[306]||(Q[306]=[a("",1)]))),Q[307]||(Q[307]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mn",null,"0"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mn",null,"0"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"λ"),t("mn",null,"0")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mn",null,"0")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"2"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mn",null,"0"),t("mn",null,"2")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"3"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"+"),t("mo",null,"⋯"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t("mjx-container",h3,[(e(),l("svg",g3,Q[308]||(Q[308]=[a("",1)]))),Q[309]||(Q[309]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mn",null,"0"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])]),t("mstyle",{mathcolor:"red"},[t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),t("mjx-container",p3,[(e(),l("svg",H3,Q[310]||(Q[310]=[a("",1)]))),Q[311]||(Q[311]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mn",null,"0"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])]),t("mstyle",{mathcolor:"red"},[t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[328]||(Q[328]=t("p",null,[t("strong",null,"6. λ=1时，退化完全MC采样估计")],-1)),Q[329]||(Q[329]=t("ul",null,[t("li",null,[t("code",null,"低偏差"),T("、"),t("code",null,"高方差")])],-1)),t("mjx-container",c3,[(e(),l("svg",u3,Q[312]||(Q[312]=[a("",1)]))),Q[313]||(Q[313]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])]),t("mstyle",{mathcolor:"blue"},[t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ")]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")])]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"3")])]),t("mo",{stretchy:"false"},")"),t("mstyle",{mathcolor:"blue"},[t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mo",null,"+"),t("mo",null,"⋯")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")])]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])]),t("mo",null,"+"),t("mo",null,"⋯"),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"n")])]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])])]),t("mo",null,"+"),t("mo",null,"⋯"),t("mstyle",{mathcolor:"blue"},[t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mi",{mathvariant:"normal"},"∞")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",{mathvariant:"normal"},"∞"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])])])],-1))]),t("mjx-container",L3,[(e(),l("svg",w3,Q[314]||(Q[314]=[a("",1)]))),Q[315]||(Q[315]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")])]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])]),t("mo",null,"+"),t("mo",null,"⋯"),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"n")])]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])])]),t("mo",null,"+"),t("mo",null,"⋯"),t("mstyle",{mathcolor:"blue"},[t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])])],-1))])]),Q[1873]||(Q[1873]=t("h4",{id:"gae中的奖励衰减-llm",tabindex:"-1"},[T("GAE中的奖励衰减(LLM) "),t("a",{class:"header-anchor",href:"#gae中的奖励衰减-llm","aria-label":'Permalink to "GAE中的奖励衰减(LLM)"'},"​")],-1)),t("div",f3,[Q[390]||(Q[390]=t("div",{class:"custom-block-title"},"奖励衰减",-1)),Q[391]||(Q[391]=t("p",null,[t("strong",null,"背景")],-1)),t("ul",null,[t("li",null,[Q[340]||(Q[340]=T("在LLM任务中 ")),t("ul",null,[t("li",null,[Q[332]||(Q[332]=T("对最后token，仅")),t("mjx-container",y3,[(e(),l("svg",x3,Q[330]||(Q[330]=[a("",1)]))),Q[331]||(Q[331]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"T")]),t("mo",null,"="),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"E"),t("mi",null,"O"),t("mi",null,"S")])]),t("mo",null,"≠"),t("mn",null,"0")])])],-1))])]),t("li",null,[Q[335]||(Q[335]=T("对前面的token，环境奖励")),t("mjx-container",k3,[(e(),l("svg",M3,Q[333]||(Q[333]=[a("",1)]))),Q[334]||(Q[334]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",null,"="),t("mn",null,"0")])])],-1))]),Q[336]||(Q[336]=T("，")),Q[337]||(Q[337]=t("code",null,"均为0",-1)),Q[338]||(Q[338]=T("。")),Q[339]||(Q[339]=t("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#reward-model-%E5%8D%B3%E6%97%B6%E5%A5%96%E5%8A%B1",target:"_blank",rel:"noreferrer"},"RM即时奖励",-1))])])])]),Q[392]||(Q[392]=t("p",null,[t("strong",null,"TD Error")],-1)),t("ul",null,[t("li",null,[t("p",null,[Q[343]||(Q[343]=T("对中间步")),t("mjx-container",Z3,[(e(),l("svg",V3,Q[341]||(Q[341]=[a("",1)]))),Q[342]||(Q[342]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"t"),t("mo",null,"<"),t("mi",null,"T")])],-1))])]),t("mjx-container",D3,[(e(),l("svg",b3,Q[344]||(Q[344]=[a("",1)]))),Q[345]||(Q[345]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"="),t("mn",null,"0"),t("mo",null,"+"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))])]),t("li",null,[t("p",null,[Q[348]||(Q[348]=T("对于最后一步")),t("mjx-container",j3,[(e(),l("svg",v3,Q[346]||(Q[346]=[a("",1)]))),Q[347]||(Q[347]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"t"),t("mo",null,"="),t("mi",null,"T")])],-1))])])])]),t("mjx-container",A3,[(e(),l("svg",R3,Q[349]||(Q[349]=[a("",1)]))),Q[350]||(Q[350]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"T")])]),t("mo",null,"="),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T")])]),t("mo",null,"+"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"T")]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T")])]),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"T")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[393]||(Q[393]=t("p",null,[t("strong",null,"GAE 优势估计")],-1)),Q[394]||(Q[394]=t("ul",null,[t("li",null,"推导过程")],-1)),t("mjx-container",O3,[(e(),l("svg",_3,Q[351]||(Q[351]=[a("",1)]))),Q[352]||(Q[352]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])])]),t("mtd",null,[t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("mi",null,"γ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("mi",null,"γ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mn",null,"1")])]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("mi",null,"γ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mn",null,"2")])]),t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])]),t("mo",null,"+"),t("mo",null,"⋯"),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("mi",null,"γ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("mi",null,"γ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t")])])]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T")])])])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("mi",null,"γ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t")])])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"T")])]),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"T")]),t("mo",{stretchy:"false"},")"),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("mi",null,"γ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mn",null,"1")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("mi",null,"γ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mn",null,"2")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"3")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"+"),t("mo",null,"⋯"),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("mi",null,"γ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("mi",null,"γ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t")])])]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"T")])])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"真"),t("mi",{mathvariant:"normal"},"实"),t("mi",{mathvariant:"normal"},"奖"),t("mi",{mathvariant:"normal"},"励"),t("mi",{mathvariant:"normal"},"信"),t("mi",{mathvariant:"normal"},"号")])])]),t("mo",null,"+"),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mo",{stretchy:"false"},"("),t("mtext",null,"一堆只包含"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("mi",null,"s"),t("mo",{stretchy:"false"},")"),t("mtext",null,"的项"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"来"),t("mi",{mathvariant:"normal"},"自"),t("mi",{mathvariant:"normal"},"价"),t("mi",{mathvariant:"normal"},"值"),t("mi",{mathvariant:"normal"},"函"),t("mi",{mathvariant:"normal"},"数"),t("mi",{mathvariant:"normal"},"估"),t("mi",{mathvariant:"normal"},"计"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"信"),t("mi",{mathvariant:"normal"},"号")])])])])])])])],-1))]),Q[395]||(Q[395]=t("ul",null,[t("li",null,"推导结果")],-1)),t("mjx-container",C3,[(e(),l("svg",B3,Q[353]||(Q[353]=[a("",1)]))),Q[354]||(Q[354]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])]),t("mo",null,"="),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("mi",null,"γ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t")])])]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"T")])])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"真"),t("mi",{mathvariant:"normal"},"实"),t("mi",{mathvariant:"normal"},"奖"),t("mi",{mathvariant:"normal"},"励"),t("mi",{mathvariant:"normal"},"信"),t("mi",{mathvariant:"normal"},"号")])])]),t("mo",null,"+"),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mo",{stretchy:"false"},"("),t("mtext",null,"一堆只包含"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("mi",null,"s"),t("mo",{stretchy:"false"},")"),t("mtext",null,"的项"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"来"),t("mi",{mathvariant:"normal"},"自"),t("mi",{mathvariant:"normal"},"价"),t("mi",{mathvariant:"normal"},"值"),t("mi",{mathvariant:"normal"},"函"),t("mi",{mathvariant:"normal"},"数"),t("mi",{mathvariant:"normal"},"估"),t("mi",{mathvariant:"normal"},"计"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"信"),t("mi",{mathvariant:"normal"},"号")])])])])],-1))]),t("ul",null,[t("li",null,[Q[357]||(Q[357]=T("当")),t("mjx-container",E3,[(e(),l("svg",X3,Q[355]||(Q[355]=[a("",1)]))),Q[356]||(Q[356]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"λ"),t("mo",null,"="),t("mn",null,"1"),t("mo",null,","),t("mi",null,"γ"),t("mo",null,"="),t("mn",null,"1")])],-1))]),Q[358]||(Q[358]=T("时，退回MC估计"))])]),t("mjx-container",S3,[(e(),l("svg",F3,Q[359]||(Q[359]=[a("",1)]))),Q[360]||(Q[360]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")]),t("mo",null,"="),t("msub",null,[t("mi",null,"r"),t("mi",null,"T")]),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])],-1))]),Q[396]||(Q[396]=t("p",null,[t("strong",null,"奖励衰减")],-1)),t("ul",null,[t("li",null,[Q[367]||(Q[367]=T("从公式可看出，")),Q[368]||(Q[368]=t("code",null,"真实外部奖励信号",-1)),Q[369]||(Q[369]=T()),t("mjx-container",P3,[(e(),l("svg",z3,Q[361]||(Q[361]=[a("",1)]))),Q[362]||(Q[362]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"T")])])])],-1))]),Q[370]||(Q[370]=T()),Q[371]||(Q[371]=t("code",null,"传播回第t个token时",-1)),Q[372]||(Q[372]=T("，会")),Q[373]||(Q[373]=t("code",null,"乘以权重",-1)),Q[374]||(Q[374]=T()),t("mjx-container",I3,[(e(),l("svg",G3,Q[363]||(Q[363]=[a("",1)]))),Q[364]||(Q[364]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("mi",null,"γ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t")])])])])],-1))]),Q[375]||(Q[375]=T("、")),t("mjx-container",N3,[(e(),l("svg",J3,Q[365]||(Q[365]=[a("",1)]))),Q[366]||(Q[366]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t")])])])])],-1))])]),Q[376]||(Q[376]=t("li",null,[T("当"),t("strong",null,"λ<1 且 T-t 很大"),T("时 "),t("ul",null,[t("li",null,[t("code",null,"前面token收不到任何有效奖励信号"),T("。")]),t("li",null,[t("code",null,"价值模型就无法学习到它们真正的贡献"),T("。")])])],-1))]),Q[397]||(Q[397]=t("p",null,[t("strong",null,"λ=1 vs λ<1")],-1)),t("ul",null,[t("li",null,[Q[383]||(Q[383]=t("strong",null,"λ<1",-1)),t("ul",null,[Q[382]||(Q[382]=t("li",null,[T("在传统RL任务，每一步都有奖励，方差很大， 使用"),t("strong",null,"λ<1来降低方差"),T("，很有效")],-1)),t("li",null,[Q[379]||(Q[379]=T("在LLM任务中，奖励稀疏，")),t("mjx-container",q3,[(e(),l("svg",K3,Q[377]||(Q[377]=[a("",1)]))),Q[378]||(Q[378]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mi",null,"a"),t("mi",null,"r"),t("mi",null,"g"),t("mi",null,"e"),t("mi",null,"t")])])])],-1))]),Q[380]||(Q[380]=T(" 依赖自己自举 ")),Q[381]||(Q[381]=t("ul",null,[t("li",null,"如果一开始估计不准，就会导致错上加错，训练不稳定。"),t("li",null,"带来的偏差危害(奖励信号衰减) 远远大于在降方差方面的好处。")],-1))])])]),t("li",null,[Q[388]||(Q[388]=t("strong",null,"λ=1",-1)),Q[389]||(Q[389]=T("： ")),t("ul",null,[t("li",null,[Q[386]||(Q[386]=T("MC无偏估计，")),t("mjx-container",$3,[(e(),l("svg",Y3,Q[384]||(Q[384]=[a("",1)]))),Q[385]||(Q[385]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mi",null,"a"),t("mi",null,"r"),t("mi",null,"g"),t("mi",null,"e"),t("mi",null,"t")])])])],-1))]),Q[387]||(Q[387]=T(" 只依赖环境奖励，价值模型学习变成简单的监督学习，非常稳定的梯度下降过程。"))])])])])]),Q[1874]||(Q[1874]=t("h4",{id:"gae-方差公式",tabindex:"-1"},[T("GAE 方差公式 "),t("a",{class:"header-anchor",href:"#gae-方差公式","aria-label":'Permalink to "GAE 方差公式"'},"​")],-1)),t("div",U3,[Q[406]||(Q[406]=t("div",{class:"custom-block-title"},"GAE 方差公式",-1)),Q[407]||(Q[407]=t("p",null,[t("strong",null,"基础方差公式")],-1)),t("mjx-container",W3,[(e(),l("svg",t4,Q[398]||(Q[398]=[a("",1)]))),Q[399]||(Q[399]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtext",null,"Var"),t("mo",{stretchy:"false"},"["),t("mi",null,"a"),t("mi",null,"X"),t("mo",{stretchy:"false"},"]"),t("mo",null,"="),t("msup",null,[t("mi",null,"a"),t("mn",null,"2")]),t("mtext",null,"Var"),t("mo",{stretchy:"false"},"("),t("mi",null,"X"),t("mo",{stretchy:"false"},")")])],-1))]),t("mjx-container",Q4,[(e(),l("svg",T4,Q[400]||(Q[400]=[a("",1)]))),Q[401]||(Q[401]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtext",null,"Var"),t("mo",{stretchy:"false"},"["),t("mi",null,"X"),t("mo",null,"+"),t("mi",null,"Y"),t("mo",{stretchy:"false"},"]"),t("mo",null,"="),t("mtext",null,"Var"),t("mo",{stretchy:"false"},"["),t("mi",null,"X"),t("mo",{stretchy:"false"},"]"),t("mo",null,"+"),t("mtext",null,"Var"),t("mo",{stretchy:"false"},"["),t("mi",null,"Y"),t("mo",{stretchy:"false"},"]"),t("mo",null,"+"),t("mn",null,"2"),t("mtext",null,"Cov"),t("mo",{stretchy:"false"},"("),t("mi",null,"X"),t("mo",null,","),t("mi",null,"Y"),t("mo",{stretchy:"false"},")")])],-1))]),Q[408]||(Q[408]=t("p",null,[t("strong",null,"GAE 方差推导")],-1)),t("mjx-container",a4,[(e(),l("svg",l4,Q[402]||(Q[402]=[a("",1)]))),Q[403]||(Q[403]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msubsup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"λ")])]),t("mo",null,"="),t("msup",null,[t("mi",null,"λ"),t("mn",null,"0")]),t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")]),t("mo",null,"+"),t("msup",null,[t("mi",null,"λ"),t("mn",null,"1")]),t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("msup",null,[t("mi",null,"λ"),t("mn",null,"2")]),t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])]),t("mo",null,"+"),t("mo",null,"⋯"),t("mo",null,"+"),t("msup",null,[t("mi",null,"λ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mn",null,"1")])])])],-1))]),t("mjx-container",e4,[(e(),l("svg",m4,Q[404]||(Q[404]=[a("",1)]))),Q[405]||(Q[405]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mtext",null,"Var"),t("mo",{stretchy:"false"},"("),t("msubsup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"λ")])]),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mtext",null,"Var"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("msup",null,[t("mi",null,"λ"),t("mi",null,"l")]),t("mo",null,"⋅"),t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"λ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"2"),t("mi",null,"l")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mtext",null,"Var"),t("mo",{stretchy:"false"},"["),t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},"]")]),t("mo",null,"+"),t("mn",null,"2"),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"j"),t("mo",null,"="),t("mi",null,"i"),t("mo",null,"+"),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mo",null,"−"),t("mi",null,"t"),t("mo",null,"−"),t("mn",null,"1")])]),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"λ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"+"),t("mi",null,"j")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mtext",null,"Cov"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"i")])]),t("mo",null,","),t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"j")])]),t("mo",{stretchy:"false"},")")])])])])])],-1))]),Q[409]||(Q[409]=t("ul",null,[t("li",null,"方差：由每一项自身方差和项与项之间的协方差共同决定。"),t("li",null,"减小λ会给这些项，更小的权重(尤其是后面的项)，从而降低总方差。")],-1))]),Q[1875]||(Q[1875]=t("h4",{id:"gae-总结",tabindex:"-1"},[T("GAE 总结 "),t("a",{class:"header-anchor",href:"#gae-总结","aria-label":'Permalink to "GAE 总结"'},"​")],-1)),t("div",s4,[Q[436]||(Q[436]=t("div",{class:"custom-block-title"},"GAE 总结",-1)),t("p",null,[t("strong",null,[Q[414]||(Q[414]=T("1. 时刻")),t("mjx-container",d4,[(e(),l("svg",o4,Q[410]||(Q[410]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[411]||(Q[411]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"t")])],-1))]),Q[415]||(Q[415]=T("、步长为")),t("mjx-container",n4,[(e(),l("svg",r4,Q[412]||(Q[412]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D459",d:"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[413]||(Q[413]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"l")])],-1))])]),Q[416]||(Q[416]=T(" 的 ")),Q[417]||(Q[417]=t("code",null,"TD Error 定义",-1))]),t("mjx-container",i4,[(e(),l("svg",h4,Q[418]||(Q[418]=[a("",1)]))),Q[419]||(Q[419]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[437]||(Q[437]=t("p",null,[t("strong",null,"2. n步优势估计定义")],-1)),t("mjx-container",g4,[(e(),l("svg",p4,Q[420]||(Q[420]=[a("",1)]))),Q[421]||(Q[421]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("mi",null,"n")]),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"G"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,":"),t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"n"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"n"),t("mo",null,"−"),t("mn",null,"1")])])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))]),Q[438]||(Q[438]=t("p",null,[t("strong",null,"3. GAE定义")],-1)),Q[439]||(Q[439]=t("ul",null,[t("li",null,[t("code",null,"对多个n步优势加权平均")])],-1)),t("mjx-container",H4,[(e(),l("svg",c4,Q[422]||(Q[422]=[a("",1)]))),Q[423]||(Q[423]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"λ"),t("mn",null,"0")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"λ")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"2"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"λ"),t("mn",null,"2")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"3"),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"+"),t("mo",null,"⋯"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t("mjx-container",u4,[(e(),l("svg",L4,Q[424]||(Q[424]=[a("",1)]))),Q[425]||(Q[425]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"λ"),t("mn",null,"0")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"λ")]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"λ"),t("mn",null,"2")])]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")]),t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"+"),t("mo",null,"⋯"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q[440]||(Q[440]=t("p",null,[t("strong",null,"4. GAE 计算推导结果")],-1)),t("mjx-container",w4,[(e(),l("svg",f4,Q[426]||(Q[426]=[a("",1)]))),Q[427]||(Q[427]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))]),t("mjx-container",y4,[(e(),l("svg",x4,Q[428]||(Q[428]=[a("",1)]))),Q[429]||(Q[429]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q[441]||(Q[441]=t("p",null,[t("strong",null,"5. GAE 反向递推公式")],-1)),t("mjx-container",k4,[(e(),l("svg",M4,Q[430]||(Q[430]=[a("",1)]))),Q[431]||(Q[431]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ"),t("mi",null,"λ")]),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[442]||(Q[442]=t("p",null,[t("strong",null,"6. λ=0/1")],-1)),Q[443]||(Q[443]=t("ul",null,[t("li",null,[t("strong",null,"λ=0时"),T("，GAE退化为"),t("code",null,"单步TD估计")])],-1)),t("mjx-container",Z4,[(e(),l("svg",V4,Q[432]||(Q[432]=[a("",1)]))),Q[433]||(Q[433]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mn",null,"0"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])]),t("mstyle",{mathcolor:"red"},[t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[444]||(Q[444]=t("ul",null,[t("li",null,[t("strong",null,"λ=1时"),T("，GAE退化"),t("code",null,"完全MC采样")])],-1)),t("mjx-container",D4,[(e(),l("svg",b4,Q[434]||(Q[434]=[a("",1)]))),Q[435]||(Q[435]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mn",null,"2")])]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"2")])])]),t("mo",null,"+"),t("mo",null,"⋯"),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"n")])]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"n")])])]),t("mo",null,"+"),t("mo",null,"⋯"),t("mstyle",{mathcolor:"blue"},[t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[445]||(Q[445]=t("ul",null,[t("li",null,[t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#td-%CE%BB-%E3%80%81td-0-%E5%92%8Ctd-1",target:"_blank",rel:"noreferrer"},"TD(λ)/TD(0)/TD(1)"),t("ul",null,[t("li",null,[t("strong",null,"λ越小"),T("，"),t("code",null,"偏差越大、方差越小"),T(" (TD)")]),t("li",null,[t("strong",null,"λ越大"),T("，"),t("code",null,"偏差越小、方差越大"),T(" (MC)")])])])],-1))]),Q[1876]||(Q[1876]=t("h4",{id:"gae-作用",tabindex:"-1"},[T("GAE 作用 "),t("a",{class:"header-anchor",href:"#gae-作用","aria-label":'Permalink to "GAE 作用"'},"​")],-1)),t("div",j4,[Q[454]||(Q[454]=a("",5)),t("mjx-container",v4,[(e(),l("svg",A4,Q[446]||(Q[446]=[a("",1)]))),Q[447]||(Q[447]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")])]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mo",null,"="),t("mn",null,"1")]),t("mi",null,"N")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"T"),t("mi",null,"n")])])]),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("msub",null,[t("mi",{mathvariant:"normal"},"Ψ"),t("mi",null,"t")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msubsup",null,[t("mi",null,"a"),t("mi",null,"t"),t("mi",null,"n")]),t("mo",null,"∣"),t("msubsup",null,[t("mi",null,"s"),t("mi",null,"t"),t("mi",null,"n")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"梯"),t("mi",{mathvariant:"normal"},"度")])])])])])])])],-1))]),Q[455]||(Q[455]=t("ul",null,[t("li",null,"引入GAE后的策略梯度")],-1)),t("mjx-container",R4,[(e(),l("svg",O4,Q[448]||(Q[448]=[a("",1)]))),Q[449]||(Q[449]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")])]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mo",null,"="),t("mn",null,"1")]),t("mi",null,"N")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"T"),t("mi",null,"n")])])]),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mi",{mathvariant:"normal"},"作"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msubsup",null,[t("mi",null,"a"),t("mi",null,"t"),t("mi",null,"n")]),t("mo",null,"∣"),t("msubsup",null,[t("mi",null,"s"),t("mi",null,"t"),t("mi",null,"n")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"梯"),t("mi",{mathvariant:"normal"},"度")])])])])])])])],-1))]),Q[456]||(Q[456]=t("ul",null,[t("li",null,"引入GAE + 重要性采样后的策略梯度")],-1)),t("mjx-container",_4,[(e(),l("svg",C4,Q[450]||(Q[450]=[a("",1)]))),Q[451]||(Q[451]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")])]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mo",null,"="),t("mn",null,"1")]),t("mi",null,"N")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"T"),t("mi",null,"n")])])]),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mfrac",null,[t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"重"),t("mi",{mathvariant:"normal"},"要"),t("mi",{mathvariant:"normal"},"性"),t("mi",{mathvariant:"normal"},"采"),t("mi",{mathvariant:"normal"},"样")])])]),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mi",{mathvariant:"normal"},"作"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msubsup",null,[t("mi",null,"a"),t("mi",null,"t"),t("mi",null,"n")]),t("mo",null,"∣"),t("msubsup",null,[t("mi",null,"s"),t("mi",null,"t"),t("mi",null,"n")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"梯"),t("mi",{mathvariant:"normal"},"度")])])])])])])])],-1))]),Q[457]||(Q[457]=t("ul",null,[t("li",null,"优化目标")],-1)),t("mjx-container",B4,[(e(),l("svg",E4,Q[452]||(Q[452]=[a("",1)]))),Q[453]||(Q[453]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"arg"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"τ"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))])]),Q[1877]||(Q[1877]=a("",5)),t("div",X4,[Q[472]||(Q[472]=t("div",{class:"custom-block-title"},"ActorCritic思想",-1)),Q[473]||(Q[473]=t("p",null,[t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/07-actor-critic.html#actor-critic-%E7%AE%97%E6%B3%95",target:"_blank",rel:"noreferrer"},"Actor-Critic"),T(),t("strong",null,"核心思想")],-1)),t("ul",null,[t("li",null,[Q[464]||(Q[464]=T("目标：找到")),t("mjx-container",S4,[(e(),l("svg",F4,Q[458]||(Q[458]=[a("",1)]))),Q[459]||(Q[459]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"∗")])]),t("mo",null,"="),t("mi",null,"arg"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1))]),Q[465]||(Q[465]=T("，")),t("strong",null,[Q[462]||(Q[462]=T("沿")),t("mjx-container",P4,[(e(),l("svg",z4,Q[460]||(Q[460]=[a("",1)]))),Q[461]||(Q[461]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",{mathvariant:"normal"},"∇"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1))]),Q[463]||(Q[463]=T("方向迭代更新策略参数"))])])]),t("mjx-container",I4,[(e(),l("svg",G4,Q[466]||(Q[466]=[a("",1)]))),Q[467]||(Q[467]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"s"),t("mn",null,"0")])])]),t("mo",{stretchy:"false"},"["),t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mn",null,"0")]),t("mo",{stretchy:"false"},")"),t("mo",{stretchy:"false"},"]"),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"["),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")]),t("mo",null,"⋅"),t("mi",null,"r"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",{stretchy:"false"},"]")])],-1))]),t("mjx-container",N4,[(e(),l("svg",J4,Q[468]||(Q[468]=[a("",1)]))),Q[469]||(Q[469]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")])]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mo",null,"="),t("mn",null,"1")]),t("mi",null,"N")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"T"),t("mi",null,"n")])])]),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("msubsup",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mi",null,"n")]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msubsup",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")]),t("mi",null,"n")]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msubsup",null,[t("mi",null,"s"),t("mi",null,"t"),t("mi",null,"n")]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重"),t("mo",null,","),t("mi",{mathvariant:"normal"},"优"),t("mi",{mathvariant:"normal"},"势"),t("mi",{mathvariant:"normal"},"值")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msubsup",null,[t("mi",null,"a"),t("mi",null,"t"),t("mi",null,"n")]),t("mo",null,"∣"),t("msubsup",null,[t("mi",null,"s"),t("mi",null,"t"),t("mi",null,"n")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"梯"),t("mi",{mathvariant:"normal"},"度")])])])])])])])],-1))]),Q[474]||(Q[474]=t("ul",null,[t("li",null,"参数更新")],-1)),t("mjx-container",q4,[(e(),l("svg",K4,Q[470]||(Q[470]=[a("",1)]))),Q[471]||(Q[471]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"θ")]),t("mo",{stretchy:"false"},"←"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"θ")]),t("mstyle",{mathcolor:"red"},[t("mo",null,"+")]),t("mi",null,"α"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])])],-1))])]),t("div",$4,[Q[501]||(Q[501]=t("div",{class:"custom-block-title"},"Actor-Critic 缺点",-1)),Q[502]||(Q[502]=t("p",null,[t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/07-actor-critic.html#actor-critic-%E7%AE%97%E6%B3%95",target:"_blank",rel:"noreferrer"},"Actor-Critic"),t("strong",null,"缺点")],-1)),t("ul",null,[Q[499]||(Q[499]=a("",1)),t("li",null,[Q[498]||(Q[498]=T("每次梯度更新时，都")),t("strong",null,[Q[477]||(Q[477]=T("需对")),t("mjx-container",Y4,[(e(),l("svg",U4,Q[475]||(Q[475]=[a("",1)]))),Q[476]||(Q[476]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[478]||(Q[478]=T("做若干回合采样"))]),t("ul",null,[Q[497]||(Q[497]=a("",3)),t("li",null,[Q[494]||(Q[494]=t("strong",null,"重要性采样",-1)),Q[495]||(Q[495]=T("也")),Q[496]||(Q[496]=t("code",null,"需要两个分布差异不能太大",-1)),t("ul",null,[t("li",null,[t("mjx-container",W4,[(e(),l("svg",t6,Q[479]||(Q[479]=[a("",1)]))),Q[480]||(Q[480]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[487]||(Q[487]=T("和")),t("mjx-container",Q6,[(e(),l("svg",T6,Q[481]||(Q[481]=[a("",1)]))),Q[482]||(Q[482]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])],-1))]),Q[488]||(Q[488]=T("分布")),Q[489]||(Q[489]=t("strong",null,"差异较大",-1)),Q[490]||(Q[490]=T(" 且 采样")),Q[491]||(Q[491]=t("strong",null,"轨迹数量不够大时",-1)),Q[492]||(Q[492]=T("，")),t("strong",null,[Q[485]||(Q[485]=T("对")),t("mjx-container",a6,[(e(),l("svg",l6,Q[483]||(Q[483]=[a("",1)]))),Q[484]||(Q[484]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1))]),Q[486]||(Q[486]=T("的估计不准"))])]),Q[493]||(Q[493]=t("li",null,[T("解法："),t("code",null,"KL约束")],-1))])])])]),Q[500]||(Q[500]=t("li",null,[t("strong",null,"TD Error 估计优势函数是有偏的"),t("ul",null,[t("li",null,[T("具体详细见 "),t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#tderror-%E4%BC%98%E5%8A%BF%E5%81%8F%E5%B7%AE%E6%96%B9%E5%B7%AE%E9%97%AE%E9%A2%98",target:"_blank",rel:"noreferrer"},"TD Error 估计优势 方差偏差问题")])])],-1))]),Q[503]||(Q[503]=a("",2))]),Q[1878]||(Q[1878]=t("h3",{id:"信任区域",tabindex:"-1"},[T("信任区域 "),t("a",{class:"header-anchor",href:"#信任区域","aria-label":'Permalink to "信任区域"'},"​")],-1)),t("div",e6,[Q[616]||(Q[616]=t("div",{class:"custom-block-title"},"信任区域",-1)),Q[617]||(Q[617]=t("p",null,[t("strong",null,"信任区域作用理解")],-1)),t("ul",null,[Q[521]||(Q[521]=a("",1)),t("li",null,[Q[520]||(Q[520]=t("p",null,[T("解决"),t("strong",null,"重要性采样需要两个分布接近"),T("的缺点")],-1)),t("ul",null,[t("li",null,[t("mjx-container",m6,[(e(),l("svg",s6,Q[504]||(Q[504]=[a("",1)]))),Q[505]||(Q[505]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[510]||(Q[510]=T("和")),t("mjx-container",d6,[(e(),l("svg",o6,Q[506]||(Q[506]=[a("",1)]))),Q[507]||(Q[507]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])],-1))]),Q[511]||(Q[511]=T()),Q[512]||(Q[512]=t("code",null,"分布差异较大",-1)),Q[513]||(Q[513]=T(" 且 ")),Q[514]||(Q[514]=t("code",null,"采样轨迹数量不够大",-1)),Q[515]||(Q[515]=T("时，对")),t("mjx-container",n6,[(e(),l("svg",r6,Q[508]||(Q[508]=[a("",1)]))),Q[509]||(Q[509]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1))]),Q[516]||(Q[516]=T("的")),Q[517]||(Q[517]=t("code",null,"估计不准",-1)),Q[518]||(Q[518]=T("。"))]),Q[519]||(Q[519]=t("li",null,[T("使用"),t("code",null,"信任区域做限制"),T("。")],-1))])]),Q[522]||(Q[522]=a("",1))]),Q[618]||(Q[618]=t("p",null,[t("strong",null,"信任区域定义 (KL约束条件)")],-1)),t("ul",null,[Q[526]||(Q[526]=t("li",null,[t("p",null,[T("其实是定义了一个"),t("strong",null,"KL约束"),T("，策略空间中的一个"),t("strong",null,"KL球"),T("，")])],-1)),t("li",null,[Q[525]||(Q[525]=t("p",null,[t("code",null,"保证新策略不会偏离旧策略太远"),T("，从而保证"),t("strong",null,"策略的单调提升")],-1)),t("mjx-container",i6,[(e(),l("svg",h6,Q[523]||(Q[523]=[a("",1)]))),Q[524]||(Q[524]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd"),t("mtd",null,[t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mtext",null," "),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,",")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"s"),t("mo",null,"."),t("mi",{mathvariant:"normal"},"t"),t("mo",null,".")]),t("mtext",null," "),t("mtext",null," "),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"ρ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"k")])])])])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("mi",null,"s"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"旧"),t("mi",{mathvariant:"normal"},"策"),t("mi",{mathvariant:"normal"},"略")])])]),t("mo",null,","),t("mtext",null," "),t("mtext",null," "),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("mi",null,"s"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"新"),t("mi",{mathvariant:"normal"},"策"),t("mi",{mathvariant:"normal"},"略")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),t("mo",null,"≤"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"δ")])])])])])],-1))])])]),t("p",null,[Q[529]||(Q[529]=t("strong",null,"目标函数理解",-1)),Q[530]||(Q[530]=T()),t("mjx-container",g6,[(e(),l("svg",p6,Q[527]||(Q[527]=[a("",1)]))),Q[528]||(Q[528]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mtext",null," "),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])])],-1))])]),t("ul",null,[t("li",null,[Q[544]||(Q[544]=T("通过")),t("strong",null,[Q[533]||(Q[533]=T("调整策略参数")),t("mjx-container",H6,[(e(),l("svg",c6,Q[531]||(Q[531]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[532]||(Q[532]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"θ")])],-1))]),Q[534]||(Q[534]=T("使目标最大化"))]),t("ul",null,[t("li",null,[t("strong",null,[t("mjx-container",u6,[(e(),l("svg",L6,Q[535]||(Q[535]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[536]||(Q[536]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"θ")])],-1))]),Q[537]||(Q[537]=T("：正在优化的新策略"))]),Q[538]||(Q[538]=T("，是需要寻找的参数"))]),t("li",null,[t("strong",null,[t("mjx-container",w6,[(e(),l("svg",f6,Q[539]||(Q[539]=[a("",1)]))),Q[540]||(Q[540]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])],-1))]),Q[541]||(Q[541]=T("：旧策略"))]),Q[542]||(Q[542]=T("、已知的策略参数，")),Q[543]||(Q[543]=t("strong",null,"第k次迭代",-1))])])]),t("li",null,[Q[568]||(Q[568]=t("code",null,"L 目标函数",-1)),Q[569]||(Q[569]=T("，代理优势函数，衡量了")),t("strong",null,[Q[549]||(Q[549]=T("新策略")),t("mjx-container",y6,[(e(),l("svg",x6,Q[545]||(Q[545]=[a("",1)]))),Q[546]||(Q[546]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[550]||(Q[550]=T("比旧策略")),t("mjx-container",k6,[(e(),l("svg",M6,Q[547]||(Q[547]=[a("",1)]))),Q[548]||(Q[548]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])])])],-1))]),Q[551]||(Q[551]=T("有多好"))]),t("ul",null,[t("li",null,[Q[558]||(Q[558]=T("L 通过")),Q[559]||(Q[559]=t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/09-policy-ppo-.html#%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7",target:"_blank",rel:"noreferrer"},"重要性采样",-1)),Q[560]||(Q[560]=T("计算，利用")),Q[561]||(Q[561]=t("code",null,"旧策略",-1)),Q[562]||(Q[562]=T()),t("strong",null,[t("mjx-container",Z6,[(e(),l("svg",V6,Q[552]||(Q[552]=[a("",1)]))),Q[553]||(Q[553]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])])])],-1))]),Q[554]||(Q[554]=T("采样的数据"))]),Q[563]||(Q[563]=T("，来评估")),Q[564]||(Q[564]=t("code",null,"新策略",-1)),Q[565]||(Q[565]=T()),t("strong",null,[t("mjx-container",D6,[(e(),l("svg",b6,Q[555]||(Q[555]=[a("",1)]))),Q[556]||(Q[556]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[557]||(Q[557]=T("的表现"))]),Q[566]||(Q[566]=T("。"))]),Q[567]||(Q[567]=t("li",null,[t("strong",null,"L > 0"),T("：说明"),t("code",null,"新策略比旧策略好")],-1))])])]),Q[619]||(Q[619]=t("p",null,[t("strong",null,"约束条件理解")],-1)),t("mjx-container",j6,[(e(),l("svg",v6,Q[570]||(Q[570]=[a("",1)]))),Q[571]||(Q[571]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"ρ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"k")])])])])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("mi",null,"s"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"旧"),t("mi",{mathvariant:"normal"},"策"),t("mi",{mathvariant:"normal"},"略")])])]),t("mo",null,","),t("mtext",null," "),t("mtext",null," "),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("mi",null,"s"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"新"),t("mi",{mathvariant:"normal"},"策"),t("mi",{mathvariant:"normal"},"略")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),t("mo",null,"≤"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"δ")])])],-1))]),t("ul",null,[t("li",null,[Q[583]||(Q[583]=t("a",{href:"http://plmsmile.github.io/posts/llm/basic/01-lm-define-information-theory.html#kl%E6%95%A3%E5%BA%A6-%E4%BA%A4%E5%8F%89%E7%86%B5-%E5%9B%B0%E6%83%91%E5%BA%A6",target:"_blank",rel:"noreferrer"},"KL 散度",-1)),Q[584]||(Q[584]=T(" ：衡量")),Q[585]||(Q[585]=t("code",null,"两个概率分布的差异",-1)),t("ul",null,[t("li",null,[t("strong",null,[t("mjx-container",A6,[(e(),l("svg",R6,Q[572]||(Q[572]=[a("",1)]))),Q[573]||(Q[573]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])]),t("mo",null,","),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mn",null,"0")])],-1))])]),Q[574]||(Q[574]=T("：两个策略在状态s下")),Q[575]||(Q[575]=t("code",null,"完全一样",-1))]),t("li",null,[t("strong",null,[t("mjx-container",O6,[(e(),l("svg",_6,Q[576]||(Q[576]=[a("",1)]))),Q[577]||(Q[577]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])]),t("mo",null,","),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")])],-1))])]),Q[578]||(Q[578]=T()),Q[579]||(Q[579]=t("code",null,"越大",-1)),Q[580]||(Q[580]=T("，说明")),Q[581]||(Q[581]=t("code",null,"新策略比旧策略变化越大",-1)),Q[582]||(Q[582]=T("。"))])])]),t("li",null,[t("strong",null,[Q[588]||(Q[588]=T("所有状态")),t("mjx-container",C6,[(e(),l("svg",B6,Q[586]||(Q[586]=[a("",1)]))),Q[587]||(Q[587]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")])])],-1))]),Q[589]||(Q[589]=T("上的平均KL散度"))]),Q[614]||(Q[614]=T(" 需 ")),t("mjx-container",E6,[(e(),l("svg",X6,Q[590]||(Q[590]=[a("",1)]))),Q[591]||(Q[591]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mstyle",{mathcolor:"red"},[t("mi",null,"E")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"ρ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"k")])])])])])])])])])]),t("mo",null,"≤"),t("mstyle",{mathcolor:"red"},[t("mi",null,"δ")])])],-1))]),Q[615]||(Q[615]=T("， ")),t("ul",null,[t("li",null,[Q[594]||(Q[594]=t("code",null,"平均差异不能太大",-1)),Q[595]||(Q[595]=T("，")),Q[596]||(Q[596]=t("strong",null,"限制",-1)),Q[597]||(Q[597]=T("在半径为")),t("mjx-container",S6,[(e(),l("svg",F6,Q[592]||(Q[592]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D6FF",d:"M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[593]||(Q[593]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"δ")])],-1))]),Q[598]||(Q[598]=T("的小范围/")),Q[599]||(Q[599]=t("code",null,"信任区域",-1)),Q[600]||(Q[600]=T("内 ")),Q[601]||(Q[601]=t("ul",null,[t("li",null,[t("code",null,"如0.01，信赖域大小")])],-1))]),t("li",null,[t("mjx-container",P6,[(e(),l("svg",z6,Q[602]||(Q[602]=[a("",1)]))),Q[603]||(Q[603]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"ρ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"k")])])])])])])])])],-1))]),Q[611]||(Q[611]=T("：")),Q[612]||(Q[612]=t("strong",null,"状态访问分布",-1)),Q[613]||(Q[613]=T("，访问各状态的概率是多少。 ")),t("ul",null,[t("li",null,[Q[608]||(Q[608]=T("根据旧策略")),t("strong",null,[Q[606]||(Q[606]=T("访问这些状态的频率分布")),t("mjx-container",I6,[(e(),l("svg",G6,Q[604]||(Q[604]=[a("",1)]))),Q[605]||(Q[605]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"ρ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])])])])])],-1))]),Q[607]||(Q[607]=T("来加权"))]),Q[609]||(Q[609]=T("，关注")),Q[610]||(Q[610]=t("code",null,"重要状态的策略变化",-1))])])])])])])]),Q[1879]||(Q[1879]=t("h3",{id:"策略目标",tabindex:"-1"},[T("策略目标 "),t("a",{class:"header-anchor",href:"#策略目标","aria-label":'Permalink to "策略目标"'},"​")],-1)),t("div",N6,[Q[622]||(Q[622]=t("div",{class:"custom-block-title"},"TRPO 策略目标",-1)),t("mjx-container",J6,[(e(),l("svg",q6,Q[620]||(Q[620]=[a("",1)]))),Q[621]||(Q[621]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"T"),t("mi",{mathvariant:"normal"},"R"),t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"O")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mi",null,"θ")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")]),t("mo",null,","),t("mtext",null," "),t("mtext",null," "),t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",{stretchy:"false"},")"),t("mo",null,"≤"),t("mstyle",{mathcolor:"red"},[t("mi",null,"δ")])])],-1))])]),t("div",K6,[Q[705]||(Q[705]=t("div",{class:"custom-block-title"},"TRPO 策略目标推导过程",-1)),Q[706]||(Q[706]=t("p",null,[t("strong",null,"核心目标")],-1)),t("ul",null,[t("li",null,[t("p",null,[Q[631]||(Q[631]=T("期望")),t("strong",null,[Q[627]||(Q[627]=T("借助当前")),t("mjx-container",$6,[(e(),l("svg",Y6,Q[623]||(Q[623]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[624]||(Q[624]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"θ")])],-1))]),Q[628]||(Q[628]=T("找到一个更优")),t("mjx-container",U6,[(e(),l("svg",W6,Q[625]||(Q[625]=[a("",1)]))),Q[626]||(Q[626]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])],-1))])]),Q[632]||(Q[632]=T("，使得")),t("mjx-container",t5,[(e(),l("svg",Q5,Q[629]||(Q[629]=[a("",1)]))),Q[630]||(Q[630]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")"),t("mo",null,"≥"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1))])]),t("ul",null,[t("li",null,[t("mjx-container",T5,[(e(),l("svg",a5,Q[633]||(Q[633]=[a("",1)]))),Q[634]||(Q[634]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"、")]),t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])],-1))]),Q[635]||(Q[635]=T("：")),Q[636]||(Q[636]=t("code",null,"旧策略",-1)),Q[637]||(Q[637]=T("、")),Q[638]||(Q[638]=t("code",null,"新策略",-1)),Q[639]||(Q[639]=T("。"))]),t("li",null,[t("mjx-container",l5,[(e(),l("svg",e5,Q[640]||(Q[640]=[a("",1)]))),Q[641]||(Q[641]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"、")]),t("mi",null,"θ")])],-1))]),Q[642]||(Q[642]=T("：")),Q[643]||(Q[643]=t("code",null,"旧策略",-1)),Q[644]||(Q[644]=T("、")),Q[645]||(Q[645]=t("code",null,"新策略",-1)),Q[646]||(Q[646]=T("。两种符号表示。"))])])]),t("li",null,[t("p",null,[Q[649]||(Q[649]=T("只要")),Q[650]||(Q[650]=t("strong",null,"找到一个新策略",-1)),Q[651]||(Q[651]=T("，使")),t("mjx-container",m5,[(e(),l("svg",s5,Q[647]||(Q[647]=[a("",1)]))),Q[648]||(Q[648]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"v"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"a"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mo",{stretchy:"false"},"["),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",{stretchy:"false"},"]"),t("mo",null,"≥"),t("mn",null,"0")])],-1))]),Q[652]||(Q[652]=T("，就能")),Q[653]||(Q[653]=t("code",null,"保证策略性能单调递增",-1)),Q[654]||(Q[654]=T("，推导过程见下文"))])])]),t("mjx-container",d5,[(e(),l("svg",o5,Q[655]||(Q[655]=[a("",1)]))),Q[656]||(Q[656]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ")])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"ρ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"a"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])])])])],-1))]),t("mjx-container",n5,[(e(),l("svg",r5,Q[657]||(Q[657]=[a("",1)]))),Q[658]||(Q[658]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mi",null,"r"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("mi",null,"γ"),t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[707]||(Q[707]=t("p",null,[t("strong",null,"难点")],-1)),t("ul",null,[t("li",null,[Q[663]||(Q[663]=t("em",null,"直接求解该式非常困难",-1)),Q[664]||(Q[664]=T()),t("mjx-container",i5,[(e(),l("svg",h5,Q[659]||(Q[659]=[a("",1)]))),Q[660]||(Q[660]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"ρ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])])])])],-1))]),Q[665]||(Q[665]=T("，")),t("strong",null,[t("mjx-container",g5,[(e(),l("svg",p5,Q[661]||(Q[661]=[a("",1)]))),Q[662]||(Q[662]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])],-1))])]),Q[666]||(Q[666]=T(" 是")),Q[667]||(Q[667]=t("code",null,"需要求解的新策略",-1)),Q[668]||(Q[668]=t("ul",null,[t("li",null,"既用新策略收集样本数据，把所有可能的新策略都拿来收集数据"),t("li",null,[T("然后判断哪个新策略符合上述条件，"),t("code",null,"显然是不现实的"),T("。")])],-1))]),t("li",null,[Q[672]||(Q[672]=T("解法：直接使用")),t("strong",null,[Q[671]||(Q[671]=T("旧策略")),t("mjx-container",H5,[(e(),l("svg",c5,Q[669]||(Q[669]=[a("",1)]))),Q[670]||(Q[670]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))])]),Q[673]||(Q[673]=T(" 的")),Q[674]||(Q[674]=t("code",null,"状态分布",-1)),Q[675]||(Q[675]=t("ul",null,[t("li",null,[t("strong",null,"新旧策略接近时"),T("，"),t("code",null,"状态访问分布变化小"),T("，"),t("code",null,"近似是合理的")])],-1))])]),t("mjx-container",u5,[(e(),l("svg",L5,Q[676]||(Q[676]=[a("",1)]))),Q[677]||(Q[677]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"ρ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])])]),t("mo",{stretchy:"false"},"→"),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"ρ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])])])])])])],-1))]),Q[708]||(Q[708]=t("p",null,[t("strong",null,"目标优化")],-1)),t("ul",null,[t("li",null,[t("strong",null,[Q[680]||(Q[680]=T("直接采用旧策略")),t("mjx-container",w5,[(e(),l("svg",f5,Q[678]||(Q[678]=[a("",1)]))),Q[679]||(Q[679]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[681]||(Q[681]=T("的状态分布"))]),Q[682]||(Q[682]=T("，忽略两个策略的状态访问分布"))])]),t("mjx-container",y5,[(e(),l("svg",x5,Q[683]||(Q[683]=[a("",1)]))),Q[684]||(Q[684]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ")])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"ρ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"a"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),t("ul",null,[t("li",null,[Q[697]||(Q[697]=t("code",null,"动作仍用新策略采样得到",-1)),Q[698]||(Q[698]=T("，用")),Q[699]||(Q[699]=t("strong",null,"重要性采样",-1)),Q[700]||(Q[700]=T("做处理。 ")),t("ul",null,[t("li",null,[Q[691]||(Q[691]=T("这样就能基于")),t("strong",null,[Q[687]||(Q[687]=T("旧策略")),t("mjx-container",k5,[(e(),l("svg",M5,Q[685]||(Q[685]=[a("",1)]))),Q[686]||(Q[686]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))])]),Q[692]||(Q[692]=T()),Q[693]||(Q[693]=t("code",null,"采样出的数据",-1)),Q[694]||(Q[694]=T("，")),Q[695]||(Q[695]=t("code",null,"来估计并优化",-1)),Q[696]||(Q[696]=T()),t("strong",null,[Q[690]||(Q[690]=T("新策略")),t("mjx-container",Z5,[(e(),l("svg",V5,Q[688]||(Q[688]=[a("",1)]))),Q[689]||(Q[689]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])],-1))])])])])])]),t("mjx-container",D5,[(e(),l("svg",b5,Q[701]||(Q[701]=[a("",1)]))),Q[702]||(Q[702]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"ρ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"a"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"a"),t("mo",null,"∣"),t("mi",null,"s"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"a"),t("mo",null,"∣"),t("mi",null,"s"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),Q[709]||(Q[709]=t("p",null,[t("strong",null,"KL 约束"),T(" (上文信任域空间)")],-1)),Q[710]||(Q[710]=t("ul",null,[t("li",null,[T("增加"),t("code",null,"KL约束"),T("，"),t("code",null,"保证新旧策略足够近")])],-1)),t("mjx-container",j5,[(e(),l("svg",v5,Q[703]||(Q[703]=[a("",1)]))),Q[704]||(Q[704]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd"),t("mtd",null,[t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])]),t("mtext",null," "),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")")]),t("mo",null,",")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"s"),t("mo",null,"."),t("mi",{mathvariant:"normal"},"t"),t("mo",null,".")]),t("mtext",null," "),t("mtext",null," "),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"v"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"k")])])])])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("mi",null,"s"),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mtext",null," "),t("mtext",null," "),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("mi",null,"s"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),t("mo",null,"≤"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"δ")])])])])])],-1))]),Q[711]||(Q[711]=a("",1))]),Q[1880]||(Q[1880]=t("p",null,"信任区域示意图：左侧无信任区域，梯度更新可能导致性能骤降；右侧有信任区域，每次梯度更新都能带来稳定提升。",-1)),Q[1881]||(Q[1881]=t("img",{src:"https://hrl.boyuai.com/static/640.50a56fc9.png",style:{display:"block",margin:"auto"},width:"70%"},null,-1)),t("div",A5,[Q[722]||(Q[722]=t("div",{class:"custom-block-title"},"目标推导过程",-1)),t("p",null,[t("strong",null,[t("mjx-container",R5,[(e(),l("svg",O5,Q[712]||(Q[712]=[a("",1)]))),Q[713]||(Q[713]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1))]),Q[714]||(Q[714]=T(" 另一种形式"))])]),t("mjx-container",_5,[(e(),l("svg",C5,Q[715]||(Q[715]=[a("",1)]))),Q[716]||(Q[716]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"s"),t("mn",null,"0")])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mn",null,"0")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")]),t("mo",null,"⋅"),t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")]),t("mo",null,"⋅"),t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mo",null,"−"),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")])]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("mi",null,"γ"),t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])])])])],-1))]),t("p",null,[t("strong",null,[t("mjx-container",B5,[(e(),l("svg",E5,Q[717]||(Q[717]=[a("",1)]))),Q[718]||(Q[718]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1))]),Q[719]||(Q[719]=T("推导过程"))])]),t("mjx-container",X5,[(e(),l("svg",S5,Q[720]||(Q[720]=[a("",1)]))),Q[721]||(Q[721]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"s"),t("mn",null,"0")])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mn",null,"0")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),t("mo",null,"−"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"s"),t("mn",null,"0")])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mn",null,"0")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mi",null,"r"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")]),t("mo",null,"+"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")])]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("mi",null,"γ"),t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")])]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("mi",null,"r"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("mi",null,"γ"),t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")])]),t("mo",null,"⋅"),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"v"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"a"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mo",{stretchy:"false"},"["),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",{stretchy:"false"},"]")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ")])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"v"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"a"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mo",{stretchy:"false"},"["),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",{stretchy:"false"},"]")])])])])],-1))])]),Q[1882]||(Q[1882]=t("h3",{id:"广义优势估计-1",tabindex:"-1"},[T("广义优势估计 "),t("a",{class:"header-anchor",href:"#广义优势估计-1","aria-label":'Permalink to "广义优势估计"'},"​")],-1)),Q[1883]||(Q[1883]=t("p",null,[t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#%E5%B9%BF%E4%B9%89%E4%BC%98%E5%8A%BF%E4%BC%B0%E8%AE%A1",target:"_blank",rel:"noreferrer"},"GAE 笔记")],-1)),t("div",F5,[Q[729]||(Q[729]=t("div",{class:"custom-block-title"},"GAE",-1)),Q[730]||(Q[730]=t("ul",null,[t("li",null,"对不同TD步数的优势估计进行指数加权平均，平衡方差和偏差")],-1)),t("mjx-container",P5,[(e(),l("svg",z5,Q[723]||(Q[723]=[a("",1)]))),Q[724]||(Q[724]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")")])])],-1))]),t("mjx-container",I5,[(e(),l("svg",G5,Q[725]||(Q[725]=[a("",1)]))),Q[726]||(Q[726]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))]),t("mjx-container",N5,[(e(),l("svg",J5,Q[727]||(Q[727]=[a("",1)]))),Q[728]||(Q[728]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])])],-1))])]),Q[1884]||(Q[1884]=a("",3)),t("div",q5,[Q[755]||(Q[755]=t("div",{class:"custom-block-title"},"PPO 核心思想",-1)),Q[756]||(Q[756]=t("p",null,[t("strong",null,"背景")],-1)),Q[757]||(Q[757]=t("ul",null,[t("li",null,"TRPO计算复杂， 每步更新运算量非常大。"),t("li",null,"PPO基于TRPO思想，但实现更简单。能学的一样好、甚至更快。")],-1)),Q[758]||(Q[758]=t("p",null,[t("strong",null,"PPO 核心思想")],-1)),t("ul",null,[Q[754]||(Q[754]=a("",2)),t("li",null,[Q[753]||(Q[753]=t("p",null,[T("引入"),t("code",null,"Clip或Penalty")],-1)),t("ul",null,[t("li",null,[Q[751]||(Q[751]=t("p",null,[T("解决"),t("code",null,"采样方差大"),T("& "),t("strong",null,"重要性采样"),t("code",null,"分布差异大"),T("+"),t("code",null,"采样数量不足"),T("面临的问题")],-1)),t("ul",null,[t("li",null,[t("strong",null,[Q[735]||(Q[735]=T("把")),t("mjx-container",K5,[(e(),l("svg",$5,Q[731]||(Q[731]=[a("",1)]))),Q[732]||(Q[732]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[736]||(Q[736]=T("和")),t("mjx-container",Y5,[(e(),l("svg",U5,Q[733]||(Q[733]=[a("",1)]))),Q[734]||(Q[734]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])],-1))]),Q[737]||(Q[737]=T("的相似性"))]),Q[747]||(Q[747]=T(" 作为")),t("mjx-container",W5,[(e(),l("svg",t0,Q[738]||(Q[738]=[a("",1)]))),Q[739]||(Q[739]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")])],-1))]),Q[748]||(Q[748]=T("的")),Q[749]||(Q[749]=t("code",null,"约束条件",-1)),Q[750]||(Q[750]=T("。 ")),t("ul",null,[Q[746]||(Q[746]=t("li",null,[T("TRPO："),t("code",null,"KL约束"),T("，做一个信任区域")],-1)),t("li",null,[Q[744]||(Q[744]=T("PPO：")),t("strong",null,[Q[742]||(Q[742]=T("把约束条件放回")),t("mjx-container",Q0,[(e(),l("svg",T0,Q[740]||(Q[740]=[a("",1)]))),Q[741]||(Q[741]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")])],-1))]),Q[743]||(Q[743]=T("中做优化"))]),Q[745]||(Q[745]=T("，CLIP 或 Penalty。"))])])])])]),Q[752]||(Q[752]=t("li",null,[t("p",null,[T("使用"),t("code",null,"Clip或Penalty"),T(),t("code",null,"增强训练稳定性")])],-1))])])])]),Q[1885]||(Q[1885]=t("h3",{id:"ppo-clip",tabindex:"-1"},[T("PPO-Clip "),t("a",{class:"header-anchor",href:"#ppo-clip","aria-label":'Permalink to "PPO-Clip"'},"​")],-1)),Q[1886]||(Q[1886]=t("h4",{id:"clip-核心思想",tabindex:"-1"},[T("Clip 核心思想 "),t("a",{class:"header-anchor",href:"#clip-核心思想","aria-label":'Permalink to "Clip 核心思想"'},"​")],-1)),t("div",a0,[Q[822]||(Q[822]=t("div",{class:"custom-block-title"},"PPO-Clip",-1)),Q[823]||(Q[823]=t("p",null,[t("strong",null,"引入IS和GAE后的优化目标")],-1)),t("mjx-container",l0,[(e(),l("svg",e0,Q[759]||(Q[759]=[a("",1)]))),Q[760]||(Q[760]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"arg"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"τ"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q[824]||(Q[824]=t("p",null,[t("strong",null,"背景")],-1)),t("ul",null,[t("li",null,[Q[791]||(Q[791]=t("p",null,"为什么需要CLIP？",-1)),t("ul",null,[t("li",null,[t("p",null,[Q[767]||(Q[767]=T("考虑")),Q[768]||(Q[768]=t("strong",null,"采样不足",-1)),Q[769]||(Q[769]=T("的情况下，")),t("strong",null,[t("mjx-container",m0,[(e(),l("svg",s0,Q[761]||(Q[761]=[a("",1)]))),Q[762]||(Q[762]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[765]||(Q[765]=T("和")),t("mjx-container",d0,[(e(),l("svg",o0,Q[763]||(Q[763]=[a("",1)]))),Q[764]||(Q[764]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])],-1))]),Q[766]||(Q[766]=T(" 分布差异不能太大"))])])]),t("li",null,[t("p",null,[Q[774]||(Q[774]=T("因此")),t("mjx-container",n0,[(e(),l("svg",r0,Q[770]||(Q[770]=[a("",1)]))),Q[771]||(Q[771]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])])])],-1))]),Q[775]||(Q[775]=T("是")),Q[776]||(Q[776]=t("code",null,"有上限和下限的",-1)),Q[777]||(Q[777]=T("，需保证")),t("mjx-container",i0,[(e(),l("svg",h0,Q[772]||(Q[772]=[a("",1)]))),Q[773]||(Q[773]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])])])],-1))]),Q[778]||(Q[778]=T()),Q[779]||(Q[779]=t("code",null,"在信任域内",-1)),Q[780]||(Q[780]=T("。"))])]),t("li",null,[t("p",null,[Q[785]||(Q[785]=t("code",null,"不能一味轻信",-1)),Q[786]||(Q[786]=T()),t("mjx-container",g0,[(e(),l("svg",p0,Q[781]||(Q[781]=[a("",1)]))),Q[782]||(Q[782]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[787]||(Q[787]=T("， ")),Q[788]||(Q[788]=t("code",null,"来提升或降低",-1)),Q[789]||(Q[789]=T()),t("mjx-container",H0,[(e(),l("svg",c0,Q[783]||(Q[783]=[a("",1)]))),Q[784]||(Q[784]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[790]||(Q[790]=T("。"))])])])])]),Q[825]||(Q[825]=t("p",null,[t("strong",null,"CLIP 核心思想")],-1)),t("ul",null,[Q[813]||(Q[813]=t("li",null,[T("通过"),t("code",null,"CLIP裁剪+MIN函数"),T("，"),t("code",null,"限制策略更新幅度"),T("，来"),t("strong",null,"保证训练稳定性"),T("。")],-1)),t("li",null,[Q[806]||(Q[806]=T("限制")),Q[807]||(Q[807]=t("code",null,"重要性权重",-1)),Q[808]||(Q[808]=T("在一个")),Q[809]||(Q[809]=t("code",null,"信任域",-1)),Q[810]||(Q[810]=T("内，")),Q[811]||(Q[811]=t("code",null,"超出信任域就裁切",-1)),Q[812]||(Q[812]=T("。 ")),t("ul",null,[t("li",null,[Q[798]||(Q[798]=T("约束")),Q[799]||(Q[799]=t("code",null,"新旧策略尽可能接近和相似",-1)),Q[800]||(Q[800]=T("，约束 ")),t("strong",null,[t("mjx-container",u0,[(e(),l("svg",L0,Q[792]||(Q[792]=[a("",1)]))),Q[793]||(Q[793]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[796]||(Q[796]=T("和")),t("mjx-container",w0,[(e(),l("svg",f0,Q[794]||(Q[794]=[a("",1)]))),Q[795]||(Q[795]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])],-1))]),Q[797]||(Q[797]=T("的相似性"))]),Q[801]||(Q[801]=T("，")),Q[802]||(Q[802]=t("code",null,"限制更新幅度不要太大",-1)),Q[803]||(Q[803]=T("，保证")),Q[804]||(Q[804]=t("code",null,"训练稳定性",-1))]),Q[805]||(Q[805]=t("li",null,[T("希望采样策略和学习策略的"),t("strong",null,"差距不要太大"),T("。")],-1))])])]),Q[826]||(Q[826]=t("p",null,[t("strong",null,"CLIP 信任域")],-1)),t("ul",null,[t("li",null,[t("mjx-container",y0,[(e(),l("svg",x0,Q[814]||(Q[814]=[a("",1)]))),Q[815]||(Q[815]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{stretchy:"false"},"["),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")]),t("mo",{stretchy:"false"},"]")])],-1))])])]),t("mjx-container",k0,[(e(),l("svg",M0,Q[816]||(Q[816]=[a("",1)]))),Q[817]||(Q[817]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")]),t("mo",null,"≤"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"("),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"≤"),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")])])],-1))]),Q[827]||(Q[827]=t("p",null,[t("strong",null,"优化目标")],-1)),Q[828]||(Q[828]=t("ul",null,[t("li",null,[t("strong",null,"不做KL散度约束"),T("，直接把"),t("code",null,"CLIP 信任域"),T("放到"),t("strong",null,"目标函数"),T("中")])],-1)),t("mjx-container",Z0,[(e(),l("svg",V0,Q[818]||(Q[818]=[a("",1)]))),Q[819]||(Q[819]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"O")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"C"),t("mi",{mathvariant:"normal"},"L"),t("mi",{mathvariant:"normal"},"I"),t("mi",{mathvariant:"normal"},"P")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"τ"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"red"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{"data-mjx-auto-op":"false"},"clip")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t("mjx-container",D0,[(e(),l("svg",b0,Q[820]||(Q[820]=[a("",1)]))),Q[821]||(Q[821]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"O")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"C"),t("mi",{mathvariant:"normal"},"L"),t("mi",{mathvariant:"normal"},"I"),t("mi",{mathvariant:"normal"},"P")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("munder",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")])])]),t("mstyle",{mathcolor:"red"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{"data-mjx-auto-op":"false"},"clip")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))])]),Q[1887]||(Q[1887]=t("h4",{id:"clip-到底做了什么",tabindex:"-1"},[T("Clip 到底做了什么 "),t("a",{class:"header-anchor",href:"#clip-到底做了什么","aria-label":'Permalink to "Clip 到底做了什么"'},"​")],-1)),t("div",j0,[Q[895]||(Q[895]=t("div",{class:"custom-block-title"},"CLIP 到底做了什么",-1)),Q[896]||(Q[896]=t("p",null,[t("strong",null,"公式")],-1)),t("ul",null,[t("li",null,[Q[831]||(Q[831]=T("无限制的策略梯度目标：")),t("mjx-container",v0,[(e(),l("svg",A0,Q[829]||(Q[829]=[a("",1)]))),Q[830]||(Q[830]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])])])],-1))])]),t("li",null,[Q[836]||(Q[836]=T("有限制的策略梯度目标：")),t("mjx-container",R0,[(e(),l("svg",O0,Q[832]||(Q[832]=[a("",1)]))),Q[833]||(Q[833]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("mtext",null,"clip")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"blue"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ"),t("mo",null,",")]),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])])])],-1))]),Q[837]||(Q[837]=T("，重要性权重裁剪到")),t("mjx-container",_0,[(e(),l("svg",C0,Q[834]||(Q[834]=[a("",1)]))),Q[835]||(Q[835]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{stretchy:"false"},"["),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ"),t("mo",null,","),t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ"),t("mo",{stretchy:"false"},"]")])],-1))])])]),t("mjx-container",B0,[(e(),l("svg",E0,Q[838]||(Q[838]=[a("",1)]))),Q[839]||(Q[839]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"clip")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"blue"},[t("mtext",null,"clip")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"blue"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ"),t("mo",null,",")]),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t("p",null,[t("strong",null,[Q[842]||(Q[842]=T("Case1：对于好动作 ")),t("mjx-container",X0,[(e(),l("svg",S0,Q[840]||(Q[840]=[a("",1)]))),Q[841]||(Q[841]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",null,">"),t("mn",null,"0")])],-1))])])]),t("ul",null,[t("li",null,[t("p",null,[Q[845]||(Q[845]=T("目标：提高概率，即增大")),t("mjx-container",F0,[(e(),l("svg",P0,Q[843]||(Q[843]=[a("",1)]))),Q[844]||(Q[844]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1))])])]),t("li",null,[t("p",null,[Q[848]||(Q[848]=T("当")),t("mjx-container",z0,[(e(),l("svg",I0,Q[846]||(Q[846]=[a("",1)]))),Q[847]||(Q[847]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")"),t("mo",null,"≤"),t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")])],-1))]),Q[849]||(Q[849]=T("时：一切正常"))])]),t("li",null,[t("p",null,[t("strong",null,[Q[852]||(Q[852]=T("当")),t("mjx-container",G0,[(e(),l("svg",N0,Q[850]||(Q[850]=[a("",1)]))),Q[851]||(Q[851]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")"),t("mo",null,">"),t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")])],-1))]),Q[853]||(Q[853]=T("时"))]),Q[856]||(Q[856]=T("：变成")),t("mjx-container",J0,[(e(),l("svg",q0,Q[854]||(Q[854]=[a("",1)]))),Q[855]||(Q[855]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])])])],-1))])]),t("mjx-container",K0,[(e(),l("svg",$0,Q[857]||(Q[857]=[a("",1)]))),Q[858]||(Q[858]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])])])],-1))])]),t("li",null,[t("p",null,[t("mjx-container",Y0,[(e(),l("svg",U0,Q[859]||(Q[859]=[a("",1)]))),Q[860]||(Q[860]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])])])],-1))]),Q[861]||(Q[861]=T("，")),Q[862]||(Q[862]=t("code",null,"没有梯度",-1))]),t("ul",null,[t("li",null,[Q[865]||(Q[865]=T("是一个")),Q[866]||(Q[866]=t("code",null,"旧策略计算出的常数",-1)),Q[867]||(Q[867]=T("，和")),Q[868]||(Q[868]=t("code",null,"当前优化参数",-1)),t("mjx-container",W0,[(e(),l("svg",t7,Q[863]||(Q[863]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[864]||(Q[864]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"θ")])],-1))]),Q[869]||(Q[869]=T()),Q[870]||(Q[870]=t("code",null,"无关",-1))])])]),Q[871]||(Q[871]=t("li",null,[t("p",null,[T("意味着"),t("code",null,"IS差距大的token"),T("，"),t("code",null,"该token梯度为0"),T("，"),t("code",null,"无法进行梯度更新"),T("，"),t("code",null,"该token被硬丢弃"),T("。")])],-1))]),t("p",null,[t("strong",null,[Q[874]||(Q[874]=T("Case2：对于差动作 ")),t("mjx-container",Q7,[(e(),l("svg",T7,Q[872]||(Q[872]=[a("",1)]))),Q[873]||(Q[873]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",null,"<"),t("mn",null,"0")])],-1))])])]),t("ul",null,[t("li",null,[t("p",null,[Q[877]||(Q[877]=T("目标：降低概率，即减小")),t("mjx-container",a7,[(e(),l("svg",l7,Q[875]||(Q[875]=[a("",1)]))),Q[876]||(Q[876]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1))])])]),t("li",null,[t("p",null,[t("strong",null,[Q[880]||(Q[880]=T("当")),t("mjx-container",e7,[(e(),l("svg",m7,Q[878]||(Q[878]=[a("",1)]))),Q[879]||(Q[879]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")"),t("mo",null,"<"),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")])],-1))]),Q[881]||(Q[881]=T("时"))]),Q[884]||(Q[884]=T("：变成")),t("mjx-container",s7,[(e(),l("svg",d7,Q[882]||(Q[882]=[a("",1)]))),Q[883]||(Q[883]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])])])],-1))])]),t("mjx-container",o7,[(e(),l("svg",n7,Q[885]||(Q[885]=[a("",1)]))),Q[886]||(Q[886]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])])])],-1))])]),t("li",null,[t("p",null,[Q[889]||(Q[889]=T("同理，")),t("mjx-container",r7,[(e(),l("svg",i7,Q[887]||(Q[887]=[a("",1)]))),Q[888]||(Q[888]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"t")])])])],-1))]),Q[890]||(Q[890]=T(" 没有梯度，")),Q[891]||(Q[891]=t("code",null,"IS差异大的token",-1)),Q[892]||(Q[892]=T("，无法进行梯度更新，")),Q[893]||(Q[893]=t("code",null,"该token被硬丢弃",-1)),Q[894]||(Q[894]=T("。"))])])])]),Q[1888]||(Q[1888]=a("",5)),t("div",h7,[Q[937]||(Q[937]=a("",5)),t("mjx-container",g7,[(e(),l("svg",p7,Q[897]||(Q[897]=[a("",1)]))),Q[898]||(Q[898]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"P"),t("mi",null,"P"),t("mi",null,"O")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",{mathvariant:"normal"},"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")])])])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mo",{stretchy:"false"},")")])],-1))]),t("ul",null,[t("li",null,[Q[901]||(Q[901]=T("对")),Q[902]||(Q[902]=t("code",null,"KL散度设置阈值",-1)),Q[903]||(Q[903]=T()),t("mjx-container",H7,[(e(),l("svg",c7,Q[899]||(Q[899]=[a("",1)]))),Q[900]||(Q[900]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{stretchy:"false"},"["),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")])])]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max")])])]),t("mo",{stretchy:"false"},"]")])],-1))])]),t("li",null,[Q[929]||(Q[929]=T("超参")),t("mjx-container",u7,[(e(),l("svg",L7,Q[904]||(Q[904]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D6FD",d:"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[905]||(Q[905]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"β")])],-1))]),Q[930]||(Q[930]=T("的调整策略：自动调节、自适应KL散度 ")),t("ul",null,[t("li",null,[t("mjx-container",w7,[(e(),l("svg",f7,Q[906]||(Q[906]=[a("",1)]))),Q[907]||(Q[907]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mo",{stretchy:"false"},")"),t("mo",null,"≥"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max")])])])])],-1))]),t("ul",null,[t("li",null,[t("mjx-container",y7,[(e(),l("svg",x7,Q[908]||(Q[908]=[a("",1)]))),Q[909]||(Q[909]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[913]||(Q[913]=T()),Q[914]||(Q[914]=t("code",null,"新策略偏离旧策略太远",-1)),Q[915]||(Q[915]=T(" ，应该")),t("strong",null,[Q[912]||(Q[912]=T("增大")),t("mjx-container",k7,[(e(),l("svg",M7,Q[910]||(Q[910]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D6FD",d:"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[911]||(Q[911]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"β")])],-1))])]),Q[916]||(Q[916]=T("，")),Q[917]||(Q[917]=t("code",null,"把分布拉回来",-1))])])]),t("li",null,[t("mjx-container",Z7,[(e(),l("svg",V7,Q[918]||(Q[918]=[a("",1)]))),Q[919]||(Q[919]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mo",{stretchy:"false"},")"),t("mo",null,"≤"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")])])])])],-1))]),t("ul",null,[Q[927]||(Q[927]=t("li",null,"当前策略可能找到一条接近，只优化KL散度。",-1)),Q[928]||(Q[928]=t("li",null,[T("让自己和旧策略相近，而"),t("code",null,"不去优化优势相关的项")],-1)),t("li",null,[Q[923]||(Q[923]=T("应该")),t("strong",null,[Q[922]||(Q[922]=T("减小")),t("mjx-container",D7,[(e(),l("svg",b7,Q[920]||(Q[920]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D6FD",d:"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[921]||(Q[921]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"β")])],-1))])]),Q[924]||(Q[924]=T("，")),Q[925]||(Q[925]=t("code",null,"降低KL散度对目标的影响",-1)),Q[926]||(Q[926]=T("。"))])])])])])]),Q[938]||(Q[938]=t("p",null,[t("strong",null,"优化目标")],-1)),Q[939]||(Q[939]=t("ul",null,[t("li",null,"原始优化目标")],-1)),t("mjx-container",j7,[(e(),l("svg",v7,Q[931]||(Q[931]=[a("",1)]))),Q[932]||(Q[932]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"arg"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"τ"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q[940]||(Q[940]=t("ul",null,[t("li",null,[t("code",null,"引入KL Penalty后的优化目标")])],-1)),t("mjx-container",A7,[(e(),l("svg",R7,Q[933]||(Q[933]=[a("",1)]))),Q[934]||(Q[934]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"arg"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"O")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"K"),t("mi",{mathvariant:"normal"},"L")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"τ"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"K"),t("mi",{mathvariant:"normal"},"L")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t("mjx-container",O7,[(e(),l("svg",_7,Q[935]||(Q[935]=[a("",1)]))),Q[936]||(Q[936]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"P"),t("mi",null,"P"),t("mi",null,"O")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",{stretchy:"false"},")")])],-1))])]),Q[1889]||(Q[1889]=t("h3",{id:"actor",tabindex:"-1"},[T("Actor "),t("a",{class:"header-anchor",href:"#actor","aria-label":'Permalink to "Actor"'},"​")],-1)),Q[1890]||(Q[1890]=t("h4",{id:"策略目标-1",tabindex:"-1"},[T("策略目标 "),t("a",{class:"header-anchor",href:"#策略目标-1","aria-label":'Permalink to "策略目标"'},"​")],-1)),t("div",C7,[Q[957]||(Q[957]=t("div",{class:"custom-block-title"},"PPO 策略目标",-1)),Q[958]||(Q[958]=t("p",null,[t("strong",null,"1. 普通优势策略目标")],-1)),t("mjx-container",B7,[(e(),l("svg",E7,Q[941]||(Q[941]=[a("",1)]))),Q[942]||(Q[942]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"优"),t("mi",{mathvariant:"normal"},"势")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q[959]||(Q[959]=t("p",null,[t("strong",null,"2. TRPO策略目标")],-1)),t("mjx-container",X7,[(e(),l("svg",S7,Q[943]||(Q[943]=[a("",1)]))),Q[944]||(Q[944]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"T"),t("mi",{mathvariant:"normal"},"R"),t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"O")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mi",null,"θ")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")]),t("mo",null,","),t("mtext",null," "),t("mtext",null," "),t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",{stretchy:"false"},")"),t("mo",null,"≤"),t("mstyle",{mathcolor:"red"},[t("mi",null,"δ")])])],-1))]),Q[960]||(Q[960]=t("p",null,[t("strong",null,"3. PPO-CLIP 策略目标"),T(" ‼️")],-1)),Q[961]||(Q[961]=t("ul",null,[t("li",null,[t("code",null,"期望写法")])],-1)),t("mjx-container",F7,[(e(),l("svg",P7,Q[945]||(Q[945]=[a("",1)]))),Q[946]||(Q[946]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"O")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"C"),t("mi",{mathvariant:"normal"},"L"),t("mi",{mathvariant:"normal"},"I"),t("mi",{mathvariant:"normal"},"P")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"τ"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"red"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{"data-mjx-auto-op":"false"},"clip")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t("mjx-container",z7,[(e(),l("svg",I7,Q[947]||(Q[947]=[a("",1)]))),Q[948]||(Q[948]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"O")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"C"),t("mi",{mathvariant:"normal"},"L"),t("mi",{mathvariant:"normal"},"I"),t("mi",{mathvariant:"normal"},"P")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("munder",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")])])]),t("mstyle",{mathcolor:"red"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{"data-mjx-auto-op":"false"},"clip")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q[962]||(Q[962]=t("ul",null,[t("li",null,[t("code",null,"序列内平均写法")])],-1)),t("mjx-container",G7,[(e(),l("svg",N7,Q[949]||(Q[949]=[a("",1)]))),Q[950]||(Q[950]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"O")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"C"),t("mi",{mathvariant:"normal"},"L"),t("mi",{mathvariant:"normal"},"I"),t("mi",{mathvariant:"normal"},"P")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"q"),t("mo",null,","),t("mi",null,"o"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("mi",null,"o"),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("mi",null,"o"),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),t("mstyle",{mathcolor:"red"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"A"),t("mi",null,"t")])]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"clip")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"A"),t("mi",null,"t")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q[963]||(Q[963]=t("ul",null,[t("li",null,[t("code",null,"Token-Level Loss"),T("，2级平均。"),t("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/11-grpo-series.html#token-level-loss",target:"_blank",rel:"noreferrer"},"DAPO token-level loss"),T(", "),t("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/10-ppo-series.html#%E8%A7%A3%E5%86%B3%E9%95%BF%E5%BA%A6%E4%B8%8D%E4%B8%80%E9%97%AE%E9%A2%98-length-adaptive-gae-token-level-policy-loss",target:"_blank",rel:"noreferrer"},"VAPO 解决长度不一问题")])],-1)),t("mjx-container",J7,[(e(),l("svg",q7,Q[951]||(Q[951]=[a("",1)]))),Q[952]||(Q[952]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"L")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"ppo")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"G")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G")])])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"样"),t("mi",{mathvariant:"normal"},"本"),t("mi",{mathvariant:"normal"},"间"),t("mi",{mathvariant:"normal"},"平"),t("mi",{mathvariant:"normal"},"均")])])]),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("msub",null,[t("mi",null,"o"),t("mi",null,"i")]),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"序列内平均")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])])]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mtext",null,"clip")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q[964]||(Q[964]=t("p",null,[t("strong",null,"4. PPO-KLPenalty 策略目标")],-1)),t("mjx-container",K7,[(e(),l("svg",$7,Q[953]||(Q[953]=[a("",1)]))),Q[954]||(Q[954]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"P"),t("mi",null,"P"),t("mi",null,"O")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",{stretchy:"false"},")")])],-1))]),t("mjx-container",Y7,[(e(),l("svg",U7,Q[955]||(Q[955]=[a("",1)]))),Q[956]||(Q[956]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"arg"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"O")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"K"),t("mi",{mathvariant:"normal"},"L")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"τ"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"K"),t("mi",{mathvariant:"normal"},"L")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))])]),Q[1891]||(Q[1891]=t("h4",{id:"ppo-loss",tabindex:"-1"},[T("PPO Loss "),t("a",{class:"header-anchor",href:"#ppo-loss","aria-label":'Permalink to "PPO Loss"'},"​")],-1)),Q[1892]||(Q[1892]=t("p",null,"Actor在PPO epoch中，使用同一批数据做迭代更新的。",-1)),t("div",W7,[Q[979]||(Q[979]=t("div",{class:"custom-block-title"},"PPO Loss",-1)),Q[980]||(Q[980]=t("p",null,[t("strong",null,"重要性采样/比率")],-1)),Q[981]||(Q[981]=t("ul",null,[t("li",null,"为了稳定性，会对重要性采样做一个截断")],-1)),t("mjx-container",t8,[(e(),l("svg",Q8,Q[965]||(Q[965]=[a("",1)]))),Q[966]||(Q[966]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])])],-1))]),t("mjx-container",T8,[(e(),l("svg",a8,Q[967]||(Q[967]=[a("",1)]))),Q[968]||(Q[968]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mtext",null,"clip")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mtext",null,"min_r"),t("mo",null,","),t("mtext",null,"max_r")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])],-1))]),Q[982]||(Q[982]=t("ul",null,[t("li",null,[t("strong",null,"negative_approx_kl"),T(" ="),t("code",null," log_prob - old_log_prob")]),t("li",null,"negative_approx_kl = torch.clamp(negative_approx_kl, min=-20.0, maxs=20.0)")],-1)),Q[983]||(Q[983]=t("p",null,[t("strong",null,"PPO Loss")],-1)),t("mjx-container",l8,[(e(),l("svg",e8,Q[969]||(Q[969]=[a("",1)]))),Q[970]||(Q[970]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mtext",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"O"),t("mo",null,"−"),t("mi",{mathvariant:"normal"},"s"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"d")])])])]),t("mo",null,"="),t("mo",null,"−"),t("mstyle",{mathcolor:"red"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{"data-mjx-auto-op":"false"},"clip")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t("mjx-container",m8,[(e(),l("svg",s8,Q[971]||(Q[971]=[a("",1)]))),Q[972]||(Q[972]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"L")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"ppo")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"G")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G")])])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"样"),t("mi",{mathvariant:"normal"},"本"),t("mi",{mathvariant:"normal"},"间"),t("mi",{mathvariant:"normal"},"平"),t("mi",{mathvariant:"normal"},"均")])])]),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("msub",null,[t("mi",null,"o"),t("mi",null,"i")]),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"序列内平均")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])])]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mtext",null,"clip")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q[984]||(Q[984]=t("ul",null,[t("li",null,[t("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/11-grpo-series.html#token-level-loss",target:"_blank",rel:"noreferrer"},"DAPO token-level loss"),T(", "),t("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/10-ppo-series.html#%E8%A7%A3%E5%86%B3%E9%95%BF%E5%BA%A6%E4%B8%8D%E4%B8%80%E9%97%AE%E9%A2%98-length-adaptive-gae-token-level-policy-loss",target:"_blank",rel:"noreferrer"},"VAPO 解决长度不一问题")])],-1)),Q[985]||(Q[985]=t("p",null,[t("strong",null,"Dual-Clip Loss")],-1)),t("ul",null,[t("li",null,[Q[975]||(Q[975]=T("在优势")),t("mjx-container",d8,[(e(),l("svg",o8,Q[973]||(Q[973]=[a("",1)]))),Q[974]||(Q[974]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"A"),t("mi",null,"t")]),t("mo",null,"<"),t("mn",null,"0")])],-1))]),Q[976]||(Q[976]=T("时，额外增加一个裁剪"))])]),t("mjx-container",n8,[(e(),l("svg",r8,Q[977]||(Q[977]=[a("",1)]))),Q[978]||(Q[978]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msubsup",null,[t("mi",null,"L"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"Dual-Clip")])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"{"),t("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:".2em"},[t("mtr",null,[t("mtd"),t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mtext",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"O"),t("mo",null,"−"),t("mi",{mathvariant:"normal"},"s"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"d")])])])])]),t("mtd",null,[t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("msub",null,[t("mi",null,"A"),t("mi",null,"t")]),t("mo",null,"≥"),t("mn",null,"0")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mstyle",{mathcolor:"red"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mtext",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"O"),t("mo",null,"−"),t("mi",{mathvariant:"normal"},"s"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"d")])])])]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mo",null,"−"),t("mi",null,"c"),t("mo",null,"⋅"),t("msub",null,[t("mi",null,"A"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mtd",null,[t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("msub",null,[t("mi",null,"A"),t("mi",null,"t")]),t("mo",null,"<"),t("mn",null,"0")])])]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])]),Q[1893]||(Q[1893]=t("h4",{id:"熵奖励",tabindex:"-1"},[T("熵奖励 "),t("a",{class:"header-anchor",href:"#熵奖励","aria-label":'Permalink to "熵奖励"'},"​")],-1)),Q[1894]||(Q[1894]=t("p",null,[t("a",{href:"https://plmsmile.github.io/posts/llm/basic/01-lm-define-information-theory.html#%E7%86%B5%E8%AE%A1%E7%AE%97%E5%AE%9E%E7%8E%B0",target:"_blank",rel:"noreferrer"},"熵计算实现")],-1)),t("div",i8,[Q[988]||(Q[988]=a("",5)),t("mjx-container",h8,[(e(),l("svg",g8,Q[986]||(Q[986]=[a("",1)]))),Q[987]||(Q[987]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mi",null,"o"),t("mi",null,"t"),t("mi",null,"a"),t("mi",null,"l")])]),t("mo",null,"="),t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"p"),t("mi",null,"p"),t("mi",null,"o")])]),t("mo",null,"−"),t("msub",null,[t("mi",null,"β"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"H")])]),t("mo",null,"⋅"),t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"e"),t("mi",null,"n"),t("mi",null,"t"),t("mi",null,"r"),t("mi",null,"o"),t("mi",null,"p"),t("mi",null,"y")])])])],-1))])]),Q[1895]||(Q[1895]=a("",3)),t("div",p8,[Q[1002]||(Q[1002]=t("div",{class:"custom-block-title"},"KL 惩罚",-1)),Q[1003]||(Q[1003]=t("p",null,[t("strong",null,"背景")],-1)),t("ul",null,[t("li",null,[Q[991]||(Q[991]=T("RLHF中通常有一个SFT后的")),t("mjx-container",H8,[(e(),l("svg",c8,Q[989]||(Q[989]=[a("",1)]))),Q[990]||(Q[990]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])])])],-1))]),Q[992]||(Q[992]=T("模型，具有一定能力。"))]),t("li",null,[Q[995]||(Q[995]=T("Reward Hacking问题：如果不对")),t("mjx-container",u8,[(e(),l("svg",L8,Q[993]||(Q[993]=[a("",1)]))),Q[994]||(Q[994]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[996]||(Q[996]=T("进行约束，可能会走捷径骗过RM，来获取高奖励。"))]),Q[997]||(Q[997]=t("li",null,"KL loss正则化手段，给策略上缰绳，允许追求高奖励、同时又防止跑偏太远。",-1))]),Q[1004]||(Q[1004]=t("p",null,[t("strong",null,"计算公式")],-1)),t("mjx-container",w8,[(e(),l("svg",f8,Q[998]||(Q[998]=[a("",1)]))),Q[999]||(Q[999]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"k"),t("msub",null,[t("mi",null,"l"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mi",null,"o"),t("mi",null,"s"),t("mi",null,"s")])]),t("mo",null,"="),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])])])])]),t("mo",{stretchy:"false"},")")])],-1))]),t("mjx-container",y8,[(e(),l("svg",x8,Q[1e3]||(Q[1e3]=[a("",1)]))),Q[1001]||(Q[1001]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])])])])]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mstyle",{mathcolor:"red"},[t("mo",null,"−"),t("mi",null,"log")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"−"),t("mn",null,"1")])],-1))])]),Q[1896]||(Q[1896]=a("",10)),t("div",k8,[Q[1027]||(Q[1027]=t("div",{class:"custom-block-title"},"Reward Model 训练",-1)),Q[1028]||(Q[1028]=t("p",null,[t("strong",null,"目标")],-1)),Q[1029]||(Q[1029]=t("ul",null,[t("li",null,[T("给 "),t("code",null,"(Prompt, Response)"),T(" 打分，输出"),t("code",null,"1个标量"),T("。")])],-1)),Q[1030]||(Q[1030]=t("p",null,[t("strong",null,"主流方法")],-1)),t("ul",null,[Q[1022]||(Q[1022]=t("li",null,[t("p",null,[t("strong",null,"偏好数据收集")]),t("ul",null,[t("li",null,"1个Prompt，输出多个Response，人类排序"),t("li",null,[T("偏好数据："),t("code",null,"(prompt, chosen_response, rejected_response)")])])],-1)),t("li",null,[Q[1007]||(Q[1007]=t("p",null,[T("训练目标："),t("strong",null,"好回复的分数比差回复的分数高")],-1)),t("mjx-container",M8,[(e(),l("svg",Z8,Q[1005]||(Q[1005]=[a("",1)]))),Q[1006]||(Q[1006]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"R"),t("mi",null,"M")]),t("mo",{stretchy:"false"},"("),t("mtext",null,"prompt"),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mtext",null,"chosen_response")]),t("mo",{stretchy:"false"},")"),t("mo",null,">"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"R"),t("mi",null,"M")]),t("mo",{stretchy:"false"},"("),t("mtext",null,"prompt"),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("mtext",null,"rejected_response")]),t("mo",{stretchy:"false"},")")])],-1))])]),t("li",null,[Q[1021]||(Q[1021]=t("p",null,[t("strong",null,"Pairwise Loss")],-1)),t("ul",null,[t("li",null,[t("mjx-container",V8,[(e(),l("svg",D8,Q[1008]||(Q[1008]=[a("",1)]))),Q[1009]||(Q[1009]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mtext",null,"score"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"c"),t("mi",null,"h"),t("mi",null,"o"),t("mi",null,"s"),t("mi",null,"e"),t("mi",null,"n")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mtext",null,"score"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"j"),t("mi",null,"e"),t("mi",null,"c"),t("mi",null,"t")])])])])],-1))]),Q[1010]||(Q[1010]=T("：原始分数差；目标：")),Q[1011]||(Q[1011]=t("code",null,"最大化原始分数差",-1))]),Q[1020]||(Q[1020]=t("li",null,[T("Sigmoid："),t("strong",null,"模型认为"),T(),t("code",null,"Chosen比Reject分数好的概率"),T("；目标："),t("code",null,"把概率推向1")],-1)),t("li",null,[t("mjx-container",b8,[(e(),l("svg",j8,Q[1012]||(Q[1012]=[a("",1)]))),Q[1013]||(Q[1013]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("mo",null,"−"),t("mi",null,"log")])])],-1))]),Q[1014]||(Q[1014]=T("：")),Q[1015]||(Q[1015]=t("a",{href:"https://plmsmile.github.io/posts/llm/basic/01-lm-define-information-theory.html#kl%E6%95%A3%E5%BA%A6-%E4%BA%A4%E5%8F%89%E7%86%B5-%E5%9B%B0%E6%83%91%E5%BA%A6",target:"_blank",rel:"noreferrer"},"交叉熵",-1)),Q[1016]||(Q[1016]=T("loss，")),Q[1017]||(Q[1017]=t("strong",null,"对错误概率进行惩罚",-1)),Q[1018]||(Q[1018]=T("；目标：")),Q[1019]||(Q[1019]=t("code",null,"最小化惩罚",-1))])])])]),t("mjx-container",v8,[(e(),l("svg",A8,Q[1023]||(Q[1023]=[a("",1)]))),Q[1024]||(Q[1024]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtext",null,"loss"),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mo",null,"−"),t("mi",null,"log")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("mi",null,"σ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("mi",null,"R"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"c")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"R"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"r")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t("mjx-container",R8,[(e(),l("svg",O8,Q[1025]||(Q[1025]=[a("",1)]))),Q[1026]||(Q[1026]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtext",null,"loss"),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mo",null,"−"),t("mi",null,"log")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("mi",null,"σ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mtext",null,"score"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"c"),t("mi",null,"h"),t("mi",null,"o"),t("mi",null,"s"),t("mi",null,"e"),t("mi",null,"n")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mtext",null,"score"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"j"),t("mi",null,"e"),t("mi",null,"c"),t("mi",null,"t")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))])]),Q[1897]||(Q[1897]=t("h4",{id:"reward-model-即时奖励",tabindex:"-1"},[T("Reward Model 即时奖励 "),t("a",{class:"header-anchor",href:"#reward-model-即时奖励","aria-label":'Permalink to "Reward Model 即时奖励"'},"​")],-1)),t("div",_8,[Q[1071]||(Q[1071]=t("div",{class:"custom-block-title"},"Reward",-1)),Q[1072]||(Q[1072]=t("p",null,[t("strong",null,"RM 打分")],-1)),t("ul",null,[t("li",null,[t("p",null,[Q[1034]||(Q[1034]=T("在NLP中，RM仅对")),Q[1035]||(Q[1035]=t("strong",null,"整个Response",-1)),Q[1036]||(Q[1036]=T("打")),Q[1037]||(Q[1037]=t("strong",null,"1个分",-1)),Q[1038]||(Q[1038]=T("，仅")),Q[1039]||(Q[1039]=t("code",null,"最后一个token",-1)),Q[1040]||(Q[1040]=T("才有")),t("strong",null,[Q[1033]||(Q[1033]=T("奖励")),t("mjx-container",C8,[(e(),l("svg",B8,Q[1031]||(Q[1031]=[a("",1)]))),Q[1032]||(Q[1032]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T")])])])],-1))])]),Q[1041]||(Q[1041]=T("，其余设为0。"))]),t("ul",null,[t("li",null,[Q[1046]||(Q[1046]=T("下文")),Q[1047]||(Q[1047]=t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#critic",target:"_blank",rel:"noreferrer"},"Critic",-1)),Q[1048]||(Q[1048]=T("目标之一：使")),Q[1049]||(Q[1049]=t("code",null,"最后一个token的回报",-1)),Q[1050]||(Q[1050]=T(" 接近")),Q[1051]||(Q[1051]=t("code",null,"RM给的奖励",-1)),Q[1052]||(Q[1052]=T()),t("mjx-container",E8,[(e(),l("svg",X8,Q[1042]||(Q[1042]=[a("",1)]))),Q[1043]||(Q[1043]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"T")])])])],-1))]),t("mjx-container",S8,[(e(),l("svg",F8,Q[1044]||(Q[1044]=[a("",1)]))),Q[1045]||(Q[1045]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"T")])]),t("mo",{stretchy:"false"},")"),t("mo",{stretchy:"false"},"↔"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"T")])])])],-1))])])])]),Q[1053]||(Q[1053]=a("",2))]),Q[1073]||(Q[1073]=t("p",null,[t("strong",null,"环境奖励信号")],-1)),t("ul",null,[t("li",null,[Q[1056]||(Q[1056]=t("code",null,"环境奖励",-1)),t("mjx-container",P8,[(e(),l("svg",z8,Q[1054]||(Q[1054]=[a("",1)]))),Q[1055]||(Q[1055]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"r"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"env")])])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"{"),t("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:".2em"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mn",null,"0")])]),t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mn",null,"0")]),t("mo",null,"≤"),t("mi",null,"t"),t("mo",null,"≤"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"T"),t("mo",null,"−"),t("mn",null,"1")])]),t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"无"),t("mi",{mathvariant:"normal"},"奖"),t("mi",{mathvariant:"normal"},"励")])])]),t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"T")])])]),t("mtd",null,[t("mi",null,"t"),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mi",null,"T")])]),t("mtd",null,[t("mstyle",{mathcolor:"red"},[t("mtext",null,"最终奖励")])])])]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])])]),Q[1074]||(Q[1074]=t("p",null,[t("strong",null,"最终奖励")],-1)),Q[1075]||(Q[1075]=t("ul",null,[t("li",null,[t("strong",null,"最终每一步的奖励"),T(" = "),t("code",null,"环境奖励"),T(" -"),t("code",null,"KL约束"),T("，KL 奖励约束见下文")])],-1)),t("mjx-container",I8,[(e(),l("svg",G8,Q[1057]||(Q[1057]=[a("",1)]))),Q[1058]||(Q[1058]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"r"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"total")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"r"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"env")])])]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("msub",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"D"),t("mtext",null,"KL")])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])])]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"r"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"env")])])]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"log")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])])])],-1))]),t("ul",null,[t("li",null,[Q[1064]||(Q[1064]=T("由于KL约束非负，除")),t("mjx-container",N8,[(e(),l("svg",J8,Q[1059]||(Q[1059]=[a("",1)]))),Q[1060]||(Q[1060]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"T")])])],-1))]),Q[1065]||(Q[1065]=T("，")),t("strong",null,[Q[1063]||(Q[1063]=T("其余token的奖励")),t("mjx-container",q8,[(e(),l("svg",K8,Q[1061]||(Q[1061]=[a("",1)]))),Q[1062]||(Q[1062]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])])],-1))])]),Q[1066]||(Q[1066]=T()),Q[1067]||(Q[1067]=t("code",null,"要么是0",-1)),Q[1068]||(Q[1068]=T("、")),Q[1069]||(Q[1069]=t("code",null,"要么是负数",-1)),Q[1070]||(Q[1070]=T("。"))])])]),Q[1898]||(Q[1898]=t("h4",{id:"奖励加入kl散度项",tabindex:"-1"},[T("奖励加入KL散度项 "),t("a",{class:"header-anchor",href:"#奖励加入kl散度项","aria-label":'Permalink to "奖励加入KL散度项"'},"​")],-1)),t("div",$8,[Q[1096]||(Q[1096]=a("",5)),t("mjx-container",Y8,[(e(),l("svg",U8,Q[1076]||(Q[1076]=[a("",1)]))),Q[1077]||(Q[1077]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"D"),t("mtext",null,"KL")])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])])]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mi",null,"log")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])])])],-1))]),Q[1097]||(Q[1097]=t("p",null,[t("strong",null,"最终奖励")],-1)),Q[1098]||(Q[1098]=t("ul",null,[t("li",null,[t("strong",null,"最终奖励"),T(" = "),t("code",null,"环境奖励"),T(" - "),t("code",null,"KL约束")])],-1)),t("mjx-container",W8,[(e(),l("svg",t9,Q[1078]||(Q[1078]=[a("",1)]))),Q[1079]||(Q[1079]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"r"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"total")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"r"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"env")])])]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("msub",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"D"),t("mtext",null,"KL")])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])])]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"r"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"env")])])]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"log")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])])])],-1))]),t("mjx-container",Q9,[(e(),l("svg",T9,Q[1080]||(Q[1080]=[a("",1)]))),Q[1081]||(Q[1081]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"φ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"≤"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"log")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])])])],-1))]),t("mjx-container",a9,[(e(),l("svg",l9,Q[1082]||(Q[1082]=[a("",1)]))),Q[1083]||(Q[1083]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"r"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])],-1))]),t("ul",null,[t("li",null,[Q[1089]||(Q[1089]=T("由于KL约束非负，除")),t("mjx-container",e9,[(e(),l("svg",m9,Q[1084]||(Q[1084]=[a("",1)]))),Q[1085]||(Q[1085]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"T")])])],-1))]),Q[1090]||(Q[1090]=T("，")),t("strong",null,[Q[1088]||(Q[1088]=T("其余token的奖励")),t("mjx-container",s9,[(e(),l("svg",d9,Q[1086]||(Q[1086]=[a("",1)]))),Q[1087]||(Q[1087]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])])],-1))])]),Q[1091]||(Q[1091]=T()),Q[1092]||(Q[1092]=t("code",null,"要么是0",-1)),Q[1093]||(Q[1093]=T("、")),Q[1094]||(Q[1094]=t("code",null,"要么是负数",-1)),Q[1095]||(Q[1095]=T("。"))])])]),Q[1899]||(Q[1899]=a("",3)),t("div",o9,[Q[1145]||(Q[1145]=t("div",{class:"custom-block-title"},"Critic 目标",-1)),Q[1146]||(Q[1146]=t("p",null,[t("strong",null,"Critic 核心目标")],-1)),t("ul",null,[Q[1144]||(Q[1144]=t("li",null,[t("p",null,[t("strong",null,"评估策略效果"),T("，Actor更新后，需新的Critic来衡量新策略的价值。")])],-1)),t("li",null,[t("p",null,[Q[1101]||(Q[1101]=T("优化")),Q[1102]||(Q[1102]=t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/02-markove-process.html#v%E5%87%BD%E6%95%B0",target:"_blank",rel:"noreferrer"},"价值函数",-1)),t("mjx-container",n9,[(e(),l("svg",r9,Q[1099]||(Q[1099]=[a("",1)]))),Q[1100]||(Q[1100]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("mi",null,"s"),t("mo",{stretchy:"false"},")")])],-1))]),Q[1103]||(Q[1103]=T("， ")),Q[1104]||(Q[1104]=t("code",null,"学习真实目标值",-1))]),t("ul",null,[t("li",null,[Q[1124]||(Q[1124]=T("让 ")),t("strong",null,[t("mjx-container",i9,[(e(),l("svg",h9,Q[1105]||(Q[1105]=[a("",1)]))),Q[1106]||(Q[1106]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("mi",null,"s"),t("mo",{stretchy:"false"},")")])],-1))]),Q[1107]||(Q[1107]=T("预测"))]),Q[1125]||(Q[1125]=T(" 尽可能更接近")),Q[1126]||(Q[1126]=t("code",null,"真实的未来总回报",-1)),Q[1127]||(Q[1127]=T("。")),Q[1128]||(Q[1128]=t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#%E4%B8%80%E6%AD%A5%E6%97%B6%E5%BA%8F%E5%B7%AE%E5%88%86",target:"_blank",rel:"noreferrer"},"类比TD Error 定义",-1)),t("ul",null,[t("li",null,[Q[1110]||(Q[1110]=t("code",null,"预测",-1)),Q[1111]||(Q[1111]=T("当前策略，从状态")),t("mjx-container",g9,[(e(),l("svg",p9,Q[1108]||(Q[1108]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D460",d:"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[1109]||(Q[1109]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"s")])],-1))]),Q[1112]||(Q[1112]=T("出发，")),Q[1113]||(Q[1113]=t("code",null,"未来总回报的期望值",-1)),Q[1114]||(Q[1114]=T("。"))]),t("li",null,[t("strong",null,[Q[1117]||(Q[1117]=T("是状态")),t("mjx-container",H9,[(e(),l("svg",c9,Q[1115]||(Q[1115]=[a("",1)]))),Q[1116]||(Q[1116]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")])])],-1))]),Q[1118]||(Q[1118]=T("的价值"))]),Q[1122]||(Q[1122]=T("，")),t("strong",null,[Q[1121]||(Q[1121]=T("不是即时奖励")),t("mjx-container",u9,[(e(),l("svg",L9,Q[1119]||(Q[1119]=[a("",1)]))),Q[1120]||(Q[1120]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])])],-1))])]),Q[1123]||(Q[1123]=T("。"))])])])])]),t("li",null,[Q[1136]||(Q[1136]=t("p",null,[T("但我们"),t("strong",null,"并不知上帝视角"),T("的"),t("code",null,"真实目标值")],-1)),t("ul",null,[t("li",null,[Q[1131]||(Q[1131]=t("code",null,"只能通过MC采样轨迹来估计",-1)),Q[1132]||(Q[1132]=T("，也就是")),Q[1133]||(Q[1133]=t("code",null,"Target Value",-1)),Q[1134]||(Q[1134]=T("，")),t("mjx-container",w9,[(e(),l("svg",f9,Q[1129]||(Q[1129]=[a("",1)]))),Q[1130]||(Q[1130]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])])])],-1))]),Q[1135]||(Q[1135]=T("。"))])])]),t("li",null,[t("p",null,[Q[1139]||(Q[1139]=T("使")),Q[1140]||(Q[1140]=t("code",null,"最后一个token的回报",-1)),Q[1141]||(Q[1141]=T(" 接近")),Q[1142]||(Q[1142]=t("code",null,"RM给的奖励",-1)),Q[1143]||(Q[1143]=T()),t("mjx-container",y9,[(e(),l("svg",x9,Q[1137]||(Q[1137]=[a("",1)]))),Q[1138]||(Q[1138]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"T")])])])],-1))])])])]),Q[1147]||(Q[1147]=a("",4))]),Q[1900]||(Q[1900]=t("h4",{id:"critic-学习过程",tabindex:"-1"},[T("Critic 学习过程 "),t("a",{class:"header-anchor",href:"#critic-学习过程","aria-label":'Permalink to "Critic 学习过程"'},"​")],-1)),t("div",k9,[Q[1266]||(Q[1266]=t("div",{class:"custom-block-title"},"Critic 学习过程",-1)),Q[1267]||(Q[1267]=t("p",null,[t("strong",null,"标准的监督学习")],-1)),t("ul",null,[t("li",null,[Q[1152]||(Q[1152]=T("输入：状态")),t("mjx-container",M9,[(e(),l("svg",Z9,Q[1148]||(Q[1148]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D460",d:"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[1149]||(Q[1149]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"s")])],-1))]),Q[1153]||(Q[1153]=T("、 ")),t("mjx-container",V9,[(e(),l("svg",D9,Q[1150]||(Q[1150]=[a("",1)]))),Q[1151]||(Q[1151]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")])])],-1))])]),t("li",null,[t("strong",null,[Q[1162]||(Q[1162]=T("预测：")),t("mjx-container",b9,[(e(),l("svg",j9,Q[1154]||(Q[1154]=[a("",1)]))),Q[1155]||(Q[1155]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"s"),t("mo",{stretchy:"false"},")")])],-1))]),Q[1163]||(Q[1163]=T("、")),t("mjx-container",v9,[(e(),l("svg",A9,Q[1156]||(Q[1156]=[a("",1)]))),Q[1157]||(Q[1157]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])],-1))]),Q[1164]||(Q[1164]=T("、")),t("mjx-container",R9,[(e(),l("svg",O9,Q[1158]||(Q[1158]=[a("",1)]))),Q[1159]||(Q[1159]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])],-1))]),Q[1165]||(Q[1165]=T("、")),t("mjx-container",_9,[(e(),l("svg",C9,Q[1160]||(Q[1160]=[a("",1)]))),Q[1161]||(Q[1161]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"n"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"w")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])],-1))])]),t("ul",null,[t("li",null,[Q[1172]||(Q[1172]=T("Critic网络 ")),t("strong",null,[Q[1170]||(Q[1170]=T("在时间步")),t("mjx-container",B9,[(e(),l("svg",E9,Q[1166]||(Q[1166]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[1167]||(Q[1167]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"t")])],-1))]),Q[1171]||(Q[1171]=T("对状态")),t("mjx-container",X9,[(e(),l("svg",S9,Q[1168]||(Q[1168]=[a("",1)]))),Q[1169]||(Q[1169]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")])])],-1))])]),Q[1173]||(Q[1173]=T(" 的")),Q[1174]||(Q[1174]=t("code",null,"价值预测",-1)),Q[1175]||(Q[1175]=T("。"))]),t("li",null,[t("mjx-container",F9,[(e(),l("svg",P9,Q[1176]||(Q[1176]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D719",d:"M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[1177]||(Q[1177]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"ϕ")])],-1))]),Q[1178]||(Q[1178]=T("是Critic 网络参数"))])])]),t("li",null,[t("strong",null,[Q[1185]||(Q[1185]=T("目标：")),t("mjx-container",z9,[(e(),l("svg",I9,Q[1179]||(Q[1179]=[a("",1)]))),Q[1180]||(Q[1180]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t")])])])])],-1))]),Q[1186]||(Q[1186]=T("、")),t("mjx-container",G9,[(e(),l("svg",N9,Q[1181]||(Q[1181]=[a("",1)]))),Q[1182]||(Q[1182]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])])],-1))]),Q[1187]||(Q[1187]=T("、")),t("mjx-container",J9,[(e(),l("svg",q9,Q[1183]||(Q[1183]=[a("",1)]))),Q[1184]||(Q[1184]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"R"),t("mi",null,"t")])])],-1))])]),t("ul",null,[t("li",null,[Q[1190]||(Q[1190]=T("在时间步")),t("mjx-container",K9,[(e(),l("svg",$9,Q[1188]||(Q[1188]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[1189]||(Q[1189]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"t")])],-1))]),Q[1191]||(Q[1191]=T("，")),Q[1192]||(Q[1192]=t("strong",null,"根据实际获得奖励",-1)),Q[1193]||(Q[1193]=T("、")),Q[1194]||(Q[1194]=t("strong",null,"对真实回报",-1)),Q[1195]||(Q[1195]=T("的")),Q[1196]||(Q[1196]=t("code",null,"估计值",-1)),Q[1197]||(Q[1197]=T("。"))]),Q[1198]||(Q[1198]=t("li",null,[T("这是"),t("code",null,"最核心内容"),T("，在下文详细介绍计算。")],-1))])]),Q[1199]||(Q[1199]=t("li",null,[t("strong",null,"Loss"),T("："),t("code",null,"预测值"),T("和"),t("code",null,"目标值"),T("之间的"),t("strong",null,"差距"),T("，"),t("code",null,"MSE loss"),T("。")],-1))]),Q[1268]||(Q[1268]=t("p",null,[t("strong",null,"算法流程")],-1)),t("ul",null,[Q[1241]||(Q[1241]=t("li",null,[t("p",null,[t("strong",null,"采样数据")]),t("ul",null,[t("li",null,[t("code",null,"Actor和环境交互"),T("，收集1个batch的轨迹数据")])])],-1)),t("li",null,[t("p",null,[Q[1202]||(Q[1202]=t("strong",null,"计算旧价值预测",-1)),Q[1203]||(Q[1203]=T()),t("mjx-container",Y9,[(e(),l("svg",U9,Q[1200]||(Q[1200]=[a("",1)]))),Q[1201]||(Q[1201]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))])]),t("ul",null,[t("li",null,[Q[1209]||(Q[1209]=T("使用")),Q[1210]||(Q[1210]=t("code",null,"当前Critic",-1)),Q[1211]||(Q[1211]=T(" 对")),t("strong",null,[Q[1206]||(Q[1206]=T("每一个状态")),t("mjx-container",W9,[(e(),l("svg",tt,Q[1204]||(Q[1204]=[a("",1)]))),Q[1205]||(Q[1205]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")])])],-1))])]),Q[1212]||(Q[1212]=T()),Q[1213]||(Q[1213]=t("code",null,"预测价值",-1)),Q[1214]||(Q[1214]=T("，得到")),t("mjx-container",Qt,[(e(),l("svg",Tt,Q[1207]||(Q[1207]=[a("",1)]))),Q[1208]||(Q[1208]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[1215]||(Q[1215]=T("，后面作为")),Q[1216]||(Q[1216]=t("code",null,"固定值",-1))])])]),t("li",null,[Q[1224]||(Q[1224]=t("p",null,[t("strong",null,"计算 TD Error")],-1)),Q[1225]||(Q[1225]=t("ul",null,[t("li",null,[T("对"),t("strong",null,"每个时间步t"),T("，计算"),t("code",null,"TD Error")])],-1)),t("mjx-container",at,[(e(),l("svg",lt,Q[1217]||(Q[1217]=[a("",1)]))),Q[1218]||(Q[1218]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),t("ul",null,[t("li",null,[t("mjx-container",et,[(e(),l("svg",mt,Q[1219]||(Q[1219]=[a("",1)]))),Q[1220]||(Q[1220]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])])])],-1))]),Q[1221]||(Q[1221]=T(" 是环境给的")),Q[1222]||(Q[1222]=t("code",null,"即时奖励",-1)),Q[1223]||(Q[1223]=T("，可通过Reward Model 或 Reward Func给出"))])])]),t("li",null,[Q[1232]||(Q[1232]=t("p",null,[t("strong",null,"计算 GAE 优势估计")],-1)),t("ul",null,[t("li",null,[Q[1228]||(Q[1228]=t("p",null,"GAE 公式",-1)),t("mjx-container",st,[(e(),l("svg",dt,Q[1226]||(Q[1226]=[a("",1)]))),Q[1227]||(Q[1227]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))])]),t("li",null,[Q[1231]||(Q[1231]=t("p",null,[T("从"),t("strong",null,"最后一个时间步开始"),T("，"),t("code",null,"反向遍历"),T("，"),t("code",null,"提高GAE计算效率")],-1)),t("mjx-container",ot,[(e(),l("svg",nt,Q[1229]||(Q[1229]=[a("",1)]))),Q[1230]||(Q[1230]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ"),t("mi",null,"λ")]),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")])])],-1))])])])]),t("li",null,[t("p",null,[Q[1235]||(Q[1235]=t("strong",null,"计算 Critic 目标值",-1)),Q[1236]||(Q[1236]=T("：利用")),Q[1237]||(Q[1237]=t("code",null,"GAE优势",-1)),Q[1238]||(Q[1238]=T(" +")),Q[1239]||(Q[1239]=t("code",null," 旧价值预测",-1)),Q[1240]||(Q[1240]=T()),t("mjx-container",rt,[(e(),l("svg",it,Q[1233]||(Q[1233]=[a("",1)]))),Q[1234]||(Q[1234]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))])])])]),t("mjx-container",ht,[(e(),l("svg",gt,Q[1242]||(Q[1242]=[a("",1)]))),Q[1243]||(Q[1243]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),t("ul",null,[t("li",null,[Q[1265]||(Q[1265]=t("p",null,[t("strong",null,"计算 Critic Loss"),T(" （见下文详细说明）")],-1)),t("ul",null,[t("li",null,[t("p",null,[Q[1246]||(Q[1246]=T("在")),Q[1247]||(Q[1247]=t("strong",null,"PPO多个优化子周期(epoch)里",-1)),Q[1248]||(Q[1248]=T("，对batch中")),Q[1249]||(Q[1249]=t("strong",null,"每个数据点",-1)),Q[1250]||(Q[1250]=T()),t("mjx-container",pt,[(e(),l("svg",Ht,Q[1244]||(Q[1244]=[a("",1)]))),Q[1245]||(Q[1245]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")])]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])],-1))])]),t("ul",null,[t("li",null,[t("p",null,[Q[1255]||(Q[1255]=T("把")),t("mjx-container",ct,[(e(),l("svg",ut,Q[1251]||(Q[1251]=[a("",1)]))),Q[1252]||(Q[1252]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")])])])],-1))]),Q[1256]||(Q[1256]=T("输入到")),Q[1257]||(Q[1257]=t("code",null,"正在更新的Critic网络",-1)),Q[1258]||(Q[1258]=T("，得到")),Q[1259]||(Q[1259]=t("code",null,"新预测值",-1)),Q[1260]||(Q[1260]=T()),t("mjx-container",Lt,[(e(),l("svg",wt,Q[1253]||(Q[1253]=[a("",1)]))),Q[1254]||(Q[1254]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))])])]),t("li",null,[Q[1263]||(Q[1263]=t("p",null,[T("利用"),t("code",null,"Critic 目标值"),T(" 和 "),t("code",null,"Critic 最新预测值"),T("，计算 "),t("code",null,"MSE Loss")],-1)),t("mjx-container",ft,[(e(),l("svg",yt,Q[1261]||(Q[1261]=[a("",1)]))),Q[1262]||(Q[1262]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"c")])])])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])]),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mn",null,"2")])])],-1))])]),Q[1264]||(Q[1264]=t("li",null,[t("p",null,[t("strong",null,"根据Critic Loss调整Critic网络"),T("，"),t("code",null,"争取下次预测的更准"),T("。")])],-1))])])])])])]),Q[1901]||(Q[1901]=t("h4",{id:"critic-loss",tabindex:"-1"},[T("Critic Loss "),t("a",{class:"header-anchor",href:"#critic-loss","aria-label":'Permalink to "Critic Loss"'},"​")],-1)),t("div",xt,[Q[1342]||(Q[1342]=t("div",{class:"custom-block-title"},"Critic Loss",-1)),Q[1343]||(Q[1343]=t("p",null,[t("strong",null,"Loss函数")],-1)),Q[1344]||(Q[1344]=t("ul",null,[t("li",null,"实际训练中，从收集到的数据，取batch，计算batch上所有时间步的平均loss")],-1)),t("mjx-container",kt,[(e(),l("svg",Mt,Q[1269]||(Q[1269]=[a("",1)]))),Q[1270]||(Q[1270]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"c")])])])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blu"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mn",null,"2")])])],-1))]),t("mjx-container",Zt,[(e(),l("svg",Vt,Q[1271]||(Q[1271]=[a("",1)]))),Q[1272]||(Q[1272]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"c")])])])]),t("mo",null,"="),t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"1")]),t("mi",null,"N")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blu"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mn",null,"2")])])],-1))]),Q[1345]||(Q[1345]=t("ul",null,[t("li",null,[t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#critic-loss-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3",target:"_blank",rel:"noreferrer"},"Loss 类比于 TD Error")])],-1)),t("mjx-container",Dt,[(e(),l("svg",bt,Q[1273]||(Q[1273]=[a("",1)]))),Q[1274]||(Q[1274]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"目"),t("mi",{mathvariant:"normal"},"标"),t("mi",{mathvariant:"normal"},"值")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"预"),t("mi",{mathvariant:"normal"},"测"),t("mi",{mathvariant:"normal"},"值")])])])])],-1))]),t("mjx-container",jt,[(e(),l("svg",vt,Q[1275]||(Q[1275]=[a("",1)]))),Q[1276]||(Q[1276]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"c")])])])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"目"),t("mi",{mathvariant:"normal"},"标"),t("mi",{mathvariant:"normal"},"值")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"n"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"w")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"预"),t("mi",{mathvariant:"normal"},"测"),t("mi",{mathvariant:"normal"},"值")])])]),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mn",null,"2")])])],-1))]),t("mjx-container",At,[(e(),l("svg",Rt,Q[1277]||(Q[1277]=[a("",1)]))),Q[1278]||(Q[1278]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"c")])])])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("msub",null,[t("mi",null,"R"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"目"),t("mi",{mathvariant:"normal"},"标"),t("mi",{mathvariant:"normal"},"值")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"预"),t("mi",{mathvariant:"normal"},"测"),t("mi",{mathvariant:"normal"},"值")])])]),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mn",null,"2")])])],-1))]),t("p",null,[Q[1283]||(Q[1283]=t("strong",null,"Critic目标值/真实回报目标值计算",-1)),Q[1284]||(Q[1284]=T()),t("mjx-container",Ot,[(e(),l("svg",_t,Q[1279]||(Q[1279]=[a("",1)]))),Q[1280]||(Q[1280]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])])])],-1))]),Q[1285]||(Q[1285]=T("、")),t("mjx-container",Ct,[(e(),l("svg",Bt,Q[1281]||(Q[1281]=[a("",1)]))),Q[1282]||(Q[1282]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"R"),t("mi",null,"t")])])])],-1))])]),t("ul",null,[t("li",null,[t("p",null,[Q[1288]||(Q[1288]=T("最核心部分， ")),t("mjx-container",Et,[(e(),l("svg",Xt,Q[1286]||(Q[1286]=[a("",1)]))),Q[1287]||(Q[1287]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])])])],-1))]),Q[1289]||(Q[1289]=T(" 计算方法直接")),Q[1290]||(Q[1290]=t("code",null,"影响Critic的学习效率和稳定性",-1))])]),t("li",null,[Q[1303]||(Q[1303]=t("p",null,"优势函数计算",-1)),t("ul",null,[t("li",null,[Q[1293]||(Q[1293]=t("p",null,[T("朴素优势函数："),t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/07-actor-critic.html#%E4%BC%98%E5%8A%BF%E5%8F%8A%E4%BC%98%E5%8A%BF%E8%B6%8B%E4%BA%8E0%E7%9A%84%E7%90%86%E8%A7%A3",target:"_blank",rel:"noreferrer"},"优势函数趋于0的理解")],-1)),Q[1294]||(Q[1294]=t("ul",null,[t("li",null,[T("要估计Q和V2个网络，"),t("code",null,"复杂"),T("。")])],-1)),t("mjx-container",St,[(e(),l("svg",Ft,Q[1291]||(Q[1291]=[a("",1)]))),Q[1292]||(Q[1292]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"Q"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))])]),t("li",null,[Q[1297]||(Q[1297]=t("p",null,[t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/07-actor-critic.html#%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3-1",target:"_blank",rel:"noreferrer"},"TD Error 近似优势估计")],-1)),Q[1298]||(Q[1298]=t("ul",null,[t("li",null,[T("仅V一个网络，但偏差大，"),t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#tderror-%E4%BC%98%E5%8A%BF%E5%81%8F%E5%B7%AE%E6%96%B9%E5%B7%AE%E9%97%AE%E9%A2%98",target:"_blank",rel:"noreferrer"},"TD Error 估计优势 方差偏差问题"),T("`")])],-1)),t("mjx-container",Pt,[(e(),l("svg",zt,Q[1295]||(Q[1295]=[a("",1)]))),Q[1296]||(Q[1296]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"="),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mi",null,"D"),t("mi",{mathvariant:"normal"},"误"),t("mi",{mathvariant:"normal"},"差")])])])],-1))])]),t("li",null,[Q[1302]||(Q[1302]=t("p",null,[t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#%E5%B9%BF%E4%B9%89%E4%BC%98%E5%8A%BF%E4%BC%B0%E8%AE%A1",target:"_blank",rel:"noreferrer"},"GAE平衡 TD偏差和MC方差")],-1)),t("ul",null,[t("li",null,[Q[1301]||(Q[1301]=T("综合多个n步优势估计")),t("mjx-container",It,[(e(),l("svg",Gt,Q[1299]||(Q[1299]=[a("",1)]))),Q[1300]||(Q[1300]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))])])])])])]),t("li",null,[t("p",null,[t("mjx-container",Nt,[(e(),l("svg",Jt,Q[1304]||(Q[1304]=[a("",1)]))),Q[1305]||(Q[1305]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])])])],-1))]),Q[1306]||(Q[1306]=T()),Q[1307]||(Q[1307]=t("strong",null,"计算",-1)),Q[1308]||(Q[1308]=T(" ‼️"))]),t("ul",null,[t("li",null,[Q[1311]||(Q[1311]=t("p",null,[t("code",null,"目标回报Q值"),T(" = 优势值 + V值")],-1)),t("mjx-container",qt,[(e(),l("svg",Kt,Q[1309]||(Q[1309]=[a("",1)]))),Q[1310]||(Q[1310]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"Q"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mo",{stretchy:"false"},"→"),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"Q"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"π")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))])]),t("li",null,[t("p",null,[Q[1316]||(Q[1316]=t("strong",null,"Critic 学习目标",-1)),Q[1317]||(Q[1317]=T("是")),Q[1318]||(Q[1318]=t("code",null,"真实回报",-1)),Q[1319]||(Q[1319]=T("，可以看作")),t("strong",null,[Q[1314]||(Q[1314]=T("是")),t("mjx-container",$t,[(e(),l("svg",Yt,Q[1312]||(Q[1312]=[a("",1)]))),Q[1313]||(Q[1313]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"Q"),t("mi",null,"t")])])],-1))]),Q[1315]||(Q[1315]=T("的一个估计"))]),Q[1320]||(Q[1320]=T("，得到"))]),t("mjx-container",Ut,[(e(),l("svg",Wt,Q[1321]||(Q[1321]=[a("",1)]))),Q[1322]||(Q[1322]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))])]),t("li",null,[Q[1337]||(Q[1337]=t("p",null,"请注意",-1)),t("ul",null,[t("li",null,[t("p",null,[t("mjx-container",tQ,[(e(),l("svg",QQ,Q[1323]||(Q[1323]=[a("",1)]))),Q[1324]||(Q[1324]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[1325]||(Q[1325]=T("：用当时")),Q[1326]||(Q[1326]=t("strong",null,"旧的Critic网络预测并记录",-1)),Q[1327]||(Q[1327]=T("下来")),Q[1328]||(Q[1328]=t("code",null,"旧的、固定的值",-1)),Q[1329]||(Q[1329]=T("，在GAE之前"))]),Q[1330]||(Q[1330]=t("ul",null,[t("li",null,"当做常数，不参与梯度计算。")],-1))]),t("li",null,[t("p",null,[t("mjx-container",TQ,[(e(),l("svg",aQ,Q[1331]||(Q[1331]=[a("",1)]))),Q[1332]||(Q[1332]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[1335]||(Q[1335]=T("：")),t("mjx-container",lQ,[(e(),l("svg",eQ,Q[1333]||(Q[1333]=[a("",1)]))),Q[1334]||(Q[1334]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])],-1))]),Q[1336]||(Q[1336]=T("值计算出来的。"))])])])]),t("li",null,[t("p",null,[t("mjx-container",mQ,[(e(),l("svg",sQ,Q[1338]||(Q[1338]=[a("",1)]))),Q[1339]||(Q[1339]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])])])],-1))]),Q[1340]||(Q[1340]=T("理解"))]),Q[1341]||(Q[1341]=t("ul",null,[t("li",null,[t("code",null,"基于旧价值函数的估计"),T(" + "),t("code",null,"这个估计的修正量(优势值)"),T(" = 得到 "),t("code",null,"更精确的回报估计"),T("。")])],-1))])])])])]),Q[1902]||(Q[1902]=t("h4",{id:"critic-loss-深入理解",tabindex:"-1"},[T("Critic Loss 深入理解 "),t("a",{class:"header-anchor",href:"#critic-loss-深入理解","aria-label":'Permalink to "Critic Loss 深入理解"'},"​")],-1)),t("div",dQ,[Q[1369]||(Q[1369]=t("div",{class:"custom-block-title"},"Critic Loss TD Error 类比",-1)),Q[1370]||(Q[1370]=t("p",null,[t("strong",null,"TD Error")],-1)),t("mjx-container",oQ,[(e(),l("svg",nQ,Q[1346]||(Q[1346]=[a("",1)]))),Q[1347]||(Q[1347]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"目"),t("mi",{mathvariant:"normal"},"标"),t("mi",{mathvariant:"normal"},"值")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"预"),t("mi",{mathvariant:"normal"},"测"),t("mi",{mathvariant:"normal"},"值")])])])])],-1))]),Q[1371]||(Q[1371]=t("p",null,[t("strong",null,"Critic Loss")],-1)),t("mjx-container",rQ,[(e(),l("svg",iQ,Q[1348]||(Q[1348]=[a("",1)]))),Q[1349]||(Q[1349]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"c")])])])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"目"),t("mi",{mathvariant:"normal"},"标"),t("mi",{mathvariant:"normal"},"值")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"n"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"w")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"预"),t("mi",{mathvariant:"normal"},"测"),t("mi",{mathvariant:"normal"},"值")])])]),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mn",null,"2")])])],-1))]),Q[1372]||(Q[1372]=t("p",null,[t("strong",null,"TD Error 类比")],-1)),t("mjx-container",hQ,[(e(),l("svg",gQ,Q[1350]||(Q[1350]=[a("",1)]))),Q[1351]||(Q[1351]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"c")])])])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("msub",null,[t("mi",null,"R"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"目"),t("mi",{mathvariant:"normal"},"标"),t("mi",{mathvariant:"normal"},"值")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"预"),t("mi",{mathvariant:"normal"},"测"),t("mi",{mathvariant:"normal"},"值")])])]),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mn",null,"2")])])],-1))]),t("ul",null,[t("li",null,[t("p",null,[t("mjx-container",pQ,[(e(),l("svg",HQ,Q[1352]||(Q[1352]=[a("",1)]))),Q[1353]||(Q[1353]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])])])],-1))]),Q[1356]||(Q[1356]=T("、")),t("mjx-container",cQ,[(e(),l("svg",uQ,Q[1354]||(Q[1354]=[a("",1)]))),Q[1355]||(Q[1355]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"R"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])])])])],-1))]),Q[1357]||(Q[1357]=T(" ：类比 ")),Q[1358]||(Q[1358]=t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#%E4%B8%80%E6%AD%A5%E6%97%B6%E5%BA%8F%E5%B7%AE%E5%88%86",target:"_blank",rel:"noreferrer"},"TD 目标值",-1))])]),t("li",null,[t("p",null,[t("mjx-container",LQ,[(e(),l("svg",wQ,Q[1359]||(Q[1359]=[a("",1)]))),Q[1360]||(Q[1360]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"n"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"w")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[1363]||(Q[1363]=T("、")),t("mjx-container",fQ,[(e(),l("svg",yQ,Q[1361]||(Q[1361]=[a("",1)]))),Q[1362]||(Q[1362]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[1364]||(Q[1364]=T("：类比TD Error中的")),Q[1365]||(Q[1365]=t("strong",null,"需要优化的价值函数",-1)),Q[1366]||(Q[1366]=T("，")),Q[1367]||(Q[1367]=t("code",null,"当前网络的预测值",-1))])]),Q[1368]||(Q[1368]=t("li",null,[t("p",null,[t("strong",null,"Loss 类比"),T(),t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#td%E7%9B%AE%E6%A0%87%E5%92%8Ctderror",target:"_blank",rel:"noreferrer"},"TD Error")])],-1))])]),t("div",xQ,[Q[1385]||(Q[1385]=t("div",{class:"custom-block-title"},"Critic Loss 再深入理解",-1)),Q[1386]||(Q[1386]=t("p",null,[t("strong",null,"GAE 优势 推导")],-1)),Q[1387]||(Q[1387]=t("ul",null,[t("li",null,"反向递推公式")],-1)),t("mjx-container",kQ,[(e(),l("svg",MQ,Q[1373]||(Q[1373]=[a("",1)]))),Q[1374]||(Q[1374]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mi",null,"t")])]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ"),t("mi",null,"λ")]),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ"),t("mi",null,"λ")]),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")])])])])])],-1))]),Q[1388]||(Q[1388]=t("ul",null,[t("li",null,"推导结果")],-1)),t("mjx-container",ZQ,[(e(),l("svg",VQ,Q[1375]||(Q[1375]=[a("",1)]))),Q[1376]||(Q[1376]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ"),t("mi",null,"λ")]),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[1389]||(Q[1389]=t("p",null,[t("strong",null,"目标回报值 推导")],-1)),Q[1390]||(Q[1390]=t("ul",null,[t("li",null,"R = A + V")],-1)),t("mjx-container",DQ,[(e(),l("svg",bQ,Q[1377]||(Q[1377]=[a("",1)]))),Q[1378]||(Q[1378]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"R"),t("mi",null,"t")])]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ"),t("mi",null,"λ")]),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ"),t("mi",null,"λ")]),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")])])])])])],-1))]),Q[1391]||(Q[1391]=t("ul",null,[t("li",null,[T("推导结果 "),t("ul",null,[t("li",null,[T("其实在"),t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#%E4%B8%80%E6%AD%A5%E6%97%B6%E5%BA%8F%E5%B7%AE%E5%88%86",target:"_blank",rel:"noreferrer"},"朴素单步TD目标值"),T("基础上加了一个"),t("code",null,"GAE估计"),T("。")])])])],-1)),t("mjx-container",jQ,[(e(),l("svg",vQ,Q[1379]||(Q[1379]=[a("",1)]))),Q[1380]||(Q[1380]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"R"),t("mi",null,"t")])]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ"),t("mi",null,"λ")]),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[1392]||(Q[1392]=t("p",null,[t("strong",null,"代入计算Loss")],-1)),t("mjx-container",AQ,[(e(),l("svg",RQ,Q[1381]||(Q[1381]=[a("",1)]))),Q[1382]||(Q[1382]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"c")])])])])]),t("mtd",null,[t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"R"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"n"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"w")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mn",null,"2")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ"),t("mi",null,"λ")]),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"T"),t("mi",null,"D"),t("mi",{mathvariant:"normal"},"目"),t("mi",{mathvariant:"normal"},"标"),t("mi",null,"，"),t("mi",{mathvariant:"normal"},"增"),t("mi",{mathvariant:"normal"},"加"),t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"n"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"w")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"最"),t("mi",{mathvariant:"normal"},"新"),t("mi",{mathvariant:"normal"},"网"),t("mi",{mathvariant:"normal"},"络"),t("mi",{mathvariant:"normal"},"预"),t("mi",{mathvariant:"normal"},"测"),t("mi",{mathvariant:"normal"},"值")])])]),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mn",null,"2")])])])])])],-1))]),t("mjx-container",OQ,[(e(),l("svg",_Q,Q[1383]||(Q[1383]=[a("",1)]))),Q[1384]||(Q[1384]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"c")])])])])]),t("mtd",null,[t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ"),t("mi",null,"λ")]),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"T"),t("mi",null,"D"),t("mi",{mathvariant:"normal"},"目"),t("mi",{mathvariant:"normal"},"标"),t("mi",null,"，"),t("mi",{mathvariant:"normal"},"增"),t("mi",{mathvariant:"normal"},"加"),t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"n"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"w")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"最"),t("mi",{mathvariant:"normal"},"新"),t("mi",{mathvariant:"normal"},"网"),t("mi",{mathvariant:"normal"},"络"),t("mi",{mathvariant:"normal"},"预"),t("mi",{mathvariant:"normal"},"测"),t("mi",{mathvariant:"normal"},"值")])])]),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mn",null,"2")])])])])])],-1))]),Q[1393]||(Q[1393]=t("ul",null,[t("li",null,[T("和 "),t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/07-actor-critic.html#%E4%BC%98%E5%8A%BF%E5%8F%8A%E4%BC%98%E5%8A%BF%E8%B6%8B%E4%BA%8E0%E7%9A%84%E7%90%86%E8%A7%A3",target:"_blank",rel:"noreferrer"},"A2C 中优势趋于0"),T("的理解是"),t("code",null,"完全一致"),T("的。")])],-1))]),Q[1903]||(Q[1903]=t("h4",{id:"critic-value-clip",tabindex:"-1"},[T("Critic Value Clip "),t("a",{class:"header-anchor",href:"#critic-value-clip","aria-label":'Permalink to "Critic Value Clip"'},"​")],-1)),t("div",CQ,[Q[1443]||(Q[1443]=a("",4)),t("ul",null,[t("li",null,[t("mjx-container",BQ,[(e(),l("svg",EQ,Q[1394]||(Q[1394]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D716",d:"M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[1395]||(Q[1395]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"ϵ")])],-1))]),Q[1398]||(Q[1398]=T("是超参 例如(0.2)，和Actor Loss 裁剪范围通常相同。")),t("mjx-container",XQ,[(e(),l("svg",SQ,Q[1396]||(Q[1396]=[a("",1)]))),Q[1397]||(Q[1397]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"clipped")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"clip")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"old")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("mo",null,"−"),t("mi",null,"ϵ")]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"old")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("mo",null,"+"),t("mi",null,"ϵ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))])])]),Q[1444]||(Q[1444]=t("p",null,[t("strong",null,"计算未裁剪和裁剪后的2个loss")],-1)),t("ul",null,[t("li",null,[Q[1401]||(Q[1401]=t("p",null,"未裁剪",-1)),t("mjx-container",FQ,[(e(),l("svg",PQ,Q[1399]||(Q[1399]=[a("",1)]))),Q[1400]||(Q[1400]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"u"),t("mi",{mathvariant:"normal"},"n"),t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"l"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"p"),t("mi",{mathvariant:"normal"},"p"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"d")])])])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mi",null,"e"),t("mi",null,"w")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])]),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mn",null,"2")])])],-1))])]),Q[1402]||(Q[1402]=t("li",null,[t("p",null,"裁剪后")],-1))]),t("mjx-container",zQ,[(e(),l("svg",IQ,Q[1403]||(Q[1403]=[a("",1)]))),Q[1404]||(Q[1404]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"l"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"p"),t("mi",{mathvariant:"normal"},"p"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"d")])])])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"clipped")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])]),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mn",null,"2")])])],-1))]),Q[1445]||(Q[1445]=t("p",null,[t("strong",null,"最终Critic Loss 取较大者")],-1)),t("mjx-container",GQ,[(e(),l("svg",NQ,Q[1405]||(Q[1405]=[a("",1)]))),Q[1406]||(Q[1406]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"c")])])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max")]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"u"),t("mi",{mathvariant:"normal"},"n"),t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"l"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"p"),t("mi",{mathvariant:"normal"},"p"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"d")])])])]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"l"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"p"),t("mi",{mathvariant:"normal"},"p"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"d")])])])]),t("mo",{stretchy:"false"},")")])],-1))]),Q[1446]||(Q[1446]=t("p",null,[t("strong",null,"具体稳定训练过程思考")],-1)),t("ul",null,[t("li",null,[Q[1431]||(Q[1431]=t("p",null,[T("建立"),t("strong",null,"信任区域")],-1)),t("ul",null,[t("li",null,[t("p",null,[Q[1409]||(Q[1409]=T("围绕旧值")),t("mjx-container",JQ,[(e(),l("svg",qQ,Q[1407]||(Q[1407]=[a("",1)]))),Q[1408]||(Q[1408]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"old")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[1410]||(Q[1410]=T("建立")),Q[1411]||(Q[1411]=t("strong",null,"信任区域",-1)),Q[1412]||(Q[1412]=T("，相信")),Q[1413]||(Q[1413]=t("code",null,"旧价值预测大体上是正确的",-1)),Q[1414]||(Q[1414]=T("。"))]),t("mjx-container",KQ,[(e(),l("svg",$Q,Q[1415]||(Q[1415]=[a("",1)]))),Q[1416]||(Q[1416]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"old")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("mo",null,"−"),t("mi",null,"ϵ")]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"old")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("mo",null,"+"),t("mi",null,"ϵ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))])]),t("li",null,[t("p",null,[Q[1421]||(Q[1421]=T("确保")),Q[1422]||(Q[1422]=t("code",null,"新价值预测",-1)),t("mjx-container",YQ,[(e(),l("svg",UQ,Q[1417]||(Q[1417]=[a("",1)]))),Q[1418]||(Q[1418]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mi",null,"e"),t("mi",null,"w")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[1423]||(Q[1423]=T("不会离")),Q[1424]||(Q[1424]=t("code",null,"旧价值预测",-1)),t("mjx-container",WQ,[(e(),l("svg",tT,Q[1419]||(Q[1419]=[a("",1)]))),Q[1420]||(Q[1420]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"old")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[1425]||(Q[1425]=T()),Q[1426]||(Q[1426]=t("code",null,"太远",-1)),Q[1427]||(Q[1427]=T("。"))])]),t("li",null,[Q[1430]||(Q[1430]=t("p",null,[t("strong",null,"预测价值"),T("本该"),t("strong",null,"朝向目标回报靠近"),T("，但"),t("strong",null,"若预测价值超出信任区域"),T("，则应该Clip。")],-1)),t("mjx-container",QT,[(e(),l("svg",TT,Q[1428]||(Q[1428]=[a("",1)]))),Q[1429]||(Q[1429]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mi",null,"e"),t("mi",null,"w")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",{stretchy:"false"},"→"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"R"),t("mi",null,"t")])])])],-1))])])])]),t("li",null,[Q[1441]||(Q[1441]=t("p",null,[T("防止"),t("strong",null,"因目标值不准而过度更新")],-1)),t("ul",null,[t("li",null,[t("mjx-container",aT,[(e(),l("svg",lT,Q[1432]||(Q[1432]=[a("",1)]))),Q[1433]||(Q[1433]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"g"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"t"),t("mo",null,","),t("mi",{mathvariant:"normal"},"t")])])])])])],-1))]),Q[1434]||(Q[1434]=T(" 是由")),Q[1435]||(Q[1435]=t("code",null,"GAE",-1)),Q[1436]||(Q[1436]=T("计算出来的，是")),Q[1437]||(Q[1437]=t("code",null,"估计值",-1)),Q[1438]||(Q[1438]=T("，存在")),Q[1439]||(Q[1439]=t("code",null,"方差",-1)),Q[1440]||(Q[1440]=T("。"))])])]),Q[1442]||(Q[1442]=t("li",null,[t("p",null,[T("保持 "),t("strong",null,"Actor和Critic 更新步调一致")]),t("ul",null,[t("li",null,"PPO核心是限制策略更新幅度，为Actor提供指导信号的Critic也应该限制更新幅度。"),t("li",null,"防止Critic剧烈变化导致下一轮优势估计出现波动，导致Actor训练不稳定。")])],-1))])]),Q[1904]||(Q[1904]=t("h3",{id:"重要性采样-1",tabindex:"-1"},[T("重要性采样 "),t("a",{class:"header-anchor",href:"#重要性采样-1","aria-label":'Permalink to "重要性采样"'},"​")],-1)),t("div",eT,[Q[1472]||(Q[1472]=t("div",{class:"custom-block-title"},"PPO 重要性采样",-1)),Q[1473]||(Q[1473]=t("p",null,[t("strong",null,"策略梯度")],-1)),t("ul",null,[t("li",null,[Q[1451]||(Q[1451]=T("交互策略")),t("mjx-container",mT,[(e(),l("svg",sT,Q[1447]||(Q[1447]=[a("",1)]))),Q[1448]||(Q[1448]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])],-1))]),Q[1452]||(Q[1452]=T("：与环境交互，采集大量数据来训练")),t("mjx-container",dT,[(e(),l("svg",oT,Q[1449]||(Q[1449]=[a("",1)]))),Q[1450]||(Q[1450]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))])]),t("li",null,[Q[1455]||(Q[1455]=T("学习策略")),t("mjx-container",nT,[(e(),l("svg",rT,Q[1453]||(Q[1453]=[a("",1)]))),Q[1454]||(Q[1454]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[1456]||(Q[1456]=T("：要训练学习的网络"))]),t("li",null,[t("mjx-container",iT,[(e(),l("svg",hT,Q[1457]||(Q[1457]=[a("",1)]))),Q[1458]||(Q[1458]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[1461]||(Q[1461]=T("更新多次后，再去更新")),t("mjx-container",gT,[(e(),l("svg",pT,Q[1459]||(Q[1459]=[a("",1)]))),Q[1460]||(Q[1460]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])],-1))])])]),t("mjx-container",HT,[(e(),l("svg",cT,Q[1462]||(Q[1462]=[a("",1)]))),Q[1463]||(Q[1463]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"τ"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")])]),t("mi",null,"R"),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")"),t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q[1474]||(Q[1474]=t("p",null,[t("strong",null,"优势策略梯度")],-1)),Q[1475]||(Q[1475]=t("ul",null,[t("li",null,"优势作权重")],-1)),t("mjx-container",uT,[(e(),l("svg",LT,Q[1464]||(Q[1464]=[a("",1)]))),Q[1465]||(Q[1465]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mi",null,"θ")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"梯"),t("mi",{mathvariant:"normal"},"度")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),Q[1476]||(Q[1476]=t("ul",null,[t("li",null,"引入重要性采样")],-1)),t("mjx-container",wT,[(e(),l("svg",fT,Q[1466]||(Q[1466]=[a("",1)]))),Q[1467]||(Q[1467]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"重"),t("mi",{mathvariant:"normal"},"要"),t("mi",{mathvariant:"normal"},"性"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"梯"),t("mi",{mathvariant:"normal"},"度")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q[1477]||(Q[1477]=t("ul",null,[t("li",null,[t("strong",null,"优势"),T("应是"),t("code",null,"演员和环境交互"),T(" 计算出来的")])],-1)),t("mjx-container",yT,[(e(),l("svg",xT,Q[1468]||(Q[1468]=[a("",1)]))),Q[1469]||(Q[1469]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"重"),t("mi",{mathvariant:"normal"},"要"),t("mi",{mathvariant:"normal"},"性"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"梯"),t("mi",{mathvariant:"normal"},"度")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q[1478]||(Q[1478]=t("p",null,[t("strong",null,"目标函数")],-1)),t("mjx-container",kT,[(e(),l("svg",MT,Q[1470]||(Q[1470]=[a("",1)]))),Q[1471]||(Q[1471]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"重"),t("mi",{mathvariant:"normal"},"要"),t("mi",{mathvariant:"normal"},"性"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q[1479]||(Q[1479]=t("p",null,[t("strong",null,"优点")],-1)),Q[1480]||(Q[1480]=t("ul",null,[t("li",null,"可通过重要性采样把同策略换成异策略")],-1))]),Q[1905]||(Q[1905]=t("h3",{id:"gae",tabindex:"-1"},[T("GAE "),t("a",{class:"header-anchor",href:"#gae","aria-label":'Permalink to "GAE"'},"​")],-1)),Q[1906]||(Q[1906]=t("p",null,[t("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/07-actor-critic.html#%E5%B9%BF%E4%B9%89%E4%BC%98%E5%8A%BF%E4%BC%B0%E8%AE%A1",target:"_blank",rel:"noreferrer"},"GAE 笔记")],-1)),t("div",ZT,[Q[1487]||(Q[1487]=t("div",{class:"custom-block-title"},"GAE",-1)),Q[1488]||(Q[1488]=t("ul",null,[t("li",null,"对不同步数的TD优势估计进行指数加权平均，平衡方差和偏差")],-1)),t("mjx-container",VT,[(e(),l("svg",DT,Q[1481]||(Q[1481]=[a("",1)]))),Q[1482]||(Q[1482]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")")])])],-1))]),t("mjx-container",bT,[(e(),l("svg",jT,Q[1483]||(Q[1483]=[a("",1)]))),Q[1484]||(Q[1484]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))]),t("mjx-container",vT,[(e(),l("svg",AT,Q[1485]||(Q[1485]=[a("",1)]))),Q[1486]||(Q[1486]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])])],-1))])]),Q[1907]||(Q[1907]=t("h3",{id:"算法流程",tabindex:"-1"},[T("算法流程 "),t("a",{class:"header-anchor",href:"#算法流程","aria-label":'Permalink to "算法流程"'},"​")],-1)),t("div",RT,[Q[1517]||(Q[1517]=t("div",{class:"custom-block-title"},"算法流程",-1)),Q[1518]||(Q[1518]=t("p",null,[t("strong",null,"PPO算法流程")],-1)),t("ul",null,[t("li",null,[Q[1491]||(Q[1491]=T("初始策略参数")),t("mjx-container",OT,[(e(),l("svg",_T,Q[1489]||(Q[1489]=[a("",1)]))),Q[1490]||(Q[1490]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"θ"),t("mn",null,"0")])])],-1))])]),t("li",null,[Q[1514]||(Q[1514]=T("每次迭代 ")),t("ul",null,[t("li",null,[Q[1500]||(Q[1500]=T("用")),t("strong",null,[Q[1494]||(Q[1494]=T("旧策略")),t("mjx-container",CT,[(e(),l("svg",BT,Q[1492]||(Q[1492]=[a("",1)]))),Q[1493]||(Q[1493]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"θ"),t("mi",null,"k")])])],-1))]),Q[1495]||(Q[1495]=T(" 和环境交互"))]),Q[1501]||(Q[1501]=T("，")),t("strong",null,[Q[1498]||(Q[1498]=T("采样大量")),t("mjx-container",ET,[(e(),l("svg",XT,Q[1496]||(Q[1496]=[a("",1)]))),Q[1497]||(Q[1497]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{stretchy:"false"},"("),t("mi",null,"s"),t("mo",null,","),t("mi",null,"a"),t("mo",{stretchy:"false"},")")])],-1))]),Q[1499]||(Q[1499]=T("对"))])]),t("li",null,[t("strong",null,[Q[1504]||(Q[1504]=T("根据")),t("mjx-container",ST,[(e(),l("svg",FT,Q[1502]||(Q[1502]=[a("",1)]))),Q[1503]||(Q[1503]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"θ"),t("mi",null,"k")])])],-1))]),Q[1505]||(Q[1505]=T("交互结果"))]),Q[1508]||(Q[1508]=T("，估计")),t("mjx-container",PT,[(e(),l("svg",zT,Q[1506]||(Q[1506]=[a("",1)]))),Q[1507]||(Q[1507]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",null,"k")])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))])]),Q[1513]||(Q[1513]=t("li",null,"采样到这组数据后，最大化目标函数",-1)),t("li",null,[Q[1511]||(Q[1511]=T("可以让")),t("mjx-container",IT,[(e(),l("svg",GT,Q[1509]||(Q[1509]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[1510]||(Q[1510]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"θ")])],-1))]),Q[1512]||(Q[1512]=T("更新很多次"))])])])]),t("mjx-container",NT,[(e(),l("svg",JT,Q[1515]||(Q[1515]=[a("",1)]))),Q[1516]||(Q[1516]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"P"),t("mi",null,"P"),t("mi",null,"O")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"θ"),t("mi",null,"k")])])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"θ"),t("mi",null,"k")])])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("mi",null,"θ")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"θ"),t("mi",null,"k")])]),t("mo",{stretchy:"false"},")")])],-1))])]),Q[1908]||(Q[1908]=a("",6)),t("div",qT,[Q[1521]||(Q[1521]=t("div",{class:"custom-block-title"},"PPO不足",-1)),Q[1522]||(Q[1522]=t("p",null,[t("strong",null,"GAE带来的计算开销大、训练不稳定")],-1)),Q[1523]||(Q[1523]=t("ul",null,[t("li",null,"GAE 主要依赖于单步时序误差")],-1)),t("mjx-container",KT,[(e(),l("svg",$T,Q[1519]||(Q[1519]=[a("",1)]))),Q[1520]||(Q[1520]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"δ"),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[1524]||(Q[1524]=a("",1))]),Q[1909]||(Q[1909]=a("",3)),t("div",YT,[Q[1556]||(Q[1556]=t("div",{class:"custom-block-title"},"标准RLHF目标",-1)),Q[1557]||(Q[1557]=t("p",null,[t("strong",null,"标准RLHF目标-tradeoff")],-1)),t("ul",null,[t("li",null,[Q[1529]||(Q[1529]=t("strong",null,"最大化奖励",-1)),Q[1530]||(Q[1530]=T("：")),t("mjx-container",UT,[(e(),l("svg",WT,Q[1525]||(Q[1525]=[a("",1)]))),Q[1526]||(Q[1526]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])],-1))]),Q[1531]||(Q[1531]=T(" 生成的回答")),t("mjx-container",ta,[(e(),l("svg",Qa,Q[1527]||(Q[1527]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D466",d:"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[1528]||(Q[1528]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"y")])],-1))]),Q[1532]||(Q[1532]=T("，")),Q[1533]||(Q[1533]=t("code",null,"从奖励模型尽可能获得高分",-1))]),t("li",null,[Q[1540]||(Q[1540]=t("strong",null,"不要偏离太远",-1)),Q[1541]||(Q[1541]=T("：约束策略")),t("mjx-container",Ta,[(e(),l("svg",aa,Q[1534]||(Q[1534]=[a("",1)]))),Q[1535]||(Q[1535]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])],-1))]),Q[1542]||(Q[1542]=T("和参考策略")),t("mjx-container",la,[(e(),l("svg",ea,Q[1536]||(Q[1536]=[a("",1)]))),Q[1537]||(Q[1537]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])])])])],-1))]),Q[1543]||(Q[1543]=T()),Q[1544]||(Q[1544]=t("code",null,"保持一定相似性",-1)),Q[1545]||(Q[1545]=T("。")),t("mjx-container",ma,[(e(),l("svg",sa,Q[1538]||(Q[1538]=[a("",1)]))),Q[1539]||(Q[1539]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"s"),t("mi",null,"f"),t("mi",null,"t")])])])],-1))])])]),t("mjx-container",da,[(e(),l("svg",oa,Q[1546]||(Q[1546]=[a("",1)]))),Q[1547]||(Q[1547]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"D"),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mi",null,"y"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q[1558]||(Q[1558]=t("ul",null,[t("li",null,"奖励函数")],-1)),t("mjx-container",na,[(e(),l("svg",ra,Q[1548]||(Q[1548]=[a("",1)]))),Q[1549]||(Q[1549]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"r"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])],-1))]),Q[1559]||(Q[1559]=t("p",null,[t("strong",null,"标准RLHF训练流程")],-1)),t("ul",null,[t("li",null,[Q[1552]||(Q[1552]=t("p",null,"先训rewad model",-1)),t("mjx-container",ia,[(e(),l("svg",ha,Q[1550]||(Q[1550]=[a("",1)]))),Q[1551]||(Q[1551]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"σ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))])]),t("li",null,[Q[1555]||(Q[1555]=t("p",null,"再通过PPO训Actor Model",-1)),t("mjx-container",ga,[(e(),l("svg",pa,Q[1553]||(Q[1553]=[a("",1)]))),Q[1554]||(Q[1554]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"D"),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mi",null,"y"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))])])])]),Q[1910]||(Q[1910]=a("",4)),t("div",Ha,[Q[1570]||(Q[1570]=a("",3)),t("mjx-container",ca,[(e(),l("svg",ua,Q[1560]||(Q[1560]=[a("",1)]))),Q[1561]||(Q[1561]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"∗")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mi",null,"exp")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"β")])]),t("mstyle",{mathcolor:"red"},[t("mi",null,"r"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])],-1))]),t("ul",null,[t("li",null,[t("mjx-container",La,[(e(),l("svg",wa,Q[1562]||(Q[1562]=[a("",1)]))),Q[1563]||(Q[1563]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])],-1))]),Q[1564]||(Q[1564]=T("：")),Q[1565]||(Q[1565]=t("strong",null,"归一化因子",-1)),Q[1566]||(Q[1566]=T("、分配函数，确保给定x，")),Q[1567]||(Q[1567]=t("code",null,"所有y概率加起来等于1",-1))])]),t("mjx-container",fa,[(e(),l("svg",ya,Q[1568]||(Q[1568]=[a("",1)]))),Q[1569]||(Q[1569]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("munder",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"y")])])]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("mi",null,"exp")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"β")])]),t("mstyle",{mathcolor:"red"},[t("mi",null,"r"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])],-1))])]),Q[1911]||(Q[1911]=t("h4",{id:"显示最优解推导过程",tabindex:"-1"},[T("显示最优解推导过程 "),t("a",{class:"header-anchor",href:"#显示最优解推导过程","aria-label":'Permalink to "显示最优解推导过程"'},"​")],-1)),t("div",xa,[Q[1591]||(Q[1591]=t("div",{class:"custom-block-title"},"显示最优解推导过程",-1)),Q[1592]||(Q[1592]=t("p",null,[t("strong",null,"显示最优解推导过程")],-1)),Q[1593]||(Q[1593]=t("ul",null,[t("li",null,"推导1")],-1)),t("mjx-container",ka,[(e(),l("svg",Ma,Q[1571]||(Q[1571]=[a("",1)]))),Q[1572]||(Q[1572]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"D"),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mi",null,"y"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"D"),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mi",null,"y"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"min"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"D"),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mi",null,"y"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"−"),t("mfrac",null,[t("mn",null,"1"),t("mi",null,"β")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"min"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"D"),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mi",null,"y"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"−"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msup",null,[t("mi",null,"e"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mrow",null,[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mi",null,"β")])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"min"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"D"),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mi",null,"y"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("msup",null,[t("mstyle",{mathcolor:"red"},[t("mi",null,"e")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"/")]),t("mi",null,"β")])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd")])])])],-1))]),t("ul",null,[t("li",null,[t("p",null,[Q[1577]||(Q[1577]=T("归一化分母，构建")),t("mjx-container",Za,[(e(),l("svg",Va,Q[1573]||(Q[1573]=[a("",1)]))),Q[1574]||(Q[1574]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[1578]||(Q[1578]=T("，以及新的概率分布")),t("mjx-container",Da,[(e(),l("svg",ba,Q[1575]||(Q[1575]=[a("",1)]))),Q[1576]||(Q[1576]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"π"),t("mo",null,"∗")]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))])]),t("mjx-container",ja,[(e(),l("svg",va,Q[1579]||(Q[1579]=[a("",1)]))),Q[1580]||(Q[1580]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("munder",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"y")])])]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("msup",null,[t("mstyle",{mathcolor:"red"},[t("mi",null,"e")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"/")]),t("mi",null,"β")])])])])],-1))]),t("mjx-container",Aa,[(e(),l("svg",Ra,Q[1581]||(Q[1581]=[a("",1)]))),Q[1582]||(Q[1582]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"π"),t("mo",null,"∗")]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("msup",null,[t("mstyle",{mathcolor:"red"},[t("mi",null,"e")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"/")]),t("mi",null,"β")])])])]),t("mstyle",{mathcolor:"red"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])])],-1))])]),Q[1583]||(Q[1583]=t("li",null,[t("p",null,"代入目标式子，得到KL散度")],-1))]),t("mjx-container",Oa,[(e(),l("svg",_a,Q[1584]||(Q[1584]=[a("",1)]))),Q[1585]||(Q[1585]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"min"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"D"),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mi",null,"y"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mfrac",null,[t("mrow",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"e"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"/")]),t("mi",null,"β")])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"min"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"D"),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mi",null,"y"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"∗")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"−"),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"与"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mi",{mathvariant:"normal"},"无"),t("mi",{mathvariant:"normal"},"关")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"min"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"D"),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mi",null,"y"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"∗")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"min"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"x"),t("mo",null,"∼"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")])])]),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"∗")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])])])])],-1))]),t("ul",null,[t("li",null,[Q[1588]||(Q[1588]=T("KL散度在2个分布相等时取最小值，因此RLHF训练希望得到的最优概率分布就是")),t("mjx-container",Ca,[(e(),l("svg",Ba,Q[1586]||(Q[1586]=[a("",1)]))),Q[1587]||(Q[1587]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"∗")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])])],-1))])])]),t("mjx-container",Ea,[(e(),l("svg",Xa,Q[1589]||(Q[1589]=[a("",1)]))),Q[1590]||(Q[1590]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"π"),t("mo",null,"∗")]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("msup",null,[t("mstyle",{mathcolor:"red"},[t("mi",null,"e")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"/")]),t("mi",null,"β")])])])]),t("mstyle",{mathcolor:"red"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])])],-1))])]),Q[1912]||(Q[1912]=t("h4",{id:"反解奖励函数",tabindex:"-1"},[T("反解奖励函数 "),t("a",{class:"header-anchor",href:"#反解奖励函数","aria-label":'Permalink to "反解奖励函数"'},"​")],-1)),t("div",Sa,[Q[1606]||(Q[1606]=t("div",{class:"custom-block-title"},"反解奖励函数",-1)),Q[1607]||(Q[1607]=t("p",null,[t("strong",null,"反解奖励函数")],-1)),t("ul",null,[t("li",null,[Q[1598]||(Q[1598]=T("直接转换")),t("mjx-container",Fa,[(e(),l("svg",Pa,Q[1594]||(Q[1594]=[a("",1)]))),Q[1595]||(Q[1595]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"∗")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])])],-1))]),Q[1599]||(Q[1599]=T("定义，反解出隐式奖励函数")),t("mjx-container",za,[(e(),l("svg",Ia,Q[1596]||(Q[1596]=[a("",1)]))),Q[1597]||(Q[1597]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")])])],-1))])])]),t("mjx-container",Ga,[(e(),l("svg",Na,Q[1600]||(Q[1600]=[a("",1)]))),Q[1601]||(Q[1601]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"π"),t("mo",null,"∗")]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msup",null,[t("mstyle",{mathcolor:"red"},[t("mi",null,"e")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"/")]),t("mi",null,"β")])])])])],-1))]),t("mjx-container",Ja,[(e(),l("svg",qa,Q[1602]||(Q[1602]=[a("",1)]))),Q[1603]||(Q[1603]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"π"),t("mo",null,"∗")]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")])])],-1))]),t("mjx-container",Ka,[(e(),l("svg",$a,Q[1604]||(Q[1604]=[a("",1)]))),Q[1605]||(Q[1605]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"π"),t("mo",null,"∗")]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"+"),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mstyle",{mathcolor:"red"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])],-1))])]),Q[1913]||(Q[1913]=t("h4",{id:"dpo和rm目标loss一致",tabindex:"-1"},[T("DPO和RM目标loss一致 "),t("a",{class:"header-anchor",href:"#dpo和rm目标loss一致","aria-label":'Permalink to "DPO和RM目标loss一致"'},"​")],-1)),t("div",Ya,[Q[1612]||(Q[1612]=t("div",{class:"custom-block-title"},"RM&DPO 目标loss一致",-1)),Q[1613]||(Q[1613]=t("p",null,[t("strong",null,"奖励函数带入奖励loss")],-1)),Q[1614]||(Q[1614]=t("ul",null,[t("li",null,"RewardModel 训练目标 和 DPO 训练目标一致")],-1)),t("mjx-container",Ua,[(e(),l("svg",Wa,Q[1608]||(Q[1608]=[a("",1)]))),Q[1609]||(Q[1609]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"R"),t("mi",null,"M")])])])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"σ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"π"),t("mo",null,"∗")])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"σ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"π"),t("mo",null,"∗")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"+"),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mstyle",{mathcolor:"red"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"π"),t("mo",null,"∗")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mstyle",{mathcolor:"red"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"π"),t("mo",null,"∗")])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"σ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"π"),t("mo",null,"∗")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"π"),t("mo",null,"∗")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"D"),t("mi",null,"P"),t("mi",null,"O")])])])])])])])],-1))]),Q[1615]||(Q[1615]=a("",2)),t("mjx-container",tl,[(e(),l("svg",Ql,Q[1610]||(Q[1610]=[a("",1)]))),Q[1611]||(Q[1611]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"D"),t("mi",null,"P"),t("mi",null,"O")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"R"),t("mi",null,"M")])])])])],-1))]),Q[1616]||(Q[1616]=a("",4))]),Q[1914]||(Q[1914]=t("h3",{id:"dpo-核心思想",tabindex:"-1"},[T("DPO 核心思想 "),t("a",{class:"header-anchor",href:"#dpo-核心思想","aria-label":'Permalink to "DPO 核心思想"'},"​")],-1)),t("div",Tl,[Q[1698]||(Q[1698]=t("div",{class:"custom-block-title"},"DPO 核心思想",-1)),t("p",null,[t("strong",null,[Q[1619]||(Q[1619]=T("通过")),t("mjx-container",al,[(e(),l("svg",ll,Q[1617]||(Q[1617]=[a("",1)]))),Q[1618]||(Q[1618]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",null,","),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])],-1))]),Q[1620]||(Q[1620]=T("反解出奖励函数"))])]),t("ul",null,[Q[1631]||(Q[1631]=t("li",null,"逆向运用理论最优解关系。",-1)),Q[1632]||(Q[1632]=t("li",null,[t("strong",null,"不再采用老策略"),T("：先学习奖励函数、再利用奖励函数优化策略。")],-1)),t("li",null,[Q[1625]||(Q[1625]=T("假设LLM隐式定义一个奖励函数，从")),Q[1626]||(Q[1626]=t("strong",null,"策略",-1)),t("mjx-container",el,[(e(),l("svg",ml,Q[1621]||(Q[1621]=[a("",1)]))),Q[1622]||(Q[1622]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])],-1))]),Q[1627]||(Q[1627]=T("和")),Q[1628]||(Q[1628]=t("strong",null,"参考策略",-1)),t("mjx-container",sl,[(e(),l("svg",dl,Q[1623]||(Q[1623]=[a("",1)]))),Q[1624]||(Q[1624]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])])])])],-1))]),Q[1629]||(Q[1629]=T("中")),Q[1630]||(Q[1630]=t("code",null,"反解出隐式奖励函数",-1))])]),t("mjx-container",ol,[(e(),l("svg",nl,Q[1633]||(Q[1633]=[a("",1)]))),Q[1634]||(Q[1634]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"ϕ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"+"),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])],-1))]),Q[1699]||(Q[1699]=t("p",null,[t("strong",null,"偏好建模")],-1)),t("ul",null,[Q[1646]||(Q[1646]=t("li",null,[t("code",null,"winner > loser"),T(", "),t("code",null,"chosen > reject")],-1)),t("li",null,[Q[1644]||(Q[1644]=T("人类")),t("strong",null,[Q[1639]||(Q[1639]=T("偏好")),t("mjx-container",rl,[(e(),l("svg",il,Q[1635]||(Q[1635]=[a("",1)]))),Q[1636]||(Q[1636]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"y"),t("mi",null,"w")])])],-1))]),Q[1640]||(Q[1640]=T("而不是")),t("mjx-container",hl,[(e(),l("svg",gl,Q[1637]||(Q[1637]=[a("",1)]))),Q[1638]||(Q[1638]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"y"),t("mi",null,"l")])])],-1))]),Q[1641]||(Q[1641]=T("的概率"))]),Q[1645]||(Q[1645]=T()),t("mjx-container",pl,[(e(),l("svg",Hl,Q[1642]||(Q[1642]=[a("",1)]))),Q[1643]||(Q[1643]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,">"),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")])]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])],-1))])])]),t("mjx-container",cl,[(e(),l("svg",ul,Q[1647]||(Q[1647]=[a("",1)]))),Q[1648]||(Q[1648]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,">"),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")])]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mi",null,"σ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("mi",null,"r")]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"y"),t("mi",null,"w")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mstyle",{mathcolor:"red"},[t("mi",null,"r")]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mi",null,"σ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"+"),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mi",null,"Z"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mi",null,"σ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])])])])],-1))]),Q[1700]||(Q[1700]=t("p",null,[t("strong",null,"DPO 目标函数")],-1)),t("ul",null,[t("li",null,[Q[1659]||(Q[1659]=t("p",null,"最小化目标函数",-1)),t("ul",null,[t("li",null,[t("mjx-container",Ll,[(e(),l("svg",wl,Q[1649]||(Q[1649]=[a("",1)]))),Q[1650]||(Q[1650]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("mo",null,"−"),t("mi",null,"log")])])],-1))]),Q[1651]||(Q[1651]=T("：")),Q[1652]||(Q[1652]=t("a",{href:"https://plmsmile.github.io/posts/llm/basic/01-lm-define-information-theory.html#kl%E6%95%A3%E5%BA%A6-%E4%BA%A4%E5%8F%89%E7%86%B5-%E5%9B%B0%E6%83%91%E5%BA%A6",target:"_blank",rel:"noreferrer"},"交叉熵",-1)),Q[1653]||(Q[1653]=T("loss，")),Q[1654]||(Q[1654]=t("strong",null,"对错误概率进行惩罚",-1)),Q[1655]||(Q[1655]=T("；目标：")),Q[1656]||(Q[1656]=t("code",null,"最小化惩罚",-1))])]),t("mjx-container",fl,[(e(),l("svg",yl,Q[1657]||(Q[1657]=[a("",1)]))),Q[1658]||(Q[1658]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"L")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"D"),t("mi",null,"P"),t("mi",null,"O")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",null,";"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mo",null,"−")]),t("msub",null,[t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"double-struck"},"E")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"σ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))])]),Q[1660]||(Q[1660]=t("li",null,[t("p",null,[t("strong",null,"最大化以下目标")]),t("ul",null,[t("li",null,[t("strong",null,"生成正样本的概率"),T(),t("code",null,"比参考模型高"),T("，"),t("strong",null,"生成负样本的概率"),T(),t("code",null,"比参考模型低"),T("。")])])],-1))]),t("mjx-container",xl,[(e(),l("svg",kl,Q[1661]||(Q[1661]=[a("",1)]))),Q[1662]||(Q[1662]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"σ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q[1701]||(Q[1701]=t("p",null,[t("strong",null,"从loss理解其弊端")],-1)),Q[1702]||(Q[1702]=t("ul",null,[t("li",null,"Loss转换过程")],-1)),t("mjx-container",Ml,[(e(),l("svg",Zl,Q[1663]||(Q[1663]=[a("",1)]))),Q[1664]||(Q[1664]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("msub",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"D"),t("mi",null,"P"),t("mi",null,"O")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"σ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"σ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mi",null,"β"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mi",null,"β"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"σ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mi",null,"β"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"−"),t("mtext",null," "),t("mi",null,"β"),t("mi",null,"l"),t("mi",null,"o"),t("mi",null,"g"),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])])])])],-1))]),t("ul",null,[t("li",null,[Q[1679]||(Q[1679]=t("p",null,"Loss转换结果",-1)),Q[1680]||(Q[1680]=t("ul",null,[t("li",null,[t("strong",null,"生成正负样本的比例"),T("，要"),t("code",null,"目标策略的比例"),T("比"),t("code",null,"参考策略的比例"),T(),t("strong",null,"高"),T("，"),t("strong",null,"loss就可以下降"),T("。")])],-1)),t("mjx-container",Vl,[(e(),l("svg",Dl,Q[1665]||(Q[1665]=[a("",1)]))),Q[1666]||(Q[1666]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"σ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mi",null,"β"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"−"),t("mi",null,"β"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t("ul",null,[t("li",null,[t("p",null,[Q[1671]||(Q[1671]=T("比如")),Q[1672]||(Q[1672]=t("strong",null,"参考策略",-1)),Q[1673]||(Q[1673]=T("：")),t("mjx-container",bl,[(e(),l("svg",jl,Q[1667]||(Q[1667]=[a("",1)]))),Q[1668]||(Q[1668]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("mn",null,"0.5"),t("mn",null,"0.25")]),t("mo",null,"="),t("mn",null,"2")])],-1))]),Q[1674]||(Q[1674]=T("，目标策略 ")),t("mjx-container",vl,[(e(),l("svg",Al,Q[1669]||(Q[1669]=[a("",1)]))),Q[1670]||(Q[1670]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("mn",null,"0.3"),t("mn",null,"0.1")]),t("mo",null,"="),t("mn",null,"3")])],-1))]),Q[1675]||(Q[1675]=T("，"))]),Q[1678]||(Q[1678]=t("ul",null,[t("li",null,[T("虽然"),t("code",null,"loss下降"),T("、"),t("code",null,"负样本概率下降"),T("，但是"),t("code",null,"正样本概率也下降"),T("了。")]),t("li",null,[t("code",null,"正负样本概率都下降"),T("，自然一些"),t("code",null,"奇奇怪怪的输出概率就提高"),T("了。")])],-1)),t("mjx-container",Rl,[(e(),l("svg",Ol,Q[1676]||(Q[1676]=[a("",1)]))),Q[1677]||(Q[1677]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",null,":"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("mn",null,"0.5")]),t("mn",null,"0.25")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mn",null,"2")]),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mo",{stretchy:"false"},"→"),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",null,":"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("mn",null,"0.3")]),t("mn",null,"0.1")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mn",null,"3")])])],-1))])])])])]),Q[1703]||(Q[1703]=t("p",null,[t("strong",null,"梯度更新")],-1)),t("mjx-container",_l,[(e(),l("svg",Cl,Q[1681]||(Q[1681]=[a("",1)]))),Q[1682]||(Q[1682]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",{mathvariant:"normal"},"∇"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"L")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"D"),t("mi",null,"P"),t("mi",null,"O")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",null,";"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("msub",null,[t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"double-struck"},"E")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",null,"σ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"r"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"r"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")]),t("mi",null,"："),t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"模"),t("mi",{mathvariant:"normal"},"型"),t("mi",{mathvariant:"normal"},"犯"),t("mi",{mathvariant:"normal"},"错"),t("mi",{mathvariant:"normal"},"越"),t("mi",{mathvariant:"normal"},"大"),t("mi",null,"，"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重"),t("mi",{mathvariant:"normal"},"越"),t("mi",{mathvariant:"normal"},"高")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"⋅"),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",{mathvariant:"normal"},"∇"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"π"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",{mathvariant:"normal"},"∇"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"π"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"方"),t("mi",{mathvariant:"normal"},"向")]),t("mi",null,"："),t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"normal"},"增"),t("mi",{mathvariant:"normal"},"加"),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mi",{mathvariant:"normal"},"似"),t("mi",{mathvariant:"normal"},"然")]),t("mi",null,"，"),t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"降"),t("mi",{mathvariant:"normal"},"低"),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mi",{mathvariant:"normal"},"似"),t("mi",{mathvariant:"normal"},"然")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t("mjx-container",Bl,[(e(),l("svg",El,Q[1683]||(Q[1683]=[a("",1)]))),Q[1684]||(Q[1684]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"r"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"log")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"y"),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])])],-1))]),Q[1704]||(Q[1704]=t("p",null,[t("strong",null,"算法机制")],-1)),t("ul",null,[Q[1697]||(Q[1697]=t("li",null,[T("数据："),t("code",null,"离线静态的偏好数据")],-1)),t("li",null,[Q[1689]||(Q[1689]=T("参考模型作用：")),t("mjx-container",Xl,[(e(),l("svg",Sl,Q[1685]||(Q[1685]=[a("",1)]))),Q[1686]||(Q[1686]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[1690]||(Q[1690]=T("和")),t("mjx-container",Fl,[(e(),l("svg",Pl,Q[1687]||(Q[1687]=[a("",1)]))),Q[1688]||(Q[1688]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",null,"="),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"s"),t("mi",null,"f"),t("mi",null,"t")])])])],-1))]),Q[1691]||(Q[1691]=T("不要偏离太远"))]),t("li",null,[Q[1694]||(Q[1694]=T("超参数")),t("mjx-container",zl,[(e(),l("svg",Il,Q[1692]||(Q[1692]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D6FD",d:"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[1693]||(Q[1693]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"β")])],-1))]),Q[1695]||(Q[1695]=T("：控制2部分权重 ")),Q[1696]||(Q[1696]=t("ul",null,[t("li",null,[T("一是："),t("code",null,"最大化chosen和reject之间的概率差")]),t("li",null,[T("二是："),t("code",null,"保持与参考模型的相似性")])],-1))])])]),Q[1915]||(Q[1915]=t("img",{src:"https://paper-assets.alphaxiv.org/figures/2305.18290v3/img-0.jpeg",style:{display:"block",margin:"auto"},width:"100%"},null,-1)),Q[1916]||(Q[1916]=t("h3",{id:"dpo-缺点",tabindex:"-1"},[T("DPO 缺点 "),t("a",{class:"header-anchor",href:"#dpo-缺点","aria-label":'Permalink to "DPO 缺点"'},"​")],-1)),Q[1917]||(Q[1917]=t("p",null,[t("strong",null,"简洁性"),T("是其"),t("code",null,"最大优点"),T("，但也是其"),t("code",null,"最大缺点"),T("。")],-1)),t("div",Gl,[Q[1707]||(Q[1707]=a("",5)),t("mjx-container",Nl,[(e(),l("svg",Jl,Q[1705]||(Q[1705]=[a("",1)]))),Q[1706]||(Q[1706]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"σ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mi",null,"β"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"−"),t("mi",null,"β"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"w")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mi",null,"l")]),t("mo",null,"∣"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q[1708]||(Q[1708]=a("",3))]),Q[1918]||(Q[1918]=t("h2",{id:"grpo",tabindex:"-1"},[T("GRPO "),t("a",{class:"header-anchor",href:"#grpo","aria-label":'Permalink to "GRPO"'},"​")],-1)),Q[1919]||(Q[1919]=t("h3",{id:"ppo缺点-grpo动机",tabindex:"-1"},[T("PPO缺点&GRPO动机 "),t("a",{class:"header-anchor",href:"#ppo缺点-grpo动机","aria-label":'Permalink to "PPO缺点&GRPO动机"'},"​")],-1)),t("div",ql,[Q[1729]||(Q[1729]=t("div",{class:"custom-block-title"},"PPO 缺点 & GRPO 动机",-1)),Q[1730]||(Q[1730]=t("p",null,[t("strong",null,"PPO 核心思想")],-1)),Q[1731]||(Q[1731]=t("ul",null,[t("li",null,[t("strong",null,"Actor Model")])],-1)),t("mjx-container",Kl,[(e(),l("svg",$l,Q[1709]||(Q[1709]=[a("",1)]))),Q[1710]||(Q[1710]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"O")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"C"),t("mi",{mathvariant:"normal"},"L"),t("mi",{mathvariant:"normal"},"I"),t("mi",{mathvariant:"normal"},"P")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"q"),t("mo",null,","),t("mi",null,"o"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("mi",null,"o"),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("mi",null,"o"),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),t("mstyle",{mathcolor:"red"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"A"),t("mi",null,"t")])]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"clip")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"A"),t("mi",null,"t")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q[1732]||(Q[1732]=t("ul",null,[t("li",null,[t("strong",null,"Critic Model")])],-1)),t("mjx-container",Yl,[(e(),l("svg",Ul,Q[1711]||(Q[1711]=[a("",1)]))),Q[1712]||(Q[1712]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"c")])])])])]),t("mtd",null,[t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"+"),t("mi",null,"γ"),t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"+"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"γ"),t("mi",null,"λ")]),t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"T"),t("mi",null,"D"),t("mi",{mathvariant:"normal"},"目"),t("mi",{mathvariant:"normal"},"标"),t("mi",null,"，"),t("mi",{mathvariant:"normal"},"增"),t("mi",{mathvariant:"normal"},"加"),t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E")])])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msub",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"n"),t("mi",{mathvariant:"normal"},"e"),t("mi",{mathvariant:"normal"},"w")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"最"),t("mi",{mathvariant:"normal"},"新"),t("mi",{mathvariant:"normal"},"网"),t("mi",{mathvariant:"normal"},"络"),t("mi",{mathvariant:"normal"},"预"),t("mi",{mathvariant:"normal"},"测"),t("mi",{mathvariant:"normal"},"值")])])]),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mn",null,"2")])])])])])],-1))]),Q[1733]||(Q[1733]=t("ul",null,[t("li",null,[t("strong",null,"Reward Model"),T(" （不参与训练，或 Rule Based Reward）")])],-1)),t("mjx-container",Wl,[(e(),l("svg",te,Q[1713]||(Q[1713]=[a("",1)]))),Q[1714]||(Q[1714]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"r"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"total")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"r"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"env")])])]),t("mo",null,"−"),t("msub",null,[t("mstyle",{mathcolor:"red"},[t("mtext",null,"KL")]),t("mi",null,"t")]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])])]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"r"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"env")])])]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"log")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mi",null,"t")]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])])])],-1))]),Q[1734]||(Q[1734]=t("p",null,[t("strong",null,"PPO 缺点")],-1)),t("ul",null,[t("li",null,[Q[1727]||(Q[1727]=t("code",null,"资源开销大",-1)),t("ul",null,[Q[1726]||(Q[1726]=t("li",null,[t("strong",null,"需要训Critic Model"),T("(通常和Actor同尺寸)，增加了"),t("code",null,"额外的内存"),T("和"),t("code",null,"计算开销"),T("。")],-1)),t("li",null,[Q[1717]||(Q[1717]=t("strong",null,"每个Token",-1)),Q[1718]||(Q[1718]=T("都需要")),Q[1719]||(Q[1719]=t("strong",null,"由Critic",-1)),Q[1720]||(Q[1720]=T()),Q[1721]||(Q[1721]=t("code",null,"去估计价值",-1)),Q[1722]||(Q[1722]=T(", ")),t("mjx-container",Qe,[(e(),l("svg",Te,Q[1715]||(Q[1715]=[a("",1)]))),Q[1716]||(Q[1716]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"A"),t("mi",null,"t")])])])],-1))]),Q[1723]||(Q[1723]=T()),Q[1724]||(Q[1724]=t("code",null,"依赖Critic",-1)),Q[1725]||(Q[1725]=T("。"))])])]),Q[1728]||(Q[1728]=t("li",null,[t("code",null,"训练复杂/不好训"),t("ul",null,[t("li",null,[T("LLM通常"),t("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#reward-model-%E5%8D%B3%E6%97%B6%E5%A5%96%E5%8A%B1",target:"_blank",rel:"noreferrer"},"只有最后一个Token才有奖励信号")]),t("li",null,[T("导致Critic Model "),t("strong",null,"难以估计每个Token的价值"),T("，"),t("code",null,"不好训练"),T("。")])])],-1))]),Q[1735]||(Q[1735]=t("p",null,[t("strong",null,"GRPO 动机")],-1)),Q[1736]||(Q[1736]=t("ul",null,[t("li",null,[t("strong",null,"解决PPO"),T(),t("code",null,"Critic资源开销大"),T("、"),t("code",null,"训练复杂"),T("的问题。")])],-1))]),Q[1920]||(Q[1920]=a("",3)),t("div",ae,[Q[1765]||(Q[1765]=a("",3)),t("mjx-container",le,[(e(),l("svg",ee,Q[1737]||(Q[1737]=[a("",1)]))),Q[1738]||(Q[1738]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"q")]),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mo",{stretchy:"false"},"→"),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"o")])]),t("mo",null,"="),t("mo",{fence:"false",stretchy:"false"},"{"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"o"),t("mn",null,"1")]),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mn",null,"2")])]),t("mo",null,","),t("mo",null,"⋯"),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"o"),t("mi",null,"G")])]),t("mo",{fence:"false",stretchy:"false"},"}"),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mo",{stretchy:"false"},"→"),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"r")])]),t("mo",null,"="),t("mo",{fence:"false",stretchy:"false"},"{"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mn",null,"1")]),t("mo",null,","),t("msub",null,[t("mi",null,"r"),t("mn",null,"2")])]),t("mo",null,","),t("mo",null,"⋯"),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"G")])]),t("mo",{fence:"false",stretchy:"false"},"}")])],-1))]),Q[1766]||(Q[1766]=t("ul",null,[t("li",null,[t("strong",null,"组内基线计算"),T("：组内"),t("code",null,"平均奖励"),T("/"),t("code",null,"奖励标准差")])],-1)),t("mjx-container",me,[(e(),l("svg",se,Q[1739]||(Q[1739]=[a("",1)]))),Q[1740]||(Q[1740]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mtext",null,"mean")]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"r")])]),t("mo",{stretchy:"false"},")"),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"1em"})]),t("mstyle",{mathcolor:"blue"},[t("mtext",null,"std")]),t("mo",{stretchy:"false"},"("),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"bold"},"r")])]),t("mo",{stretchy:"false"},")")])],-1))]),Q[1767]||(Q[1767]=t("p",null,[t("strong",null,"相对组优势计算")],-1)),t("ul",null,[t("li",null,[Q[1743]||(Q[1743]=T("为每个输出")),t("mjx-container",de,[(e(),l("svg",oe,Q[1741]||(Q[1741]=[a("",1)]))),Q[1742]||(Q[1742]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"o"),t("mi",null,"i")])])])],-1))]),Q[1744]||(Q[1744]=T("，计算")),Q[1745]||(Q[1745]=t("code",null,"组内的相对得分",-1)),Q[1746]||(Q[1746]=T("，作为")),Q[1747]||(Q[1747]=t("code",null,"组内的相对优势",-1))])]),t("mjx-container",ne,[(e(),l("svg",re,Q[1748]||(Q[1748]=[a("",1)]))),Q[1749]||(Q[1749]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"r"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"i")])]),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"i")])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mtext",null,"mean")]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"r")])]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mstyle",{mathcolor:"blue"},[t("mtext",null,"std")]),t("mo",{stretchy:"false"},"("),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"bold"},"r")])]),t("mo",{stretchy:"false"},")")])]),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mo",{stretchy:"false"},"→"),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"r"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"i")])])])],-1))]),t("ul",null,[t("li",null,[t("mjx-container",ie,[(e(),l("svg",he,Q[1750]||(Q[1750]=[a("",1)]))),Q[1751]||(Q[1751]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])])])])],-1))]),Q[1762]||(Q[1762]=T(" 组内相对优势 ")),t("ul",null,[Q[1761]||(Q[1761]=t("li",null,[T("不同于"),t("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#reward-model-%E4%BD%BF%E7%94%A8",target:"_blank",rel:"noreferrer"},"PPO仅最后时刻token有奖励信号"),T("。")],-1)),t("li",null,[Q[1754]||(Q[1754]=t("strong",null,"所有时刻的token",-1)),Q[1755]||(Q[1755]=T()),t("mjx-container",ge,[(e(),l("svg",pe,Q[1752]||(Q[1752]=[a("",1)]))),Q[1753]||(Q[1753]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"≤"),t("mi",null,"T")])])])],-1))]),Q[1756]||(Q[1756]=T("，都使用")),Q[1757]||(Q[1757]=t("code",null,"同一个",-1)),Q[1758]||(Q[1758]=T()),Q[1759]||(Q[1759]=t("strong",null,"组内相对得分",-1)),Q[1760]||(Q[1760]=T("，作为t时刻优势信号"))])])])]),t("mjx-container",He,[(e(),l("svg",ce,Q[1763]||(Q[1763]=[a("",1)]))),Q[1764]||(Q[1764]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"r"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"i")])]),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"i")])]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mtext",null,"mean")]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"r")])]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mstyle",{mathcolor:"blue"},[t("mtext",null,"std")]),t("mo",{stretchy:"false"},"("),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",{mathvariant:"bold"},"r")])]),t("mo",{stretchy:"false"},")")])])])],-1))])]),Q[1921]||(Q[1921]=t("h3",{id:"grpo策略目标",tabindex:"-1"},[T("GRPO策略目标 "),t("a",{class:"header-anchor",href:"#grpo策略目标","aria-label":'Permalink to "GRPO策略目标"'},"​")],-1)),t("div",ue,[Q[1796]||(Q[1796]=t("div",{class:"custom-block-title"},"GRPO 策略目标",-1)),Q[1797]||(Q[1797]=t("p",null,[t("strong",null,"优化目标-PPO核心差异")],-1)),t("ul",null,[Q[1788]||(Q[1788]=t("li",null,[T("使用"),t("code",null,"组内优势"),T("来替代"),t("code",null,"GAE优势"),T("。")],-1)),t("li",null,[Q[1781]||(Q[1781]=T("把")),t("mjx-container",Le,[(e(),l("svg",we,Q[1768]||(Q[1768]=[a("",1)]))),Q[1769]||(Q[1769]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])],-1))]),Q[1782]||(Q[1782]=T("和")),t("mjx-container",fe,[(e(),l("svg",ye,Q[1770]||(Q[1770]=[a("",1)]))),Q[1771]||(Q[1771]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])])])])])])],-1))]),Q[1783]||(Q[1783]=T("的")),Q[1784]||(Q[1784]=t("code",null,"KL约束",-1)),Q[1785]||(Q[1785]=T("放入")),Q[1786]||(Q[1786]=t("strong",null,"目标函数",-1)),Q[1787]||(Q[1787]=T("。 ")),t("ul",null,[t("li",null,[Q[1776]||(Q[1776]=t("strong",null,"PPO",-1)),Q[1777]||(Q[1777]=T("是放在")),Q[1778]||(Q[1778]=t("code",null,"每个Token的即时奖励信号",-1)),Q[1779]||(Q[1779]=T()),t("mjx-container",xe,[(e(),l("svg",ke,Q[1772]||(Q[1772]=[a("",1)]))),Q[1773]||(Q[1773]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")])])])],-1))]),Q[1780]||(Q[1780]=T("里的 ")),t("ul",null,[t("li",null,[t("mjx-container",Me,[(e(),l("svg",Ze,Q[1774]||(Q[1774]=[a("",1)]))),Q[1775]||(Q[1775]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msubsup",null,[t("mi",null,"r"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"total")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"r"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"env")])])]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("msub",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"D"),t("mtext",null,"KL")])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])])]),t("mo",{stretchy:"false"},")")])],-1))])])])])])]),Q[1789]||(Q[1789]=t("li",null,[t("strong",null,"同PPO一样"),T("，使用"),t("code",null,"CLIP信任域"),T("来保证新旧策略分布差异不太大。")],-1))]),Q[1798]||(Q[1798]=t("p",null,[t("strong",null,"GRPO 优化目标公式")],-1)),t("mjx-container",Ve,[(e(),l("svg",De,Q[1790]||(Q[1790]=[a("",1)]))),Q[1791]||(Q[1791]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"G"),t("mi",{mathvariant:"normal"},"R"),t("mi",{mathvariant:"normal"},"P"),t("mi",{mathvariant:"normal"},"O")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"q"),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("mo",{fence:"false",stretchy:"false"},"{"),t("msub",null,[t("mi",null,"o"),t("mi",null,"i")]),t("msubsup",null,[t("mo",{fence:"false",stretchy:"false"},"}"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"="),t("mn",null,"1")]),t("mi",null,"G")])]),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])]),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"G")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G")])])]),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("msub",null,[t("mi",null,"o"),t("mi",null,"i")]),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("msub",null,[t("mi",null,"o"),t("mi",null,"i")]),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mstyle",{mathcolor:"red"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])])]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mstyle",{mathcolor:"red"},[t("mtext",null,"clip")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])])])])]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q[1799]||(Q[1799]=t("ul",null,[t("li",null,[T("GRPO梯度， 省去了clip，"),t("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/11-grpo-series.html#token-level-loss",target:"_blank",rel:"noreferrer"},"DAPO token-level loss"),T(", "),t("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/10-ppo-series.html#%E8%A7%A3%E5%86%B3%E9%95%BF%E5%BA%A6%E4%B8%8D%E4%B8%80%E9%97%AE%E9%A2%98-length-adaptive-gae-token-level-policy-loss",target:"_blank",rel:"noreferrer"},"VAPO 解决长度不一问题")])],-1)),t("mjx-container",be,[(e(),l("svg",je,Q[1792]||(Q[1792]=[a("",1)]))),Q[1793]||(Q[1793]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",{mathvariant:"normal"},"∇"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("msub",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"GRPO")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"x"),t("mo",null,"∈"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")]),t("mo",null,","),t("mstyle",{mathcolor:"blue"},[t("mo",{fence:"false",stretchy:"false"},"{"),t("msub",null,[t("mi",null,"y"),t("mi",null,"i")]),t("msubsup",null,[t("mo",{fence:"false",stretchy:"false"},"}"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"="),t("mn",null,"1")]),t("mi",null,"G")]),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"G")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"="),t("mn",null,"1")]),t("mi",null,"G")])]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("msub",null,[t("mi",null,"y"),t("mi",null,"i")]),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("msub",null,[t("mi",null,"y"),t("mi",null,"i")]),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"序"),t("mi",{mathvariant:"normal"},"列"),t("mi",{mathvariant:"normal"},"内"),t("mi",{mathvariant:"normal"},"平"),t("mi",{mathvariant:"normal"},"均")])])]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mtext",null,"token重要性权重")])])]),t("mo",null,"⋅"),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mtext",null,"token优势")])])]),t("mo",null,"⋅"),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",{mathvariant:"normal"},"∇"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"y"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"y"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mtext",null,"token梯度")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q[1800]||(Q[1800]=t("p",null,[t("strong",null,"GRPO ref KL 约束")],-1)),Q[1801]||(Q[1801]=t("ul",null,[t("li",null,[t("a",{href:"http://plmsmile.github.io/posts/llm/basic/01-lm-define-information-theory.html#k3-%E6%97%A0%E5%81%8F%E4%B8%94%E4%BD%8E%E6%96%B9%E5%B7%AE",target:"_blank",rel:"noreferrer"},"K3 KL"),T("，"),t("code",null,"无偏且低方差")])],-1)),t("mjx-container",ve,[(e(),l("svg",Ae,Q[1794]||(Q[1794]=[a("",1)]))),Q[1795]||(Q[1795]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"t")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])])])])]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mstyle",{mathcolor:"red"},[t("mo",null,"−"),t("mi",null,"log")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"e"),t("mi",null,"f")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"∣"),t("mi",null,"q"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mo",null,"<"),t("mi",null,"t")])]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"−"),t("mn",null,"1")])],-1))])]),Q[1922]||(Q[1922]=a("",12)),t("div",Re,[Q[1822]||(Q[1822]=t("div",{class:"custom-block-title"},"PPO vs GRPO 核心思想",-1)),Q[1823]||(Q[1823]=t("p",null,[t("strong",null,"PPO")],-1)),t("ul",null,[Q[1810]||(Q[1810]=a("",2)),t("li",null,[Q[1808]||(Q[1808]=t("strong",null,"优势",-1)),Q[1809]||(Q[1809]=T("： ")),t("ul",null,[Q[1807]||(Q[1807]=t("li",null,[t("code",null,"最终成绩-历史预测成绩"),T(" 。"),t("code",null,"超预期"),T("，就获得"),t("code",null,"正向奖励"),T("。")],-1)),t("li",null,[Q[1804]||(Q[1804]=t("strong",null,"参照物",-1)),Q[1805]||(Q[1805]=T("：过去的自己，")),t("mjx-container",Oe,[(e(),l("svg",_e,Q[1802]||(Q[1802]=[a("",1)]))),Q[1803]||(Q[1803]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])],-1))]),Q[1806]||(Q[1806]=T("。超越昨天的自己。"))])])]),Q[1811]||(Q[1811]=t("li",null,[t("strong",null,"学习信号/优势信号"),t("ul",null,[t("li",null,[t("code",null,"Token-Level"),T("，"),t("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/10-ppo-series.html#%E5%85%B3%E9%94%AE%E7%BB%93%E6%9E%9C",target:"_blank",rel:"noreferrer"},"Critic提供更细粒度的学习信号"),T("。")]),t("li",null,"通过Critic，每个token有不同的价值。而不是整个轨迹级别的。")])],-1))]),Q[1824]||(Q[1824]=t("p",null,[t("strong",null,"GRPO")],-1)),t("ul",null,[Q[1820]||(Q[1820]=a("",2)),t("li",null,[Q[1818]||(Q[1818]=t("strong",null,"优势",-1)),Q[1819]||(Q[1819]=T("： ")),t("ul",null,[Q[1817]||(Q[1817]=t("li",null,[t("code",null,"组内相对优势"),T("，"),t("code",null,"个人成绩-小组平均成绩"),T("。"),t("code",null,"超平均水平"),T("，就获得"),t("code",null,"正向奖励"),T("。")],-1)),t("li",null,[Q[1814]||(Q[1814]=t("strong",null,"参照物",-1)),Q[1815]||(Q[1815]=T("：团队平均策略，")),t("mjx-container",Ce,[(e(),l("svg",Be,Q[1812]||(Q[1812]=[a("",1)]))),Q[1813]||(Q[1813]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"π"),t("mo",{stretchy:"false"},"¯")])])])])],-1))]),Q[1816]||(Q[1816]=T("。超越团队平均。"))])])]),Q[1821]||(Q[1821]=a("",1))])]),Q[1923]||(Q[1923]=t("h3",{id:"技术实现差异",tabindex:"-1"},[T("技术实现差异 "),t("a",{class:"header-anchor",href:"#技术实现差异","aria-label":'Permalink to "技术实现差异"'},"​")],-1)),t("div",Ee,[Q[1860]||(Q[1860]=a("",4)),t("ul",null,[t("li",null,[Q[1827]||(Q[1827]=T("PPO：过去的自己")),t("mjx-container",Xe,[(e(),l("svg",Se,Q[1825]||(Q[1825]=[a("",1)]))),Q[1826]||(Q[1826]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"o"),t("mi",null,"l"),t("mi",null,"d")])])])])])])],-1))]),Q[1828]||(Q[1828]=T("。通过和上一轮策略比较，在信任域内小步快跑，争取超过昨天的自己。"))]),t("li",null,[Q[1831]||(Q[1831]=T("GRPO：小组的平均策略")),t("mjx-container",Fe,[(e(),l("svg",Pe,Q[1829]||(Q[1829]=[a("",1)]))),Q[1830]||(Q[1830]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"π"),t("mo",{stretchy:"false"},"¯")])])])])],-1))]),Q[1832]||(Q[1832]=T("。超过平均水平，则获得正向激励。"))])]),Q[1861]||(Q[1861]=t("p",null,[t("strong",null,"算法架构")],-1)),t("ul",null,[t("li",null,[Q[1839]||(Q[1839]=T("PPO ")),t("ul",null,[Q[1837]||(Q[1837]=t("li",null,[t("code",null,"Actor-Critic架构"),T("：Actor+Critic+RewardModel。")],-1)),t("li",null,[Q[1835]||(Q[1835]=T("Critic 估计状态价值")),t("mjx-container",ze,[(e(),l("svg",Ie,Q[1833]||(Q[1833]=[a("",1)]))),Q[1834]||(Q[1834]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("mi",null,"s"),t("mo",{stretchy:"false"},")")])],-1))]),Q[1836]||(Q[1836]=T("、用于GAE计算优势。"))]),Q[1838]||(Q[1838]=t("li",null,"MC 采样 + TD估计。",-1))])]),Q[1840]||(Q[1840]=t("li",null,[T("GRPO "),t("ul",null,[t("li",null,[t("code",null,"纯策略梯度"),T("：Actor+RewardModel。")]),t("li",null,"无Critic，价值基线通过统计得出。"),t("li",null,"MC 采样。")])],-1))]),Q[1862]||(Q[1862]=t("p",null,[t("strong",null,"优势")],-1)),t("ul",null,[t("li",null,[Q[1851]||(Q[1851]=T("PPO ")),t("ul",null,[t("li",null,[Q[1844]||(Q[1844]=t("code",null,"GAE",-1)),Q[1845]||(Q[1845]=T("，")),t("strong",null,[Q[1843]||(Q[1843]=T("依赖价值模型")),t("mjx-container",Ge,[(e(),l("svg",Ne,Q[1841]||(Q[1841]=[a("",1)]))),Q[1842]||(Q[1842]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("mi",null,"s"),t("mo",{stretchy:"false"},")")])],-1))])]),Q[1846]||(Q[1846]=T("，")),Q[1847]||(Q[1847]=t("code",null,"基于模型预测、学习",-1)),Q[1848]||(Q[1848]=T("的方法。 ")),Q[1849]||(Q[1849]=t("ul",null,[t("li",null,[T("对多个n步优势估计，"),t("code",null,"加权平均"),T("，引入"),t("code",null,"λ平衡方差和偏差")]),t("li",null,"结合了多步MC回报+Critic价值预测，MC采样+TD估计。"),t("li",null,"依赖准确估计的Critic，这个往往是PPO的难点。")],-1))]),Q[1850]||(Q[1850]=a("",2))])]),t("li",null,[Q[1859]||(Q[1859]=T("GRPO ")),t("ul",null,[Q[1857]||(Q[1857]=t("li",null,[t("code",null,"组相对优势"),T("，"),t("strong",null,"不依赖价值模型"),T("，"),t("code",null," 基于群体投票、统计"),T("的方法。")],-1)),Q[1858]||(Q[1858]=t("li",null,[t("strong",null,"优势获得条件"),t("ul",null,[t("li",null,"个人比组平均成绩好，才获得正向奖励。"),t("li",null,"组内相对排名和分数")])],-1)),t("li",null,[Q[1856]||(Q[1856]=t("strong",null,"优势信号特点",-1)),t("ul",null,[t("li",null,[Q[1854]||(Q[1854]=t("strong",null,"一条轨迹上所有token共享相同的优势值",-1)),Q[1855]||(Q[1855]=T("，都为")),t("mjx-container",Je,[(e(),l("svg",qe,Q[1852]||(Q[1852]=[a("",1)]))),Q[1853]||(Q[1853]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])])])])],-1))])])])])])])]),Q[1863]||(Q[1863]=a("",2))]),Q[1924]||(Q[1924]=a("",7))])}const am=m(s,[["render",Ke]]);export{Tm as __pageData,am as default};

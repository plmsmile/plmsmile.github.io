import{_ as m,c as l,o as e,ah as a,j as Q,a as T}from"./chunks/framework.CvbyeFFO.js";const xe=JSON.parse('{"title":"典型策略提升方法：TRPO+PPO+DPO+GRPO","description":"","frontmatter":{"title":"典型策略提升方法：TRPO+PPO+DPO+GRPO","date":"2025-09-01T21:43:21.000Z","create":"2025-09-01T21:43:21.000Z","categories":["rl-theory"],"tags":["重要性采样","重要性采样策略梯度","KL约束","信任区域","GAE","n步优势估计","TRPO","PPO","优势策略梯度","PPO-Clip","PPO-Penalty","Reward Model","Pairwise loss","KL负奖励","Critic学习目标","Critic Loss","TD Error","Critic Value Clip","踩坑经验","DPO","标准RLHF目标","DPO显示最优解","DPO Loss","DPO缺点","GRPO","相对组优势"]},"headers":[],"relativePath":"posts/llm/rl/theory/09-policy-trpo-ppo.md","filePath":"posts/llm/rl/theory/09-policy-trpo-ppo.md","lastUpdated":1761231250000}'),s={name:"posts/llm/rl/theory/09-policy-trpo-ppo.md"},d={class:"custom-block note"},o={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.299ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1900 1000","aria-hidden":"true"},r={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.192ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1853 1000","aria-hidden":"true"},h={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.192ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1853 1000","aria-hidden":"true"},p={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},H={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.095ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1810 1000","aria-hidden":"true"},c={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.192ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1853 1000","aria-hidden":"true"},L={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},w={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.307ex"},xmlns:"http://www.w3.org/2000/svg",width:"36.681ex",height:"11.745ex",role:"img",focusable:"false",viewBox:"0 -2845.7 16213 5191.4","aria-hidden":"true"},f={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.697ex"},xmlns:"http://www.w3.org/2000/svg",width:"51.159ex",height:"6ex",role:"img",focusable:"false",viewBox:"0 -1460 22612.5 2652.2","aria-hidden":"true"},x={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},k={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.238ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.96ex",height:"3.607ex",role:"img",focusable:"false",viewBox:"0 -1047.1 1750.3 1594.2","aria-hidden":"true"},M={class:"custom-block note"},Z={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.095ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1810 1000","aria-hidden":"true"},D={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.192ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1853 1000","aria-hidden":"true"},j={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.041ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 460 636","aria-hidden":"true"},A={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},R={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.138ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 503 636","aria-hidden":"true"},O={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.095ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1810 1000","aria-hidden":"true"},C={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.192ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1853 1000","aria-hidden":"true"},E={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.007ex",height:"2.713ex",role:"img",focusable:"false",viewBox:"0 -849.5 4865.3 1199","aria-hidden":"true"},S={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.238ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.898ex",height:"3.607ex",role:"img",focusable:"false",viewBox:"0 -1047.1 6585.1 1594.2","aria-hidden":"true"},P={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.007ex",height:"2.713ex",role:"img",focusable:"false",viewBox:"0 -849.5 4865.3 1199","aria-hidden":"true"},I={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},G={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},N={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},J={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},q={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.42ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2395.6 1000","aria-hidden":"true"},$={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.42ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2395.6 1000","aria-hidden":"true"},U={class:"custom-block note"},W={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Q1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.562ex",height:"1.332ex",role:"img",focusable:"false",viewBox:"0 -431 1574.4 588.8","aria-hidden":"true"},t1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.562ex",height:"1.332ex",role:"img",focusable:"false",viewBox:"0 -431 1574.4 588.8","aria-hidden":"true"},a1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.579ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.007ex",height:"1.735ex",role:"img",focusable:"false",viewBox:"0 -511 4423.2 767.1","aria-hidden":"true"},e1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.579ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.371ex",height:"1.735ex",role:"img",focusable:"false",viewBox:"0 -511 4142.2 767.1","aria-hidden":"true"},s1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.672ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.865ex",height:"1.828ex",role:"img",focusable:"false",viewBox:"0 -511 4802.2 808.1","aria-hidden":"true"},o1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.529ex",height:"1.911ex",role:"img",focusable:"false",viewBox:"0 -583 4211.7 844.6","aria-hidden":"true"},r1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},i1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.777ex",height:"6.014ex",role:"img",focusable:"false",viewBox:"0 -849.5 20675.6 2658.3","aria-hidden":"true"},h1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.021ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 3545.4 692.6","aria-hidden":"true"},p1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},H1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.725ex"},xmlns:"http://www.w3.org/2000/svg",width:"64.314ex",height:"9.028ex",role:"img",focusable:"false",viewBox:"0 -1460 28427 3990.3","aria-hidden":"true"},c1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},u1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.674ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 17094 2431.6","aria-hidden":"true"},L1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},w1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.256ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.383ex",height:"5.643ex",role:"img",focusable:"false",viewBox:"0 -1497.2 11661.1 2494.4","aria-hidden":"true"},f1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},y1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"54.897ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 24264.3 2431.6","aria-hidden":"true"},x1={class:"custom-block note"},k1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},M1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.567ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.013ex",height:"12.266ex",role:"img",focusable:"false",viewBox:"0 -2960.7 16359.9 5421.4","aria-hidden":"true"},Z1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},V1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.609ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.8ex",height:"6.348ex",role:"img",focusable:"false",viewBox:"0 -1653 20685.6 2806","aria-hidden":"true"},D1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-11.665ex"},xmlns:"http://www.w3.org/2000/svg",width:"65.616ex",height:"24.461ex",role:"img",focusable:"false",viewBox:"0 -5655.9 29002.3 10811.8","aria-hidden":"true"},j1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.646ex",height:"6.781ex",role:"img",focusable:"false",viewBox:"0 -1751.3 19733.7 2997.2","aria-hidden":"true"},A1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},R1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.475ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.4ex",height:"3.844ex",role:"img",focusable:"false",viewBox:"0 -1047.1 3712.6 1699.2","aria-hidden":"true"},O1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.475ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.4ex",height:"3.432ex",role:"img",focusable:"false",viewBox:"0 -864.9 3712.6 1517","aria-hidden":"true"},C1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.395ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5036.7 1000","aria-hidden":"true"},E1={class:"custom-block danger"},X1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.471ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.77ex",height:"2.066ex",role:"img",focusable:"false",viewBox:"0 -705 2550.5 913","aria-hidden":"true"},F1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},P1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"58.869ex",height:"2.565ex",role:"img",focusable:"false",viewBox:"0 -883.9 26020 1133.9","aria-hidden":"true"},z1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.624ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.899ex",height:"2.556ex",role:"img",focusable:"false",viewBox:"0 -853.7 1281.2 1129.6","aria-hidden":"true"},G1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},N1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"45.214ex",height:"6.73ex",role:"img",focusable:"false",viewBox:"0 -1728.7 19984.8 2974.6","aria-hidden":"true"},J1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},q1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.159ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.201ex",height:"5.449ex",role:"img",focusable:"false",viewBox:"0 -1454.2 13348.6 2408.5","aria-hidden":"true"},K1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},$1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.213ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 16448.2 2399","aria-hidden":"true"},Y1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},U1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-6.345ex"},xmlns:"http://www.w3.org/2000/svg",width:"54.356ex",height:"9.881ex",role:"img",focusable:"false",viewBox:"0 -1562.5 24025.4 4367.2","aria-hidden":"true"},W1={class:"custom-block danger"},Q3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},T3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},l3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},e3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.786ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 789.3 599.8","aria-hidden":"true"},m3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.471ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.83ex",height:"1.471ex",role:"img",focusable:"false",viewBox:"0 -442 1692.9 650","aria-hidden":"true"},d3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},o3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.03ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 11505.2 1000","aria-hidden":"true"},n3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},r3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.163ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 14216.2 1000","aria-hidden":"true"},i3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},g3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.674ex",height:"1.595ex",role:"img",focusable:"false",viewBox:"0 -694 298 705","aria-hidden":"true"},H3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},c3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.915ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 14548.6 1000","aria-hidden":"true"},u3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},L3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-13.221ex"},xmlns:"http://www.w3.org/2000/svg",width:"79.791ex",height:"27.574ex",role:"img",focusable:"false",viewBox:"0 -6343.8 35267.5 12187.7","aria-hidden":"true"},w3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.637ex",height:"1.505ex",role:"img",focusable:"false",viewBox:"0 -583 2933.6 665","aria-hidden":"true"},y3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},x3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.152ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 19515.3 2828.3","aria-hidden":"true"},k3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.929ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 1736.7 1337.5","aria-hidden":"true"},Z3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},V3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.697ex"},xmlns:"http://www.w3.org/2000/svg",width:"68.142ex",height:"12.526ex",role:"img",focusable:"false",viewBox:"0 -3018.3 30118.8 5536.5","aria-hidden":"true"},D3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.159ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 8026.3 1337.5","aria-hidden":"true"},j3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.706ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 12688 1337.5","aria-hidden":"true"},A3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},R3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"39.253ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 17349.6 1337.5","aria-hidden":"true"},O3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.452ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.882ex",height:"2.149ex",role:"img",focusable:"false",viewBox:"0 -750 2600 950","aria-hidden":"true"},C3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},B3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.885ex",height:"6.757ex",role:"img",focusable:"false",viewBox:"0 -1720.9 7905.1 2986.6","aria-hidden":"true"},E3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},X3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.525ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 8188 2828.3","aria-hidden":"true"},S3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},F3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"57.948ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 25613 2828.3","aria-hidden":"true"},P3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},z3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"56.668ex",height:"6.757ex",role:"img",focusable:"false",viewBox:"0 -1720.9 25047.4 2986.6","aria-hidden":"true"},I3={class:"custom-block danger"},G3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.357ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 600 453","aria-hidden":"true"},J3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},q3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"62.882ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 27793.9 2399","aria-hidden":"true"},K3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},$3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"85.078ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 37604.7 2399","aria-hidden":"true"},Y3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},U3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-19.724ex"},xmlns:"http://www.w3.org/2000/svg",width:"102.078ex",height:"40.58ex",role:"img",focusable:"false",viewBox:"0 -9218.2 45118.4 17936.4","aria-hidden":"true"},W3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Q2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.992ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 14140.3 2828.3","aria-hidden":"true"},t2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},T2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"58.238ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 25741.1 2828.3","aria-hidden":"true"},a2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},l2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"59.964ex",height:"6.775ex",role:"img",focusable:"false",viewBox:"0 -1728.7 26504 2994.4","aria-hidden":"true"},e2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},m2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.152ex",height:"6.757ex",role:"img",focusable:"false",viewBox:"0 -1720.9 8465.2 2986.6","aria-hidden":"true"},s2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},d2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"23.672ex",height:"6.775ex",role:"img",focusable:"false",viewBox:"0 -1728.7 10463.1 2994.4","aria-hidden":"true"},o2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},n2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.705ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.427ex",height:"2.785ex",role:"img",focusable:"false",viewBox:"0 -919.3 16984.7 1230.8","aria-hidden":"true"},r2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},i2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"62.186ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 27486.2 2399","aria-hidden":"true"},h2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},g2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"63.403ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 28024 1337.5","aria-hidden":"true"},p2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},H2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"39.737ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 17563.7 1337.5","aria-hidden":"true"},c2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},u2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-12.29ex"},xmlns:"http://www.w3.org/2000/svg",width:"119.804ex",height:"25.71ex",role:"img",focusable:"false",viewBox:"0 -5932 52953.4 11363.9","aria-hidden":"true"},L2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},w2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"65.207ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 28821.4 1337.5","aria-hidden":"true"},f2={class:"custom-block danger"},y2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.486ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.183ex",height:"2.106ex",role:"img",focusable:"false",viewBox:"0 -716 6268.8 931","aria-hidden":"true"},k2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.934ex",height:"1.864ex",role:"img",focusable:"false",viewBox:"0 -666 2622.8 823.8","aria-hidden":"true"},Z2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.09ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.427ex",height:"1.622ex",role:"img",focusable:"false",viewBox:"0 -677 2398.6 717","aria-hidden":"true"},D2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"42.627ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 18841.1 1000","aria-hidden":"true"},j2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.427ex",height:"1.717ex",role:"img",focusable:"false",viewBox:"0 -677 2398.6 759","aria-hidden":"true"},A2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},R2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"40.989ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 18116.9 1000","aria-hidden":"true"},O2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-9.316ex"},xmlns:"http://www.w3.org/2000/svg",width:"139.18ex",height:"19.764ex",role:"img",focusable:"false",viewBox:"0 -4617.8 61517.6 8735.6","aria-hidden":"true"},C2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},B2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"40.182ex",height:"6.545ex",role:"img",focusable:"false",viewBox:"0 -1084 17760.3 2892.8","aria-hidden":"true"},E2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.489ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.85ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -694 5237.8 910","aria-hidden":"true"},S2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},F2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.906ex",height:"3.018ex",role:"img",focusable:"false",viewBox:"0 -1084 7030.3 1334","aria-hidden":"true"},P2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.334ex",height:"1.339ex",role:"img",focusable:"false",viewBox:"0 -442 1031.8 592","aria-hidden":"true"},I2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},G2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.444ex",height:"2.47ex",role:"img",focusable:"false",viewBox:"0 -841.7 3290.2 1091.7","aria-hidden":"true"},N2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},J2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.215ex",height:"2.47ex",role:"img",focusable:"false",viewBox:"0 -841.7 2747.2 1091.7","aria-hidden":"true"},q2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.738ex",height:"2.213ex",role:"img",focusable:"false",viewBox:"0 -683 2536.3 978","aria-hidden":"true"},$2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.738ex",height:"2.213ex",role:"img",focusable:"false",viewBox:"0 -683 2536.3 978","aria-hidden":"true"},U2={class:"custom-block danger"},W2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Q4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"20.702ex",height:"2.565ex",role:"img",focusable:"false",viewBox:"0 -883.9 9150.1 1133.9","aria-hidden":"true"},t4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},T4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"45.051ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 19912.6 1000","aria-hidden":"true"},a4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},l4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.576ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.73ex",height:"3.029ex",role:"img",focusable:"false",viewBox:"0 -1084 20654.8 1338.8","aria-hidden":"true"},e4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},m4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.832ex"},xmlns:"http://www.w3.org/2000/svg",width:"65.772ex",height:"12.795ex",role:"img",focusable:"false",viewBox:"0 -3077.7 29071.2 5655.3","aria-hidden":"true"},s4={class:"custom-block danger"},d4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},o4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},n4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.674ex",height:"1.595ex",role:"img",focusable:"false",viewBox:"0 -694 298 705","aria-hidden":"true"},i4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},h4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.915ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 14548.6 1000","aria-hidden":"true"},g4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},p4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"56.668ex",height:"6.757ex",role:"img",focusable:"false",viewBox:"0 -1720.9 25047.4 2986.6","aria-hidden":"true"},H4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},c4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"62.882ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 27793.9 2399","aria-hidden":"true"},u4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},L4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"85.078ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 37604.7 2399","aria-hidden":"true"},w4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},f4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.992ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 14140.3 2828.3","aria-hidden":"true"},y4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},x4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"58.238ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 25741.1 2828.3","aria-hidden":"true"},k4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},M4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.705ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.427ex",height:"2.785ex",role:"img",focusable:"false",viewBox:"0 -919.3 16984.7 1230.8","aria-hidden":"true"},Z4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},V4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"39.737ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 17563.7 1337.5","aria-hidden":"true"},D4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"65.207ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 28821.4 1337.5","aria-hidden":"true"},j4={class:"custom-block danger"},v4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},A4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.264ex"},xmlns:"http://www.w3.org/2000/svg",width:"39.841ex",height:"7.659ex",role:"img",focusable:"false",viewBox:"0 -1942.6 17609.9 3385.2","aria-hidden":"true"},R4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},O4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.266ex"},xmlns:"http://www.w3.org/2000/svg",width:"51.379ex",height:"7.663ex",role:"img",focusable:"false",viewBox:"0 -1943.4 22709.3 3386.9","aria-hidden":"true"},_4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},C4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.69ex"},xmlns:"http://www.w3.org/2000/svg",width:"59.885ex",height:"8.512ex",role:"img",focusable:"false",viewBox:"0 -2131.1 26469.3 3762.1","aria-hidden":"true"},B4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},E4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"54.897ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 24264.3 2431.6","aria-hidden":"true"},X4={class:"custom-block info"},S4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.773ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.433ex",height:"3.47ex",role:"img",focusable:"false",viewBox:"0 -750 7705.4 1533.6","aria-hidden":"true"},P4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.076ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3127.6 1000","aria-hidden":"true"},I4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},G4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"41.952ex",height:"6.354ex",role:"img",focusable:"false",viewBox:"0 -1562.5 18542.6 2808.5","aria-hidden":"true"},N4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},J4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.353ex"},xmlns:"http://www.w3.org/2000/svg",width:"61.207ex",height:"7.836ex",role:"img",focusable:"false",viewBox:"0 -1981.9 27053.3 3463.7","aria-hidden":"true"},q4={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},K4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.628ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 7791.4 1000","aria-hidden":"true"},$4={class:"custom-block warning"},Y4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},W4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Q6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},t6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.562ex",height:"1.332ex",role:"img",focusable:"false",viewBox:"0 -431 1574.4 588.8","aria-hidden":"true"},a6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.253ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1880 1000","aria-hidden":"true"},e6={class:"custom-block tip"},m6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},d6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},o6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.562ex",height:"1.332ex",role:"img",focusable:"false",viewBox:"0 -431 1574.4 588.8","aria-hidden":"true"},n6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.253ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1880 1000","aria-hidden":"true"},i6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},h6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.642ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.647ex",height:"10.415ex",role:"img",focusable:"false",viewBox:"0 -2551.7 19733.8 4603.4","aria-hidden":"true"},g6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.773ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.175ex",height:"3.47ex",role:"img",focusable:"false",viewBox:"0 -750 4939.5 1533.6","aria-hidden":"true"},H6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},u6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},w6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.082ex",height:"1.952ex",role:"img",focusable:"false",viewBox:"0 -705 920.4 862.8","aria-hidden":"true"},y6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},k6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.95ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1303.8 692.6","aria-hidden":"true"},Z6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.95ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1303.8 692.6","aria-hidden":"true"},D6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},j6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.118ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.847ex",height:"6.04ex",role:"img",focusable:"false",viewBox:"0 -849.5 16728.2 2669.8","aria-hidden":"true"},A6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},R6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.665ex",height:"2.289ex",role:"img",focusable:"false",viewBox:"0 -750 7365.8 1011.6","aria-hidden":"true"},O6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.516ex",height:"2.289ex",role:"img",focusable:"false",viewBox:"0 -750 5532.3 1011.6","aria-hidden":"true"},C6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.826ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 807.3 599.8","aria-hidden":"true"},E6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.005ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.328ex",height:"2.627ex",role:"img",focusable:"false",viewBox:"0 -717 5006.8 1161.2","aria-hidden":"true"},S6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.005ex",height:"1.645ex",role:"img",focusable:"false",viewBox:"0 -717 444 727","aria-hidden":"true"},P6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.489ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.459ex",height:"2.066ex",role:"img",focusable:"false",viewBox:"0 -697 3739.1 913","aria-hidden":"true"},I6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},G6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.489ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.616ex",height:"2.066ex",role:"img",focusable:"false",viewBox:"0 -697 1598.2 913","aria-hidden":"true"},N6={class:"custom-block info"},J6={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},q6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"69.488ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 30713.6 2431.6","aria-hidden":"true"},K6={class:"custom-block tip"},$6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},U6={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},W6={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.689ex",height:"1.74ex",role:"img",focusable:"false",viewBox:"0 -759 746.5 769","aria-hidden":"true"},Q5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.152ex",height:"2.283ex",role:"img",focusable:"false",viewBox:"0 -759 5371 1009","aria-hidden":"true"},T5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.452ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.012ex",height:"2.17ex",role:"img",focusable:"false",viewBox:"0 -759 2215.5 959","aria-hidden":"true"},l5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},e5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.452ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.406ex",height:"2.149ex",role:"img",focusable:"false",viewBox:"0 -750 2389.4 950","aria-hidden":"true"},m5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.806ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.751ex",height:"2.503ex",role:"img",focusable:"false",viewBox:"0 -750 14034.1 1106.2","aria-hidden":"true"},d5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},o5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.869ex"},xmlns:"http://www.w3.org/2000/svg",width:"48.807ex",height:"2.869ex",role:"img",focusable:"false",viewBox:"0 -884 21572.8 1267.9","aria-hidden":"true"},n5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},r5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"43.858ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 19385.4 1000","aria-hidden":"true"},i5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.782ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.028ex",height:"2.32ex",role:"img",focusable:"false",viewBox:"0 -680 3106.2 1025.5","aria-hidden":"true"},g5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.672ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 1180.8 588.1","aria-hidden":"true"},H5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},u5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},L5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.782ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.17ex",height:"2.32ex",role:"img",focusable:"false",viewBox:"0 -680 7589 1025.5","aria-hidden":"true"},w5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},y5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},x5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.738ex"},xmlns:"http://www.w3.org/2000/svg",width:"50.054ex",height:"4.774ex",role:"img",focusable:"false",viewBox:"0 -1342 22123.7 2110","aria-hidden":"true"},k5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},Z5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.672ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 1180.8 588.1","aria-hidden":"true"},D5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"55.048ex",height:"5.475ex",role:"img",focusable:"false",viewBox:"0 -1460 24331.1 2420","aria-hidden":"true"},j5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.049ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.595ex",height:"7.229ex",role:"img",focusable:"false",viewBox:"0 -1847.5 19711.2 3195.1","aria-hidden":"true"},A5={class:"custom-block tip"},R5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.253ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1880 1000","aria-hidden":"true"},_5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},C5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-7.341ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.57ex",height:"15.814ex",role:"img",focusable:"false",viewBox:"0 -3744.9 20584 6989.8","aria-hidden":"true"},B5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.9ex",height:"2.283ex",role:"img",focusable:"false",viewBox:"0 -759 5259.9 1009","aria-hidden":"true"},X5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},S5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-15.681ex"},xmlns:"http://www.w3.org/2000/svg",width:"76.145ex",height:"32.492ex",role:"img",focusable:"false",viewBox:"0 -7430.8 33656 14361.6","aria-hidden":"true"},F5={class:"custom-block tip"},P5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},z5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.915ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 14548.6 1000","aria-hidden":"true"},I5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},G5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.992ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 14140.3 2828.3","aria-hidden":"true"},N5={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},J5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"56.98ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 25185.1 2828.3","aria-hidden":"true"},q5={class:"custom-block info"},K5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},Y5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U5={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},W5={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Q0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.42ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2395.6 1000","aria-hidden":"true"},t0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.42ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2395.6 1000","aria-hidden":"true"},a0={class:"custom-block note"},l0={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},e0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"54.897ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 24264.3 2431.6","aria-hidden":"true"},m0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},d0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},o0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},n0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.475ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.507ex",height:"3.844ex",role:"img",focusable:"false",viewBox:"0 -1047.1 3760 1699.2","aria-hidden":"true"},i0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.475ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.507ex",height:"3.844ex",role:"img",focusable:"false",viewBox:"0 -1047.1 3760 1699.2","aria-hidden":"true"},g0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.045ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.61ex",height:"3.445ex",role:"img",focusable:"false",viewBox:"0 -1060.7 6899.5 1522.8","aria-hidden":"true"},H0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.662ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 4270.7 1000","aria-hidden":"true"},u0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.895ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5257.6 1000","aria-hidden":"true"},w0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},y0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},k0={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},M0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"35.554ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 15714.7 2431.6","aria-hidden":"true"},Z0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},D0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},j0={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"84.405ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 37306.8 2399","aria-hidden":"true"},A0={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},R0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.912ex"},xmlns:"http://www.w3.org/2000/svg",width:"93.525ex",height:"6.215ex",role:"img",focusable:"false",viewBox:"0 -1460 41338.2 2747.2","aria-hidden":"true"},O0={class:"custom-block note"},_0={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},C0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.769ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.448ex",height:"2.896ex",role:"img",focusable:"false",viewBox:"0 -940.1 16994 1279.9","aria-hidden":"true"},B0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.632ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 6467.3 1000","aria-hidden":"true"},X0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.281ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 566 899","aria-hidden":"true"},F0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.359ex",height:"2.289ex",role:"img",focusable:"false",viewBox:"0 -750 9440.6 1011.6","aria-hidden":"true"},z0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},G0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.281ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 566 899","aria-hidden":"true"},J0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},q0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.048ex",height:"2.289ex",role:"img",focusable:"false",viewBox:"0 -750 9303.4 1011.6","aria-hidden":"true"},K0={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.281ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 566 899","aria-hidden":"true"},Y0={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},U0={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"54.897ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 24264.3 2431.6","aria-hidden":"true"},W0={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Q7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"85.136ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 37630.1 2431.6","aria-hidden":"true"},t7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},T7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"66.8ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 29525.6 2431.6","aria-hidden":"true"},a7={class:"custom-block info"},l7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},e7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"48.965ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 21642.7 2431.6","aria-hidden":"true"},m7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},s7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"69.488ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 30713.6 2431.6","aria-hidden":"true"},d7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},o7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"84.405ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 37306.8 2399","aria-hidden":"true"},n7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},r7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.912ex"},xmlns:"http://www.w3.org/2000/svg",width:"93.525ex",height:"6.215ex",role:"img",focusable:"false",viewBox:"0 -1460 41338.2 2747.2","aria-hidden":"true"},i7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},h7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"94.928ex",height:"7.044ex",role:"img",focusable:"false",viewBox:"0 -1867.4 41958.2 3113.3","aria-hidden":"true"},g7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},p7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-6.345ex"},xmlns:"http://www.w3.org/2000/svg",width:"99.809ex",height:"10.57ex",role:"img",focusable:"false",viewBox:"0 -1867.4 44115.7 4672.1","aria-hidden":"true"},H7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},c7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"66.8ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 29525.6 2431.6","aria-hidden":"true"},u7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},L7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"85.136ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 37630.1 2431.6","aria-hidden":"true"},w7={class:"custom-block note"},f7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},y7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.889ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 8790.7 2431.6","aria-hidden":"true"},x7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},k7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.854ex",height:"2.713ex",role:"img",focusable:"false",viewBox:"0 -849.5 14079.4 1199","aria-hidden":"true"},M7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Z7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"90.879ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 40168.5 2431.6","aria-hidden":"true"},V7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},D7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-6.345ex"},xmlns:"http://www.w3.org/2000/svg",width:"99.809ex",height:"10.57ex",role:"img",focusable:"false",viewBox:"0 -1867.4 44115.7 4672.1","aria-hidden":"true"},b7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},j7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.61ex",height:"1.977ex",role:"img",focusable:"false",viewBox:"0 -716 2921.8 873.8","aria-hidden":"true"},v7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},A7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.327ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.816ex",height:"5.785ex",role:"img",focusable:"false",viewBox:"0 -1528.4 20692.7 2556.9","aria-hidden":"true"},R7={class:"custom-block note"},O7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.5ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -705 11713 1000","aria-hidden":"true"},C7={class:"custom-block note"},B7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.824ex",height:"1.642ex",role:"img",focusable:"false",viewBox:"0 -431 1690.3 726","aria-hidden":"true"},X7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},F7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},P7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.811ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.073ex",height:"2.508ex",role:"img",focusable:"false",viewBox:"0 -750 11524.2 1108.6","aria-hidden":"true"},z7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},I7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.256ex"},xmlns:"http://www.w3.org/2000/svg",width:"62.252ex",height:"5.661ex",role:"img",focusable:"false",viewBox:"0 -1505 27515.2 2502.1","aria-hidden":"true"},G7={class:"custom-block note"},N7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},J7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"64.534ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 28523.9 1000","aria-hidden":"true"},q7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.666ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.966ex",height:"1.985ex",role:"img",focusable:"false",viewBox:"0 -583 9709 877.2","aria-hidden":"true"},$7={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.466ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.029ex",height:"2.036ex",role:"img",focusable:"false",viewBox:"0 -694 2222.7 900","aria-hidden":"true"},U7={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},W7={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.748ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 17126.5 2399","aria-hidden":"true"},Q8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},t8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"40.626ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 17956.9 2399","aria-hidden":"true"},T8={class:"custom-block note"},a8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.334ex",height:"1.339ex",role:"img",focusable:"false",viewBox:"0 -442 1031.8 592","aria-hidden":"true"},e8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.334ex",height:"1.339ex",role:"img",focusable:"false",viewBox:"0 -442 1031.8 592","aria-hidden":"true"},s8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},d8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.449ex",height:"2.364ex",role:"img",focusable:"false",viewBox:"0 -750 5502.6 1045","aria-hidden":"true"},o8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},n8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.747ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 16684.4 2399","aria-hidden":"true"},r8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},i8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"61.838ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 27332.5 2465","aria-hidden":"true"},h8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.334ex",height:"1.339ex",role:"img",focusable:"false",viewBox:"0 -442 1031.8 592","aria-hidden":"true"},p8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},H8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.786ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 789.3 599.8","aria-hidden":"true"},c8={class:"custom-block note"},u8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},L8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"35.657ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 15760.4 2465","aria-hidden":"true"},w8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},f8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"61.838ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 27332.5 2465","aria-hidden":"true"},y8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},x8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.403ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 16974.1 2465","aria-hidden":"true"},k8={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},M8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"52.119ex",height:"2.713ex",role:"img",focusable:"false",viewBox:"0 -849.5 23036.7 1199","aria-hidden":"true"},Z8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.334ex",height:"1.339ex",role:"img",focusable:"false",viewBox:"0 -442 1031.8 592","aria-hidden":"true"},D8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.786ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 789.3 599.8","aria-hidden":"true"},j8={class:"custom-block important"},v8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.561ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2016 1000","aria-hidden":"true"},R8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.561ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2016 1000","aria-hidden":"true"},_8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},C8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.023ex",role:"img",focusable:"false",viewBox:"0 -442 469 452","aria-hidden":"true"},B8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.826ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 807.3 599.8","aria-hidden":"true"},X8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.786ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 789.3 599.8","aria-hidden":"true"},F8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},z8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.334ex",height:"1.339ex",role:"img",focusable:"false",viewBox:"0 -442 1031.8 592","aria-hidden":"true"},G8={class:"custom-block important"},N8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},J8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.023ex",role:"img",focusable:"false",viewBox:"0 -442 469 452","aria-hidden":"true"},q8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.826ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 807.3 599.8","aria-hidden":"true"},$8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.282ex",height:"2.364ex",role:"img",focusable:"false",viewBox:"0 -750 2334.4 1045","aria-hidden":"true"},U8={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},W8={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.844ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2582.9 1000","aria-hidden":"true"},Q9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.326ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2354.3 1000","aria-hidden":"true"},T9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.848ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3468.9 1000","aria-hidden":"true"},l9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},e9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},m9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.826ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 807.3 599.8","aria-hidden":"true"},d9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},o9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.348ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -694 596 899","aria-hidden":"true"},n9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.689ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2514.4 978.7","aria-hidden":"true"},i9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},g9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.483ex",height:"1.902ex",role:"img",focusable:"false",viewBox:"0 -683 1097.3 840.8","aria-hidden":"true"},H9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},u9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.178ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3172.6 1000","aria-hidden":"true"},w9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.826ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 807.3 599.8","aria-hidden":"true"},y9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.178ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3172.6 1000","aria-hidden":"true"},k9={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},M9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"29.432ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 13009 1000","aria-hidden":"true"},Z9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.471ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.83ex",height:"1.471ex",role:"img",focusable:"false",viewBox:"0 -442 1692.9 650","aria-hidden":"true"},D9={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.992ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 14140.3 2828.3","aria-hidden":"true"},j9={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.705ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.427ex",height:"2.785ex",role:"img",focusable:"false",viewBox:"0 -919.3 16984.7 1230.8","aria-hidden":"true"},A9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},R9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.178ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3172.6 1000","aria-hidden":"true"},O9={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"35.326ex",height:"3.069ex",role:"img",focusable:"false",viewBox:"0 -1060.7 15614.1 1356.4","aria-hidden":"true"},C9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.083ex",height:"2.713ex",role:"img",focusable:"false",viewBox:"0 -849.5 5340.6 1199","aria-hidden":"true"},E9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.826ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 807.3 599.8","aria-hidden":"true"},S9={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.047ex",height:"2.364ex",role:"img",focusable:"false",viewBox:"0 -750 2672.7 1045","aria-hidden":"true"},P9={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},z9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.191ex",height:"5.876ex",role:"img",focusable:"false",viewBox:"0 -1647.5 12460.6 2597","aria-hidden":"true"},I9={class:"custom-block danger"},G9={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},N9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"27.988ex",height:"5.876ex",role:"img",focusable:"false",viewBox:"0 -1647.5 12370.8 2597","aria-hidden":"true"},J9={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},q9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"35.217ex",height:"6.74ex",role:"img",focusable:"false",viewBox:"0 -1733 15565.9 2978.9","aria-hidden":"true"},K9={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},$9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.074ex",height:"5.789ex",role:"img",focusable:"false",viewBox:"0 -750 12408.9 2558.8","aria-hidden":"true"},Y9={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},U9={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.196ex"},xmlns:"http://www.w3.org/2000/svg",width:"29.993ex",height:"7.923ex",role:"img",focusable:"false",viewBox:"0 -1647.5 13256.8 3501.9","aria-hidden":"true"},W9={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},QQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.032ex",height:"7.82ex",role:"img",focusable:"false",viewBox:"0 -1647.5 11506.1 3456.2","aria-hidden":"true"},tQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},TQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},aQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},lQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.483ex",height:"1.902ex",role:"img",focusable:"false",viewBox:"0 -683 1097.3 840.8","aria-hidden":"true"},eQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},mQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},sQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},dQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.583ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 13517.8 1000","aria-hidden":"true"},oQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},nQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"41.8ex",height:"5.789ex",role:"img",focusable:"false",viewBox:"0 -750 18475.8 2558.8","aria-hidden":"true"},rQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},iQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.501ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 12597.4 2828.3","aria-hidden":"true"},hQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},gQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},pQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},HQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"65.944ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 29147.2 1000","aria-hidden":"true"},cQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},uQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.555ex",height:"2.032ex",role:"img",focusable:"false",viewBox:"0 -704 1129.3 898","aria-hidden":"true"},LQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},wQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.835ex",height:"2.749ex",role:"img",focusable:"false",viewBox:"0 -919.3 14071.2 1215","aria-hidden":"true"},fQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},yQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.178ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3172.6 1000","aria-hidden":"true"},xQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},kQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.626ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.61ex",height:"3.026ex",role:"img",focusable:"false",viewBox:"0 -1060.7 6899.5 1337.5","aria-hidden":"true"},MQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ZQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.591ex",height:"1.902ex",role:"img",focusable:"false",viewBox:"0 -683 1587.4 840.8","aria-hidden":"true"},VQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},DQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},bQ={class:"custom-block danger"},jQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},vQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.074ex",height:"5.789ex",role:"img",focusable:"false",viewBox:"0 -750 12408.9 2558.8","aria-hidden":"true"},AQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},RQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.196ex"},xmlns:"http://www.w3.org/2000/svg",width:"29.993ex",height:"7.923ex",role:"img",focusable:"false",viewBox:"0 -1647.5 13256.8 3501.9","aria-hidden":"true"},OQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_Q={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.032ex",height:"7.82ex",role:"img",focusable:"false",viewBox:"0 -1647.5 11506.1 3456.2","aria-hidden":"true"},CQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},BQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},EQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},XQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.483ex",height:"1.902ex",role:"img",focusable:"false",viewBox:"0 -683 1097.3 840.8","aria-hidden":"true"},SQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},FQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.848ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3468.9 1000","aria-hidden":"true"},PQ={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},zQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.047ex",height:"2.364ex",role:"img",focusable:"false",viewBox:"0 -750 2672.7 1045","aria-hidden":"true"},IQ={class:"custom-block danger"},GQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},NQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.671ex"},xmlns:"http://www.w3.org/2000/svg",width:"65.282ex",height:"6.474ex",role:"img",focusable:"false",viewBox:"0 -1680.8 28854.4 2861.5","aria-hidden":"true"},JQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},qQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.705ex"},xmlns:"http://www.w3.org/2000/svg",width:"63.648ex",height:"2.785ex",role:"img",focusable:"false",viewBox:"0 -919.3 28132.2 1230.8","aria-hidden":"true"},KQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},$Q={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.449ex"},xmlns:"http://www.w3.org/2000/svg",width:"75.362ex",height:"10.029ex",role:"img",focusable:"false",viewBox:"0 -2466.3 33309.8 4432.6","aria-hidden":"true"},YQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},UQ={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.705ex"},xmlns:"http://www.w3.org/2000/svg",width:"53.84ex",height:"2.785ex",role:"img",focusable:"false",viewBox:"0 -919.3 23797.4 1230.8","aria-hidden":"true"},WQ={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Qt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-6.854ex"},xmlns:"http://www.w3.org/2000/svg",width:"66.789ex",height:"14.838ex",role:"img",focusable:"false",viewBox:"0 -3529.3 29520.9 6558.5","aria-hidden":"true"},tt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Tt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.463ex"},xmlns:"http://www.w3.org/2000/svg",width:"66.789ex",height:"8.058ex",role:"img",focusable:"false",viewBox:"0 -2030.8 29520.9 3561.6","aria-hidden":"true"},at={class:"custom-block danger"},lt={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},et={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.919ex",height:"1ex",role:"img",focusable:"false",viewBox:"0 -431 406 442","aria-hidden":"true"},mt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},st={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"49.619ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 21931.6 2399","aria-hidden":"true"},dt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},ot={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"33.287ex",height:"5.876ex",role:"img",focusable:"false",viewBox:"0 -1647.5 14712.7 2597","aria-hidden":"true"},nt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},rt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"33.635ex",height:"5.876ex",role:"img",focusable:"false",viewBox:"0 -1647.5 14866.9 2597","aria-hidden":"true"},it={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},ht={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.475ex",height:"2.347ex",role:"img",focusable:"false",viewBox:"0 -750 13469.9 1037.2","aria-hidden":"true"},gt={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},pt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.227ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3194.5 1000","aria-hidden":"true"},Ht={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},ct={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"25.219ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 11146.6 2399","aria-hidden":"true"},ut={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Lt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.944ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3511.3 1000","aria-hidden":"true"},wt={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ft={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.227ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3194.5 1000","aria-hidden":"true"},yt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},xt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.946ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 6164.2 1000","aria-hidden":"true"},kt={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Mt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.669ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.756ex",height:"2.214ex",role:"img",focusable:"false",viewBox:"0 -683 2986 978.7","aria-hidden":"true"},Zt={class:"custom-block info"},Vt={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Dt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},bt={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},jt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},vt={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},At={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},Rt={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Ot={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},_t={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Ct={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},Bt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Et={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.198ex"},xmlns:"http://www.w3.org/2000/svg",width:"43.372ex",height:"5.501ex",role:"img",focusable:"false",viewBox:"0 -1460 19170.6 2431.6","aria-hidden":"true"},Xt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},St={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.929ex",height:"6.014ex",role:"img",focusable:"false",viewBox:"0 -849.5 20742.6 2658.3","aria-hidden":"true"},Ft={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Pt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.725ex"},xmlns:"http://www.w3.org/2000/svg",width:"62.898ex",height:"9.028ex",role:"img",focusable:"false",viewBox:"0 -1460 27801 3990.3","aria-hidden":"true"},zt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},It={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.725ex"},xmlns:"http://www.w3.org/2000/svg",width:"64.314ex",height:"9.028ex",role:"img",focusable:"false",viewBox:"0 -1460 28427 3990.3","aria-hidden":"true"},Gt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Nt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.725ex"},xmlns:"http://www.w3.org/2000/svg",width:"45.755ex",height:"9.028ex",role:"img",focusable:"false",viewBox:"0 -1460 20223.5 3990.3","aria-hidden":"true"},Jt={class:"custom-block note"},qt={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Kt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.915ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 14548.6 1000","aria-hidden":"true"},$t={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Yt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.992ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 14140.3 2828.3","aria-hidden":"true"},Ut={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Wt={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"56.98ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 25185.1 2828.3","aria-hidden":"true"},QT={class:"custom-block note"},tT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},TT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.049ex",height:"1.909ex",role:"img",focusable:"false",viewBox:"0 -833.9 905.6 843.9","aria-hidden":"true"},aT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},lT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.082ex",height:"1.954ex",role:"img",focusable:"false",viewBox:"0 -853.7 920.4 863.7","aria-hidden":"true"},eT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},mT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.024ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2220.7 1000","aria-hidden":"true"},sT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},dT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.082ex",height:"1.954ex",role:"img",focusable:"false",viewBox:"0 -853.7 920.4 863.7","aria-hidden":"true"},oT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},nT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.698ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 4728.4 1000","aria-hidden":"true"},rT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},iT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},hT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},gT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.706ex",height:"2.95ex",role:"img",focusable:"false",viewBox:"0 -1016.7 14013.8 1304.1","aria-hidden":"true"},pT={class:"custom-block note"},HT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},cT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"25.265ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 11166.9 1000","aria-hidden":"true"},uT={class:"custom-block tip"},LT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},wT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},fT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},yT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.109ex",height:"1.464ex",role:"img",focusable:"false",viewBox:"0 -442 490 647","aria-hidden":"true"},xT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},kT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},MT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ZT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.824ex",height:"1.642ex",role:"img",focusable:"false",viewBox:"0 -431 1690.3 726","aria-hidden":"true"},VT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},DT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.685ex",height:"1.642ex",role:"img",focusable:"false",viewBox:"0 -431 1628.8 726","aria-hidden":"true"},bT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},jT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"59.196ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 26164.7 2399","aria-hidden":"true"},vT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},AT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"52.119ex",height:"2.713ex",role:"img",focusable:"false",viewBox:"0 -849.5 23036.7 1199","aria-hidden":"true"},RT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},OT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"43.776ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 19349.1 2399","aria-hidden":"true"},_T={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},CT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"59.196ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 26164.7 2399","aria-hidden":"true"},BT={class:"custom-block tip"},ET={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},XT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.542ex",height:"5.208ex",role:"img",focusable:"false",viewBox:"0 -1342 19687.8 2302","aria-hidden":"true"},ST={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},FT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.69ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2073 1000","aria-hidden":"true"},PT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},zT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.93ex"},xmlns:"http://www.w3.org/2000/svg",width:"35.973ex",height:"5.966ex",role:"img",focusable:"false",viewBox:"0 -1342 15900.1 2637","aria-hidden":"true"},IT={class:"custom-block tip"},GT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},NT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-16.397ex"},xmlns:"http://www.w3.org/2000/svg",width:"72.688ex",height:"33.925ex",role:"img",focusable:"false",viewBox:"0 -7747.5 32128.2 14995","aria-hidden":"true"},JT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},qT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.69ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2073 1000","aria-hidden":"true"},KT={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$T={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.326ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3680.1 1000","aria-hidden":"true"},YT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},UT={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.93ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.723ex",height:"5.079ex",role:"img",focusable:"false",viewBox:"0 -950 13579.6 2245","aria-hidden":"true"},WT={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Qa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.71ex",height:"5.901ex",role:"img",focusable:"false",viewBox:"0 -1648.3 14016 2608.3","aria-hidden":"true"},ta={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Ta={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-11.736ex"},xmlns:"http://www.w3.org/2000/svg",width:"53.172ex",height:"24.604ex",role:"img",focusable:"false",viewBox:"0 -5687.5 23502.1 10874.9","aria-hidden":"true"},aa={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},la={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.326ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3680.1 1000","aria-hidden":"true"},ea={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},ma={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.71ex",height:"5.901ex",role:"img",focusable:"false",viewBox:"0 -1648.3 14016 2608.3","aria-hidden":"true"},sa={class:"custom-block tip"},da={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},oa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.326ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3680.1 1000","aria-hidden":"true"},na={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ra={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.331ex",height:"2.364ex",role:"img",focusable:"false",viewBox:"0 -750 3240.1 1045","aria-hidden":"true"},ia={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},ha={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.074ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 12408.9 2465","aria-hidden":"true"},ga={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},pa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"33.724ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 14906.1 2465","aria-hidden":"true"},Ha={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},ca={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"41.039ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 18139.2 2465","aria-hidden":"true"},ua={class:"custom-block tip"},La={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},wa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-10.064ex"},xmlns:"http://www.w3.org/2000/svg",width:"91.342ex",height:"21.26ex",role:"img",focusable:"false",viewBox:"0 -4948.5 40373 9397","aria-hidden":"true"},fa={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},ya={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.375ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.546ex",height:"1.92ex",role:"img",focusable:"false",viewBox:"0 -683 5545.5 848.6","aria-hidden":"true"},xa={class:"custom-block tip"},ka={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Ma={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.796ex",height:"1.414ex",role:"img",focusable:"false",viewBox:"0 -431 3003.7 625","aria-hidden":"true"},Za={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Va={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},Da={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ba={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.824ex",height:"1.642ex",role:"img",focusable:"false",viewBox:"0 -431 1690.3 726","aria-hidden":"true"},ja={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},va={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"41.039ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 18139.2 2465","aria-hidden":"true"},Aa={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Ra={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.442ex",height:"1.464ex",role:"img",focusable:"false",viewBox:"0 -442 1079.3 647","aria-hidden":"true"},Oa={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_a={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.773ex",height:"1.464ex",role:"img",focusable:"false",viewBox:"0 -442 783.7 647","aria-hidden":"true"},Ca={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Ba={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.31ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5883.1 1000","aria-hidden":"true"},Ea={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Xa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-7.123ex"},xmlns:"http://www.w3.org/2000/svg",width:"90.131ex",height:"15.378ex",role:"img",focusable:"false",viewBox:"0 -3648.5 39837.8 6797","aria-hidden":"true"},Sa={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Fa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.466ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.029ex",height:"2.036ex",role:"img",focusable:"false",viewBox:"0 -694 2222.7 900","aria-hidden":"true"},Pa={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},za={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"82.965ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 36670.4 2465","aria-hidden":"true"},Ia={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Ga={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"51.975ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 22972.8 2465","aria-hidden":"true"},Na={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Ja={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-8.481ex"},xmlns:"http://www.w3.org/2000/svg",width:"98.024ex",height:"18.093ex",role:"img",focusable:"false",viewBox:"0 -4248.5 43326.6 7997","aria-hidden":"true"},qa={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Ka={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"47.903ex",height:"5.679ex",role:"img",focusable:"false",viewBox:"0 -1505 21173.1 2509.9","aria-hidden":"true"},$a={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Ya={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.816ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.988ex",height:"2.773ex",role:"img",focusable:"false",viewBox:"0 -864.9 3530.8 1225.5","aria-hidden":"true"},Ua={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Wa={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.816ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.188ex",height:"2.773ex",role:"img",focusable:"false",viewBox:"0 -864.9 3177.2 1225.5","aria-hidden":"true"},Ql={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},tl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.602ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.803ex",height:"4.638ex",role:"img",focusable:"false",viewBox:"0 -1342 14056.7 2050","aria-hidden":"true"},Tl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},al={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.683ex"},xmlns:"http://www.w3.org/2000/svg",width:"98.197ex",height:"8.962ex",role:"img",focusable:"false",viewBox:"0 -1449.5 43403.1 3961.3","aria-hidden":"true"},ll={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},el={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"27.196ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 12020.8 2465","aria-hidden":"true"},ml={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},sl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},dl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ol={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.526ex",height:"1.986ex",role:"img",focusable:"false",viewBox:"0 -583 4652.7 878","aria-hidden":"true"},nl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},rl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.281ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 566 899","aria-hidden":"true"},il={class:"custom-block warning"},hl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},gl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"47.903ex",height:"5.679ex",role:"img",focusable:"false",viewBox:"0 -1505 21173.1 2509.9","aria-hidden":"true"},pl={class:"custom-block danger"},Hl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},cl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"94.928ex",height:"7.044ex",role:"img",focusable:"false",viewBox:"0 -1867.4 41958.2 3113.3","aria-hidden":"true"},ul={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Ll={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.463ex"},xmlns:"http://www.w3.org/2000/svg",width:"66.789ex",height:"8.058ex",role:"img",focusable:"false",viewBox:"0 -2030.8 29520.9 3561.6","aria-hidden":"true"},wl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},fl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.274ex"},xmlns:"http://www.w3.org/2000/svg",width:"57.792ex",height:"5.577ex",role:"img",focusable:"false",viewBox:"0 -1460 25543.9 2465","aria-hidden":"true"},yl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},xl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.462ex",height:"1.977ex",role:"img",focusable:"false",viewBox:"0 -716 1088.3 873.8","aria-hidden":"true"},kl={class:"custom-block note"},Ml={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Zl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"48.815ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 21576.3 1000","aria-hidden":"true"},Vl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Dl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.241ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 7620.7 1000","aria-hidden":"true"},bl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},jl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.837ex",height:"1.355ex",role:"img",focusable:"false",viewBox:"0 -441 812 598.8","aria-hidden":"true"},vl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Al={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.4ex",height:"5.475ex",role:"img",focusable:"false",viewBox:"0 -1460 13436.9 2420","aria-hidden":"true"},Rl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Ol={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.459ex",height:"3.102ex",role:"img",focusable:"false",viewBox:"0 -1084 1528.8 1371.2","aria-hidden":"true"},_l={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Cl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.56ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.233ex",height:"1.558ex",role:"img",focusable:"false",viewBox:"0 -441 1871.2 688.6","aria-hidden":"true"},Bl={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},El={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.339ex",height:"5.475ex",role:"img",focusable:"false",viewBox:"0 -1460 13409.8 2420","aria-hidden":"true"},Xl={class:"custom-block danger"},Sl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Fl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},Pl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},zl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.811ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.02ex",height:"1.786ex",role:"img",focusable:"false",viewBox:"0 -431 1776.8 789.6","aria-hidden":"true"},Il={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Gl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.786ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 789.3 599.8","aria-hidden":"true"},Nl={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Jl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.737ex",height:"2.599ex",role:"img",focusable:"false",viewBox:"0 -853.7 13585.7 1148.7","aria-hidden":"true"},ql={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Kl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"134.898ex",height:"7.044ex",role:"img",focusable:"false",viewBox:"0 -1867.4 59625 3113.3","aria-hidden":"true"},$l={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Yl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-6.345ex"},xmlns:"http://www.w3.org/2000/svg",width:"97.096ex",height:"10.57ex",role:"img",focusable:"false",viewBox:"0 -1867.4 42916.5 4672.1","aria-hidden":"true"},Ul={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Wl={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.256ex"},xmlns:"http://www.w3.org/2000/svg",width:"62.252ex",height:"5.661ex",role:"img",focusable:"false",viewBox:"0 -1505 27515.2 2502.1","aria-hidden":"true"},Qe={class:"custom-block tip"},te={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Te={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},ae={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},le={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.29ex",height:"1.593ex",role:"img",focusable:"false",viewBox:"0 -693 570 704","aria-hidden":"true"},ee={class:"custom-block tip"},me={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},se={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.834ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1694.8 692.6","aria-hidden":"true"},de={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},oe={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.29ex",height:"1.593ex",role:"img",focusable:"false",viewBox:"0 -693 570 704","aria-hidden":"true"},ne={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},re={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.561ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2016 1000","aria-hidden":"true"},ie={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},he={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.561ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2016 1000","aria-hidden":"true"},ge={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},pe={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.459ex",height:"3.102ex",role:"img",focusable:"false",viewBox:"0 -1084 1528.8 1371.2","aria-hidden":"true"};function He(ce,t,ue,Le,we,fe){return e(),l("div",null,[t[1801]||(t[1801]=a("",3)),Q("div",d,[t[34]||(t[34]=Q("div",{class:"custom-block-title"},"重要性采样",-1)),t[35]||(t[35]=Q("p",null,[Q("strong",null,"问题定义")],-1)),Q("ul",null,[Q("li",null,[t[6]||(t[6]=T("函数")),Q("mjx-container",o,[(e(),l("svg",n,t[0]||(t[0]=[a("",1)]))),t[1]||(t[1]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])],-1))]),t[7]||(t[7]=T("，需")),Q("strong",null,[t[4]||(t[4]=T("从分布")),Q("mjx-container",r,[(e(),l("svg",i,t[2]||(t[2]=[a("",1)]))),t[3]||(t[3]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])],-1))]),t[5]||(t[5]=T("中采样"))]),t[8]||(t[8]=T("，来")),t[9]||(t[9]=Q("code",null,"计算期望值",-1))]),Q("li",null,[t[14]||(t[14]=T("但现在")),Q("em",null,[t[12]||(t[12]=T("很难从")),Q("mjx-container",h,[(e(),l("svg",g,t[10]||(t[10]=[a("",1)]))),t[11]||(t[11]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])],-1))]),t[13]||(t[13]=T("中采样"))])])]),t[36]||(t[36]=Q("p",null,[Q("strong",null,"方法")],-1)),Q("ul",null,[Q("li",null,[Q("strong",null,[t[17]||(t[17]=T("从另一个分布")),Q("mjx-container",p,[(e(),l("svg",H,t[15]||(t[15]=[a("",1)]))),t[16]||(t[16]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"q"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])],-1))]),t[18]||(t[18]=T("中采样"))]),t[23]||(t[23]=T("(容易)，")),Q("strong",null,[t[21]||(t[21]=T("间接达到从")),Q("mjx-container",c,[(e(),l("svg",u,t[19]||(t[19]=[a("",1)]))),t[20]||(t[20]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])],-1))]),t[22]||(t[22]=T("中采样的效果"))])])]),Q("mjx-container",L,[(e(),l("svg",w,t[24]||(t[24]=[a("",1)]))),t[25]||(t[25]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])]),Q("mtd",null,[Q("mo",null,"="),Q("mo",{"data-mjx-texclass":"OP"},"∫"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")"),Q("mtext",null," "),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"d")]),Q("mi",null,"x")])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mo",{"data-mjx-texclass":"OP"},"∫"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"q"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("mi",null,"q"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")"),Q("mtext",null," "),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"d")]),Q("mi",null,"x")])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"q"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("mi",null,"q"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])])])])],-1))]),t[37]||(t[37]=Q("ul",null,[Q("li",null,"总结")],-1)),Q("mjx-container",f,[(e(),l("svg",y,t[26]||(t[26]=[a("",1)]))),t[27]||(t[27]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"p")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"q")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("mi",null,"q"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"N")]),Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i")])])]),Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("mi",null,"q"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")")])])]),Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"x"),Q("mi",null,"i")]),Q("mo",{stretchy:"false"},")")])],-1))]),Q("ul",null,[Q("li",null,[Q("p",null,[Q("mjx-container",x,[(e(),l("svg",k,t[28]||(t[28]=[a("",1)]))),t[29]||(t[29]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("mi",null,"q"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])])])],-1))]),t[30]||(t[30]=T("：")),t[31]||(t[31]=Q("strong",null,"重要性权重",-1))]),t[32]||(t[32]=Q("ul",null,[Q("li",null,[Q("code",null,"用来修正采样的偏差"),T("，即两个分布之间的"),Q("code",null,"差异")])],-1))]),t[33]||(t[33]=Q("li",null,[Q("p",null,[Q("strong",null,"重要性采样"),T("也是一种"),Q("code",null,"特殊的MC采样")]),Q("ul",null,[Q("li",null,[T("允许"),Q("strong",null,"从简单分布采样"),T("，"),Q("em",null,"避免直接从困难分布采样"),T("的问题。")])])],-1))])]),t[1802]||(t[1802]=Q("h4",{id:"重要性采样的缺点",tabindex:"-1"},[T("重要性采样的缺点 "),Q("a",{class:"header-anchor",href:"#重要性采样的缺点","aria-label":'Permalink to "重要性采样的缺点"'},"​")],-1)),Q("div",M,[t[104]||(t[104]=Q("div",{class:"custom-block-title"},"重要性采样缺点",-1)),t[105]||(t[105]=Q("p",null,[Q("strong",null,"缺点")],-1)),Q("ul",null,[Q("li",null,[Q("strong",null,[Q("mjx-container",Z,[(e(),l("svg",V,t[38]||(t[38]=[a("",1)]))),t[39]||(t[39]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"q"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])],-1))]),t[42]||(t[42]=T("和")),Q("mjx-container",D,[(e(),l("svg",b,t[40]||(t[40]=[a("",1)]))),t[41]||(t[41]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])],-1))]),t[43]||(t[43]=T("差异较大时"))]),t[58]||(t[58]=T("，")),t[59]||(t[59]=Q("code",null,"方差很大",-1)),t[60]||(t[60]=T("，尽管期望相同。 ")),Q("ul",null,[Q("li",null,[Q("mjx-container",j,[(e(),l("svg",v,t[44]||(t[44]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D45E",d:"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z",style:{"stroke-width":"3"}})])])],-1)]))),t[45]||(t[45]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"q")])],-1))]),t[53]||(t[53]=T("越接近")),Q("mjx-container",A,[(e(),l("svg",R,t[46]||(t[46]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D45D",d:"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z",style:{"stroke-width":"3"}})])])],-1)]))),t[47]||(t[47]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"p")])],-1))]),t[54]||(t[54]=T("，")),t[55]||(t[55]=Q("strong",null,"方差越小",-1)),t[56]||(t[56]=T("；")),Q("strong",null,[Q("mjx-container",O,[(e(),l("svg",_,t[48]||(t[48]=[a("",1)]))),t[49]||(t[49]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"q"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])],-1))]),t[52]||(t[52]=T("必须尽可能接近")),Q("mjx-container",C,[(e(),l("svg",B,t[50]||(t[50]=[a("",1)]))),t[51]||(t[51]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])],-1))])])]),t[57]||(t[57]=Q("li",null,[T("为什么分布接近方差小？见"),Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/06-policy-gradient.html#%E9%99%8D%E4%BD%8E%E6%96%B9%E5%B7%AE%E6%96%B9%E6%B3%95%E7%9A%84%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%AF%BC",target:"_blank",rel:"noreferrer"},"降低方差方法的公式推导"),T(" 👍")],-1))])]),Q("li",null,[t[77]||(t[77]=Q("strong",null,"当q和p差异大时",-1)),t[78]||(t[78]=T("，需通过")),t[79]||(t[79]=Q("code",null,"足够多的采样",-1)),t[80]||(t[80]=T("，")),t[81]||(t[81]=Q("code",null,"抵消差异对期望的影响",-1)),Q("ul",null,[Q("li",null,[t[68]||(t[68]=T("如果采样次数不够多 ")),Q("ul",null,[Q("li",null,[Q("mjx-container",E,[(e(),l("svg",X,t[61]||(t[61]=[a("",1)]))),t[62]||(t[62]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"p")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),t[65]||(t[65]=T(" 和 ")),Q("mjx-container",S,[(e(),l("svg",F,t[63]||(t[63]=[a("",1)]))),t[64]||(t[64]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"q")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("mi",null,"q"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),t[66]||(t[66]=T(" 会")),t[67]||(t[67]=Q("em",null,"有很大差异",-1))])])]),Q("li",null,[t[75]||(t[75]=T("比如下图 ")),Q("ul",null,[Q("li",null,[t[71]||(t[71]=T("本身")),Q("mjx-container",P,[(e(),l("svg",z,t[69]||(t[69]=[a("",1)]))),t[70]||(t[70]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"p")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mi",null,"f"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),t[72]||(t[72]=T("是负的；但由于q和p差异大，")),t[73]||(t[73]=Q("code",null,"大部分q都只能采样到正的",-1)),t[74]||(t[74]=T("，导致期望不对"))])])]),t[76]||(t[76]=Q("li",null,[Q("code",null,"需足够多的采样"),T("，"),Q("strong",null,"才能采到左边点"),T("，并"),Q("strong",null,"给与其大权重"),T("，才能"),Q("strong",null,"保证期望一致"),T("。")],-1))])]),t[82]||(t[82]=Q("li",null,[Q("strong",null,"采样具有随机性"),T("，如果"),Q("code",null,"突然采样到方差大的样本"),T("，可能"),Q("code",null,"朝着错误方向更新"),T("。")],-1))]),t[106]||(t[106]=Q("p",null,[Q("strong",null,"解法")],-1)),Q("ul",null,[Q("li",null,[t[103]||(t[103]=Q("p",null,[T("如果"),Q("strong",null,"分布差异太大"),T("、"),Q("strong",null,"采样数量又不够多"),T("怎么办？")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[92]||(t[92]=Q("code",null,"KL约束",-1)),t[93]||(t[93]=T("(TRPO)：")),Q("strong",null,[t[87]||(t[87]=T("把")),Q("mjx-container",I,[(e(),l("svg",G,t[83]||(t[83]=[a("",1)]))),t[84]||(t[84]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[88]||(t[88]=T("和")),Q("mjx-container",N,[(e(),l("svg",J,t[85]||(t[85]=[a("",1)]))),t[86]||(t[86]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])],-1))]),t[89]||(t[89]=T("的相似性"))]),t[94]||(t[94]=T(" 作为")),Q("mjx-container",q,[(e(),l("svg",K,t[90]||(t[90]=[a("",1)]))),t[91]||(t[91]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")])],-1))]),t[95]||(t[95]=T("的")),t[96]||(t[96]=Q("code",null,"约束条件",-1)),t[97]||(t[97]=T("，信任区域。"))])]),Q("li",null,[Q("p",null,[t[100]||(t[100]=Q("code",null,"CLIP",-1)),t[101]||(t[101]=T("(PPO)：把约束限制条件，放回到")),Q("mjx-container",$,[(e(),l("svg",Y,t[98]||(t[98]=[a("",1)]))),t[99]||(t[99]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")])],-1))]),t[102]||(t[102]=T("中。"))])])])])])]),t[1803]||(t[1803]=Q("img",{src:"https://pica.zhimg.com/v2-bcac958cfda20f0f1784313166fa7c38_1440w.jpg",style:{display:"block",margin:"auto"},width:"70%"},null,-1)),t[1804]||(t[1804]=Q("h4",{id:"重要性采样在rl中的作用",tabindex:"-1"},[T("重要性采样在RL中的作用 "),Q("a",{class:"header-anchor",href:"#重要性采样在rl中的作用","aria-label":'Permalink to "重要性采样在RL中的作用"'},"​")],-1)),Q("div",U,[t[157]||(t[157]=a("",4)),Q("ul",null,[Q("li",null,[t[113]||(t[113]=T("从")),Q("mjx-container",W,[(e(),l("svg",Q1,t[107]||(t[107]=[a("",1)]))),t[108]||(t[108]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])],-1))]),t[114]||(t[114]=T("开始，")),Q("strong",null,[t[111]||(t[111]=T("用")),Q("mjx-container",t1,[(e(),l("svg",T1,t[109]||(t[109]=[a("",1)]))),t[110]||(t[110]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])],-1))]),t[112]||(t[112]=T("和环境交互"))]),t[115]||(t[115]=T("，得到一批")),t[116]||(t[116]=Q("code",null,"回合数据",-1)),t[117]||(t[117]=T("。"))]),Q("li",null,[t[132]||(t[132]=T("把这批")),t[133]||(t[133]=Q("code",null,"回合数据",-1)),t[134]||(t[134]=T()),t[135]||(t[135]=Q("strong",null,"重复使用k次去更新模型",-1)),t[136]||(t[136]=T("( ")),t[137]||(t[137]=Q("code",null,"off-policy过程",-1)),t[138]||(t[138]=T(") ")),Q("ul",null,[Q("li",null,[t[120]||(t[120]=T("第1次，喂给：")),Q("mjx-container",a1,[(e(),l("svg",l1,t[118]||(t[118]=[a("",1)]))),t[119]||(t[119]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"→"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mn",null,"1")])])])])],-1))])]),Q("li",null,[t[123]||(t[123]=T("第2次，喂给：")),Q("mjx-container",e1,[(e(),l("svg",m1,t[121]||(t[121]=[a("",1)]))),t[122]||(t[122]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mn",null,"1")])])]),Q("mo",{stretchy:"false"},"→"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mn",null,"2")])])])])],-1))])]),t[131]||(t[131]=Q("li",null,"...",-1)),Q("li",null,[t[126]||(t[126]=T("第k次，喂给：")),Q("mjx-container",s1,[(e(),l("svg",d1,t[124]||(t[124]=[a("",1)]))),t[125]||(t[125]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"k"),Q("mo",null,"−"),Q("mn",null,"1")])])])]),Q("mo",{stretchy:"false"},"→"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])])])],-1))])]),Q("li",null,[t[129]||(t[129]=Q("code",null,"k次更新后",-1)),t[130]||(t[130]=T("：")),Q("mjx-container",o1,[(e(),l("svg",n1,t[127]||(t[127]=[a("",1)]))),t[128]||(t[128]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])])])],-1))])])])])]),t[158]||(t[158]=Q("p",null,[Q("strong",null,"策略梯度发生变化")],-1)),t[159]||(t[159]=Q("ul",null,[Q("li",null,"原始策略梯度")],-1)),Q("mjx-container",r1,[(e(),l("svg",i1,t[139]||(t[139]=[a("",1)]))),t[140]||(t[140]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mi",null,"θ")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"梯"),Q("mi",{mathvariant:"normal"},"度")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),Q("ul",null,[Q("li",null,[t[143]||(t[143]=T("引入重要性采样后的梯度：")),Q("mjx-container",h1,[(e(),l("svg",g1,t[141]||(t[141]=[a("",1)]))),t[142]||(t[142]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"τ"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])],-1))]),t[144]||(t[144]=T("，")),t[145]||(t[145]=Q("code",null,"训练数据是从旧策略采样出来的",-1)),t[146]||(t[146]=T("。"))])]),Q("mjx-container",p1,[(e(),l("svg",H1,t[147]||(t[147]=[a("",1)]))),t[148]||(t[148]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"重"),Q("mi",{mathvariant:"normal"},"要"),Q("mi",{mathvariant:"normal"},"性"),Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"梯"),Q("mi",{mathvariant:"normal"},"度")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q("ul",null,[Q("li",null,[t[153]||(t[153]=Q("p",null,[Q("code",null,"重要性权重")],-1)),Q("mjx-container",c1,[(e(),l("svg",u1,t[149]||(t[149]=[a("",1)]))),t[150]||(t[150]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])])])],-1))]),Q("mjx-container",L1,[(e(),l("svg",w1,t[151]||(t[151]=[a("",1)]))),t[152]||(t[152]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])])])],-1))])]),t[154]||(t[154]=Q("li",null,[Q("p",null,"目标函数")],-1))]),Q("mjx-container",f1,[(e(),l("svg",y1,t[155]||(t[155]=[a("",1)]))),t[156]||(t[156]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"arg"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"τ"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))])]),t[1805]||(t[1805]=Q("h4",{id:"重要性采样策略梯度推导",tabindex:"-1"},[T("重要性采样策略梯度推导 "),Q("a",{class:"header-anchor",href:"#重要性采样策略梯度推导","aria-label":'Permalink to "重要性采样策略梯度推导"'},"​")],-1)),t[1806]||(t[1806]=Q("p",null,[Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/06-policy-gradient.html#%E7%AD%96%E7%95%A5%E6%A2%AF%E5%BA%A6%E6%8E%A8%E5%AF%BC%E8%BF%87%E7%A8%8B",target:"_blank",rel:"noreferrer"},"策略梯度推导过程")],-1)),Q("div",x1,[t[180]||(t[180]=Q("div",{class:"custom-block-title"},"重要性采样策略梯度推导",-1)),t[181]||(t[181]=Q("p",null,[Q("strong",null,"从定义到期望形式")],-1)),Q("mjx-container",k1,[(e(),l("svg",M1,t[160]||(t[160]=[a("",1)]))),t[161]||(t[161]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"τ")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"R"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"∇"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"τ")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"R"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"τ"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"R"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])])])])],-1))]),t[182]||(t[182]=Q("p",null,[Q("strong",null,"转换成优势策略梯度")],-1)),Q("mjx-container",Z1,[(e(),l("svg",V1,t[162]||(t[162]=[a("",1)]))),t[163]||(t[163]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"τ"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"R"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])])])])],-1))]),t[183]||(t[183]=Q("p",null,[Q("strong",null,"代入重要性采样")],-1)),t[184]||(t[184]=Q("ul",null,[Q("li",null,"推导过程")],-1)),Q("mjx-container",D1,[(e(),l("svg",b1,t[164]||(t[164]=[a("",1)]))),t[165]||(t[165]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mfrac",null,[Q("mn",null,"1"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"∇"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("msub",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"black"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"⋅"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"∇"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("msub",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"⋅"),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"≈"),Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"N")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"n"),Q("mo",null,"="),Q("mn",null,"1")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"N")])])]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"1")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"T"),Q("mi",null,"n")])])])]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])])])])])],-1))]),t[185]||(t[185]=Q("ul",null,[Q("li",null,"推导结果")],-1)),Q("mjx-container",j1,[(e(),l("svg",v1,t[166]||(t[166]=[a("",1)]))),t[167]||(t[167]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"≈"),Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"N")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"n"),Q("mo",null,"="),Q("mn",null,"1")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"N")])])]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"1")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"T"),Q("mi",null,"n")])])])]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])])],-1))]),Q("p",null,[t[170]||(t[170]=Q("strong",null,"除以旧策略概率的作用",-1)),t[171]||(t[171]=T()),Q("mjx-container",A1,[(e(),l("svg",R1,t[168]||(t[168]=[a("",1)]))),t[169]||(t[169]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])])],-1))])]),Q("ul",null,[Q("li",null,[Q("mjx-container",O1,[(e(),l("svg",_1,t[172]||(t[172]=[a("",1)]))),t[173]||(t[173]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])])],-1))]),t[176]||(t[176]=T("：为了")),t[177]||(t[177]=Q("code",null,"加权梯度",-1)),Q("mjx-container",C1,[(e(),l("svg",B1,t[174]||(t[174]=[a("",1)]))),t[175]||(t[175]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[178]||(t[178]=Q("ul",null,[Q("li",null,"初期：模型不自信，预测概率较小，加权大，"),Q("li",null,"模型自信后：就不怎么加权了。")],-1))]),t[179]||(t[179]=a("",2))])]),t[1807]||(t[1807]=a("",4)),Q("div",E1,[t[208]||(t[208]=a("",4)),Q("ul",null,[Q("li",null,[t[188]||(t[188]=Q("strong",null,"一个n步回报",-1)),Q("mjx-container",X1,[(e(),l("svg",S1,t[186]||(t[186]=[a("",1)]))),t[187]||(t[187]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])])])])],-1))]),t[189]||(t[189]=T("：")),t[190]||(t[190]=Q("code",null,"采样n步",-1)),t[191]||(t[191]=T("，")),t[192]||(t[192]=Q("code",null,"再做自举估计",-1)),t[193]||(t[193]=T("。"))])]),Q("mjx-container",F1,[(e(),l("svg",P1,t[194]||(t[194]=[a("",1)]))),t[195]||(t[195]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])])]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"γ")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")])]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"3")])])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mo",null,"+"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"γ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"n")])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])]),Q("mo",{stretchy:"false"},")")])])],-1))]),Q("ul",null,[t[199]||(t[199]=Q("li",null,[T("对"),Q("strong",null,"多个n步回报估计量"),T("进行"),Q("code",null,"加权平均"),T("，"),Q("code",null,"λ, 平衡了TD偏差和MC方差"),T("。 "),Q("ul",null,[Q("li",null,"λ接近1，接近MC估计，偏差小、方差大。"),Q("li",null,"λ接近0，接近单步TD，偏差大、方差小。")])],-1)),Q("li",null,[Q("mjx-container",z1,[(e(),l("svg",I1,t[196]||(t[196]=[a("",1)]))),t[197]||(t[197]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"λ")])])])])],-1))]),t[198]||(t[198]=T(" 定义"))])]),Q("mjx-container",G1,[(e(),l("svg",N1,t[200]||(t[200]=[a("",1)]))),t[201]||(t[201]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"T")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"λ")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"λ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"λ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"G"),Q("mi",null,"t")])])])],-1))]),Q("mjx-container",J1,[(e(),l("svg",q1,t[202]||(t[202]=[a("",1)]))),t[203]||(t[203]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"λ")])])])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])]),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"λ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])])])])])])])],-1))]),t[209]||(t[209]=Q("ul",null,[Q("li",null,[Q("code",null,"V 函数更新"),T("，"),Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#%E6%A0%B8%E5%BF%83%E5%85%AC%E5%BC%8F%E5%AF%B9%E6%AF%94",target:"_blank",rel:"noreferrer"},"MC vs TD vs n步TD vs TD(λ) 核心公式对比")])],-1)),Q("mjx-container",K1,[(e(),l("svg",$1,t[204]||(t[204]=[a("",1)]))),t[205]||(t[205]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",{stretchy:"false"},"←"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"+"),Q("mi",null,"α"),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q("mjx-container",Y1,[(e(),l("svg",U1,t[206]||(t[206]=[a("",1)]))),t[207]||(t[207]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",{stretchy:"false"},"←"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"+"),Q("mi",null,"α"),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])]),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"λ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"λ"),Q("mi",{mathvariant:"normal"},"回"),Q("mi",{mathvariant:"normal"},"报"),Q("mi",null,"，"),Q("mi",{mathvariant:"normal"},"多"),Q("mi",{mathvariant:"normal"},"个"),Q("mi",null,"n"),Q("mi",{mathvariant:"normal"},"步"),Q("mi",{mathvariant:"normal"},"回"),Q("mi",{mathvariant:"normal"},"报"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"做"),Q("mi",{mathvariant:"normal"},"平"),Q("mi",{mathvariant:"normal"},"均")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))])]),t[1808]||(t[1808]=Q("h4",{id:"gae-n步优势估计",tabindex:"-1"},[T("GAE n步优势估计 "),Q("a",{class:"header-anchor",href:"#gae-n步优势估计","aria-label":'Permalink to "GAE n步优势估计"'},"​")],-1)),Q("div",W1,[t[272]||(t[272]=Q("div",{class:"custom-block-title"},"GAE n步优势估计",-1)),t[273]||(t[273]=Q("p",null,[Q("strong",null,"1. 朴素 TD Error 定义")],-1)),Q("ul",null,[Q("li",null,[Q("strong",null,[t[212]||(t[212]=T("时刻")),Q("mjx-container",Q3,[(e(),l("svg",t3,t[210]||(t[210]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)]))),t[211]||(t[211]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"t")])],-1))]),t[213]||(t[213]=T("、步长为1、步长为2"))]),t[224]||(t[224]=T(" 的 ")),t[225]||(t[225]=Q("code",null,"TD Error定义",-1)),Q("ul",null,[Q("li",null,[t[220]||(t[220]=T("注意：t时刻的即时奖励下标为")),Q("mjx-container",T3,[(e(),l("svg",a3,t[214]||(t[214]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)]))),t[215]||(t[215]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"t")])],-1))]),t[221]||(t[221]=T("，这里")),Q("mjx-container",l3,[(e(),l("svg",e3,t[216]||(t[216]=[a("",1)]))),t[217]||(t[217]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])])],-1))]),t[222]||(t[222]=T("和 前面文章 ")),Q("mjx-container",m3,[(e(),l("svg",s3,t[218]||(t[218]=[a("",1)]))),t[219]||(t[219]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])])],-1))]),t[223]||(t[223]=T("其实一样的"))])])])]),Q("mjx-container",d3,[(e(),l("svg",o3,t[226]||(t[226]=[a("",1)]))),t[227]||(t[227]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),Q("mjx-container",n3,[(e(),l("svg",r3,t[228]||(t[228]=[a("",1)]))),t[229]||(t[229]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")])])],-1))]),Q("ul",null,[Q("li",null,[Q("strong",null,[t[234]||(t[234]=T("时刻")),Q("mjx-container",i3,[(e(),l("svg",h3,t[230]||(t[230]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)]))),t[231]||(t[231]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"t")])],-1))]),t[235]||(t[235]=T("、步长为")),Q("mjx-container",g3,[(e(),l("svg",p3,t[232]||(t[232]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D459",d:"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z",style:{"stroke-width":"3"}})])])],-1)]))),t[233]||(t[233]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"l")])],-1))])]),t[236]||(t[236]=T(" 的 ")),t[237]||(t[237]=Q("code",null,"TD Error 定义",-1))])]),Q("mjx-container",H3,[(e(),l("svg",c3,t[238]||(t[238]=[a("",1)]))),t[239]||(t[239]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[274]||(t[274]=a("",2)),Q("mjx-container",u3,[(e(),l("svg",L3,t[240]||(t[240]=[a("",1)]))),t[241]||(t[241]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"2"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")]),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"3"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"3")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")]),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"3")]),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"3")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd")]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"n"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")]),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"n")]),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"⋮")])]),Q("mtd")]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mi",{mathvariant:"normal"},"∞"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")]),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"T")]),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T")])]),Q("mo",null,"+"),Q("mn",null,"0"),Q("mo",null,"+"),Q("mn",null,"0"),Q("mo",null,"+"),Q("mo",null,"⋯")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])])])])],-1))]),Q("ul",null,[Q("li",null,[t[245]||(t[245]=Q("code",null,"n步优势估计 定义公式",-1)),Q("ul",null,[Q("li",null,[t[244]||(t[244]=T("步长 ")),Q("mjx-container",w3,[(e(),l("svg",f3,t[242]||(t[242]=[a("",1)]))),t[243]||(t[243]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"n"),Q("mo",null,"="),Q("mi",{mathvariant:"normal"},"∞")])])],-1))])])])])]),Q("mjx-container",y3,[(e(),l("svg",x3,t[246]||(t[246]=[a("",1)]))),t[247]||(t[247]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mi",{mathvariant:"normal"},"∞"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])]),Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"l")]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[275]||(t[275]=Q("p",null,[Q("strong",null,"3. n步优势估计 迭代计算公式")],-1)),Q("ul",null,[Q("li",null,[t[250]||(t[250]=T("推导 ")),Q("mjx-container",k3,[(e(),l("svg",M3,t[248]||(t[248]=[a("",1)]))),t[249]||(t[249]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"2"),Q("mo",{stretchy:"false"},")")])])])])],-1))])])]),Q("mjx-container",Z3,[(e(),l("svg",V3,t[251]||(t[251]=[a("",1)]))),t[252]||(t[252]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"2"),Q("mo",{stretchy:"false"},")")])])])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")]),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mo",null,"+"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")]),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])]),Q("mo",{stretchy:"false"},")"),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"−"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])])])])])])],-1))]),Q("ul",null,[Q("li",null,[t[262]||(t[262]=Q("p",null,[Q("code",null,"n步优势估计 迭代计算公式")],-1)),t[263]||(t[263]=Q("ul",null,[Q("li",null,[Q("strong",null,"步长2、3、4")])],-1)),Q("mjx-container",D3,[(e(),l("svg",b3,t[253]||(t[253]=[a("",1)]))),t[254]||(t[254]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"2"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])])])],-1))]),Q("mjx-container",j3,[(e(),l("svg",v3,t[255]||(t[255]=[a("",1)]))),t[256]||(t[256]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"3"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])])])],-1))]),Q("mjx-container",A3,[(e(),l("svg",R3,t[257]||(t[257]=[a("",1)]))),t[258]||(t[258]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"4"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"3")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"3")])])])])],-1))]),Q("ul",null,[Q("li",null,[Q("strong",null,[t[261]||(t[261]=T("步长为")),Q("mjx-container",O3,[(e(),l("svg",_3,t[259]||(t[259]=[a("",1)]))),t[260]||(t[260]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"n"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"、")]),Q("mi",{mathvariant:"normal"},"∞")])],-1))])])])])])]),Q("mjx-container",C3,[(e(),l("svg",B3,t[264]||(t[264]=[a("",1)]))),t[265]||(t[265]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"n"),Q("mo",{stretchy:"false"},")")])])])]),Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"n"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])],-1))]),Q("mjx-container",E3,[(e(),l("svg",X3,t[266]||(t[266]=[a("",1)]))),t[267]||(t[267]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mi",{mathvariant:"normal"},"∞"),Q("mo",{stretchy:"false"},")")])])])]),Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])],-1))]),t[276]||(t[276]=Q("p",null,[Q("strong",null,"4. 总结 n步优势 定义及计算公式")],-1)),Q("mjx-container",S3,[(e(),l("svg",F3,t[268]||(t[268]=[a("",1)]))),t[269]||(t[269]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mi",{mathvariant:"normal"},"∞"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])],-1))]),Q("mjx-container",P3,[(e(),l("svg",z3,t[270]||(t[270]=[a("",1)]))),t[271]||(t[271]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"n")]),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"n"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"n"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])],-1))])]),t[1809]||(t[1809]=a("",2)),Q("div",I3,[t[316]||(t[316]=Q("div",{class:"custom-block-title"},"GAE 多个n步估计做加权",-1)),t[317]||(t[317]=Q("p",null,[Q("strong",null,"0. 背景")],-1)),t[318]||(t[318]=Q("ul",null,[Q("li",null,[T("解决 "),Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#tderror-%E4%BC%98%E5%8A%BF%E5%81%8F%E5%B7%AE%E6%96%B9%E5%B7%AE%E9%97%AE%E9%A2%98",target:"_blank",rel:"noreferrer"},"TD Error 估计优势 方差偏差问题")])],-1)),t[319]||(t[319]=Q("p",null,[Q("strong",null,"1. GAE 定义公式")],-1)),Q("ul",null,[Q("li",null,[t[281]||(t[281]=T("对")),Q("strong",null,[t[279]||(t[279]=T("多个")),Q("mjx-container",G3,[(e(),l("svg",N3,t[277]||(t[277]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D45B",d:"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z",style:{"stroke-width":"3"}})])])],-1)]))),t[278]||(t[278]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"n")])],-1))]),t[280]||(t[280]=T("步优势估计量"))]),t[282]||(t[282]=T("，进行")),t[283]||(t[283]=Q("code",null,"加权平均",-1)),t[284]||(t[284]=T("(步数从1到n到无穷)，引入")),t[285]||(t[285]=Q("code",null,"λ做方差、偏差平衡",-1))])]),Q("mjx-container",J3,[(e(),l("svg",q3,t[286]||(t[286]=[a("",1)]))),t[287]||(t[287]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"0")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"λ")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"2"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"2")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"3"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q("mjx-container",K3,[(e(),l("svg",$3,t[288]||(t[288]=[a("",1)]))),t[289]||(t[289]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"0")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"λ")]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"2")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")]),Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t[320]||(t[320]=Q("p",null,[Q("strong",null,"2. GAE 推导过程")],-1)),Q("mjx-container",Y3,[(e(),l("svg",U3,t[290]||(t[290]=[a("",1)]))),t[291]||(t[291]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"0")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"λ")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"2"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"2")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"3"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"λ")]),Q("mo",null,"⋅"),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"2")])]),Q("mo",null,"⋅"),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"+"),Q("mi",null,"λ"),Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"2")]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"2")]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"2")]),Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"3")]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mi",null,"λ"),Q("mrow",null,[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"2")]),Q("mrow",null,[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ")])])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ"),Q("mi",null,"λ")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")]),Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"2")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"3")]),Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"3")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"3")])])]),Q("mo",null,"+"),Q("mo",null,"⋯")])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mi",null,"λ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mi",null,"λ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])])])])])],-1))]),t[321]||(t[321]=Q("p",null,[Q("strong",null,"3. GAE 推导结果")],-1)),Q("mjx-container",W3,[(e(),l("svg",Q2,t[292]||(t[292]=[a("",1)]))),t[293]||(t[293]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mi",null,"λ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])],-1))]),Q("mjx-container",t2,[(e(),l("svg",T2,t[294]||(t[294]=[a("",1)]))),t[295]||(t[295]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mi",null,"λ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q("mjx-container",a2,[(e(),l("svg",l2,t[296]||(t[296]=[a("",1)]))),t[297]||(t[297]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mi",null,"λ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t[322]||(t[322]=Q("p",null,[Q("strong",null,"4. GAE估计 vs 单个n步估计")],-1)),t[323]||(t[323]=Q("ul",null,[Q("li",null,[Q("code",null,"n步优势估计"),T("：采样n步，估计优势")])],-1)),Q("mjx-container",e2,[(e(),l("svg",m2,t[298]||(t[298]=[a("",1)]))),t[299]||(t[299]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"n"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"n"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])],-1))]),Q("ul",null,[Q("li",null,[t[302]||(t[302]=Q("code",null,"GAE 优势估计",-1)),t[303]||(t[303]=T("：多个n步优势估计加权求平均")),Q("mjx-container",s2,[(e(),l("svg",d2,t[300]||(t[300]=[a("",1)]))),t[301]||(t[301]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])])]),Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("mi",null,"γ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])],-1))])])]),t[324]||(t[324]=Q("p",null,[Q("strong",null,"4. GAE 反向递推公式")],-1)),t[325]||(t[325]=Q("ul",null,[Q("li",null,[T("从"),Q("strong",null,"最后一个时间步开始"),T("，"),Q("code",null,"反向遍历"),T("，"),Q("code",null,"提高GAE计算效率")])],-1)),Q("mjx-container",o2,[(e(),l("svg",n2,t[304]||(t[304]=[a("",1)]))),t[305]||(t[305]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ"),Q("mi",null,"λ")]),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[326]||(t[326]=Q("p",null,[Q("strong",null,"5. λ=0时，退化单步TD估计")],-1)),t[327]||(t[327]=Q("ul",null,[Q("li",null,[Q("code",null,"高偏差"),T("、"),Q("code",null,"低方差")])],-1)),Q("mjx-container",r2,[(e(),l("svg",i2,t[306]||(t[306]=[a("",1)]))),t[307]||(t[307]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mn",null,"0"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mn",null,"0"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"0")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"0")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"2"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mn",null,"0"),Q("mn",null,"2")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"3"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q("mjx-container",h2,[(e(),l("svg",g2,t[308]||(t[308]=[a("",1)]))),t[309]||(t[309]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mn",null,"0"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),Q("mjx-container",p2,[(e(),l("svg",H2,t[310]||(t[310]=[a("",1)]))),t[311]||(t[311]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mn",null,"0"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[328]||(t[328]=Q("p",null,[Q("strong",null,"6. λ=1时，退化完全MC采样估计")],-1)),t[329]||(t[329]=Q("ul",null,[Q("li",null,[Q("code",null,"低偏差"),T("、"),Q("code",null,"高方差")])],-1)),Q("mjx-container",c2,[(e(),l("svg",u2,t[312]||(t[312]=[a("",1)]))),t[313]||(t[313]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ")]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"3")])]),Q("mo",{stretchy:"false"},")"),Q("mstyle",{mathcolor:"blue"},[Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mo",null,"+"),Q("mo",null,"⋯")])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"n")])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mstyle",{mathcolor:"blue"},[Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mi",{mathvariant:"normal"},"∞"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])])])],-1))]),Q("mjx-container",L2,[(e(),l("svg",w2,t[314]||(t[314]=[a("",1)]))),t[315]||(t[315]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"n")])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mstyle",{mathcolor:"blue"},[Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])])],-1))])]),t[1810]||(t[1810]=Q("h4",{id:"gae中的奖励衰减-llm",tabindex:"-1"},[T("GAE中的奖励衰减(LLM) "),Q("a",{class:"header-anchor",href:"#gae中的奖励衰减-llm","aria-label":'Permalink to "GAE中的奖励衰减(LLM)"'},"​")],-1)),Q("div",f2,[t[390]||(t[390]=Q("div",{class:"custom-block-title"},"奖励衰减",-1)),t[391]||(t[391]=Q("p",null,[Q("strong",null,"背景")],-1)),Q("ul",null,[Q("li",null,[t[340]||(t[340]=T("在LLM任务中 ")),Q("ul",null,[Q("li",null,[t[332]||(t[332]=T("对最后token，仅")),Q("mjx-container",y2,[(e(),l("svg",x2,t[330]||(t[330]=[a("",1)]))),t[331]||(t[331]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"T")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"E"),Q("mi",null,"O"),Q("mi",null,"S")])]),Q("mo",null,"≠"),Q("mn",null,"0")])])],-1))])]),Q("li",null,[t[335]||(t[335]=T("对前面的token，环境奖励")),Q("mjx-container",k2,[(e(),l("svg",M2,t[333]||(t[333]=[a("",1)]))),t[334]||(t[334]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")]),Q("mo",null,"="),Q("mn",null,"0")])])],-1))]),t[336]||(t[336]=T("，")),t[337]||(t[337]=Q("code",null,"均为0",-1)),t[338]||(t[338]=T("。")),t[339]||(t[339]=Q("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#reward-model-%E5%8D%B3%E6%97%B6%E5%A5%96%E5%8A%B1",target:"_blank",rel:"noreferrer"},"RM即时奖励",-1))])])])]),t[392]||(t[392]=Q("p",null,[Q("strong",null,"TD Error")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[343]||(t[343]=T("对中间步")),Q("mjx-container",Z2,[(e(),l("svg",V2,t[341]||(t[341]=[a("",1)]))),t[342]||(t[342]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"t"),Q("mo",null,"<"),Q("mi",null,"T")])],-1))])]),Q("mjx-container",D2,[(e(),l("svg",b2,t[344]||(t[344]=[a("",1)]))),t[345]||(t[345]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"="),Q("mn",null,"0"),Q("mo",null,"+"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))])]),Q("li",null,[Q("p",null,[t[348]||(t[348]=T("对于最后一步")),Q("mjx-container",j2,[(e(),l("svg",v2,t[346]||(t[346]=[a("",1)]))),t[347]||(t[347]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mi",null,"T")])],-1))])])])]),Q("mjx-container",A2,[(e(),l("svg",R2,t[349]||(t[349]=[a("",1)]))),t[350]||(t[350]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"T")])]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T")])]),Q("mo",null,"+"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"T")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T")])]),Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"T")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[393]||(t[393]=Q("p",null,[Q("strong",null,"GAE 优势估计")],-1)),t[394]||(t[394]=Q("ul",null,[Q("li",null,"推导过程")],-1)),Q("mjx-container",O2,[(e(),l("svg",_2,t[351]||(t[351]=[a("",1)]))),t[352]||(t[352]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mi",null,"t")])])]),Q("mtd",null,[Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("mi",null,"γ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("mi",null,"γ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"1")])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("mi",null,"γ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"2")])]),Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("mi",null,"γ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("mi",null,"γ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t")])])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T")])])])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("mi",null,"γ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t")])])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"T")])]),Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"T")]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"+"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("mi",null,"γ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"1")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("mi",null,"γ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mn",null,"2")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"3")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])]),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("mi",null,"γ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("mi",null,"γ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t")])])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"T")])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"真"),Q("mi",{mathvariant:"normal"},"实"),Q("mi",{mathvariant:"normal"},"奖"),Q("mi",{mathvariant:"normal"},"励"),Q("mi",{mathvariant:"normal"},"信"),Q("mi",{mathvariant:"normal"},"号")])])]),Q("mo",null,"+"),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mo",{stretchy:"false"},"("),Q("mtext",null,"一堆只包含"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")"),Q("mtext",null,"的项"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"来"),Q("mi",{mathvariant:"normal"},"自"),Q("mi",{mathvariant:"normal"},"价"),Q("mi",{mathvariant:"normal"},"值"),Q("mi",{mathvariant:"normal"},"函"),Q("mi",{mathvariant:"normal"},"数"),Q("mi",{mathvariant:"normal"},"估"),Q("mi",{mathvariant:"normal"},"计"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"信"),Q("mi",{mathvariant:"normal"},"号")])])])])])])])],-1))]),t[395]||(t[395]=Q("ul",null,[Q("li",null,"推导结果")],-1)),Q("mjx-container",C2,[(e(),l("svg",B2,t[353]||(t[353]=[a("",1)]))),t[354]||(t[354]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mi",null,"t")])]),Q("mo",null,"="),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("mi",null,"γ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t")])])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"T")])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"真"),Q("mi",{mathvariant:"normal"},"实"),Q("mi",{mathvariant:"normal"},"奖"),Q("mi",{mathvariant:"normal"},"励"),Q("mi",{mathvariant:"normal"},"信"),Q("mi",{mathvariant:"normal"},"号")])])]),Q("mo",null,"+"),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mo",{stretchy:"false"},"("),Q("mtext",null,"一堆只包含"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")"),Q("mtext",null,"的项"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"来"),Q("mi",{mathvariant:"normal"},"自"),Q("mi",{mathvariant:"normal"},"价"),Q("mi",{mathvariant:"normal"},"值"),Q("mi",{mathvariant:"normal"},"函"),Q("mi",{mathvariant:"normal"},"数"),Q("mi",{mathvariant:"normal"},"估"),Q("mi",{mathvariant:"normal"},"计"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"信"),Q("mi",{mathvariant:"normal"},"号")])])])])],-1))]),Q("ul",null,[Q("li",null,[t[357]||(t[357]=T("当")),Q("mjx-container",E2,[(e(),l("svg",X2,t[355]||(t[355]=[a("",1)]))),t[356]||(t[356]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"λ"),Q("mo",null,"="),Q("mn",null,"1"),Q("mo",null,","),Q("mi",null,"γ"),Q("mo",null,"="),Q("mn",null,"1")])],-1))]),t[358]||(t[358]=T("时，退回MC估计"))])]),Q("mjx-container",S2,[(e(),l("svg",F2,t[359]||(t[359]=[a("",1)]))),t[360]||(t[360]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mi",null,"t")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"T")]),Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])],-1))]),t[396]||(t[396]=Q("p",null,[Q("strong",null,"奖励衰减")],-1)),Q("ul",null,[Q("li",null,[t[367]||(t[367]=T("从公式可看出，")),t[368]||(t[368]=Q("code",null,"真实外部奖励信号",-1)),t[369]||(t[369]=T()),Q("mjx-container",P2,[(e(),l("svg",z2,t[361]||(t[361]=[a("",1)]))),t[362]||(t[362]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"T")])])])],-1))]),t[370]||(t[370]=T()),t[371]||(t[371]=Q("code",null,"传播回第t个token时",-1)),t[372]||(t[372]=T("，会")),t[373]||(t[373]=Q("code",null,"乘以权重",-1)),t[374]||(t[374]=T()),Q("mjx-container",I2,[(e(),l("svg",G2,t[363]||(t[363]=[a("",1)]))),t[364]||(t[364]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("mi",null,"γ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t")])])])])],-1))]),t[375]||(t[375]=T("、")),Q("mjx-container",N2,[(e(),l("svg",J2,t[365]||(t[365]=[a("",1)]))),t[366]||(t[366]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"λ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t")])])])])],-1))])]),t[376]||(t[376]=Q("li",null,[T("当"),Q("strong",null,"λ<1 且 T-t 很大"),T("时 "),Q("ul",null,[Q("li",null,[Q("code",null,"前面token收不到任何有效奖励信号"),T("。")]),Q("li",null,[Q("code",null,"价值模型就无法学习到它们真正的贡献"),T("。")])])],-1))]),t[397]||(t[397]=Q("p",null,[Q("strong",null,"λ=1 vs λ<1")],-1)),Q("ul",null,[Q("li",null,[t[383]||(t[383]=Q("strong",null,"λ<1",-1)),Q("ul",null,[t[382]||(t[382]=Q("li",null,[T("在传统RL任务，每一步都有奖励，方差很大， 使用"),Q("strong",null,"λ<1来降低方差"),T("，很有效")],-1)),Q("li",null,[t[379]||(t[379]=T("在LLM任务中，奖励稀疏，")),Q("mjx-container",q2,[(e(),l("svg",K2,t[377]||(t[377]=[a("",1)]))),t[378]||(t[378]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mi",null,"a"),Q("mi",null,"r"),Q("mi",null,"g"),Q("mi",null,"e"),Q("mi",null,"t")])])])],-1))]),t[380]||(t[380]=T(" 依赖自己自举 ")),t[381]||(t[381]=Q("ul",null,[Q("li",null,"如果一开始估计不准，就会导致错上加错，训练不稳定。"),Q("li",null,"带来的偏差危害(奖励信号衰减) 远远大于在降方差方面的好处。")],-1))])])]),Q("li",null,[t[388]||(t[388]=Q("strong",null,"λ=1",-1)),t[389]||(t[389]=T("： ")),Q("ul",null,[Q("li",null,[t[386]||(t[386]=T("MC无偏估计，")),Q("mjx-container",$2,[(e(),l("svg",Y2,t[384]||(t[384]=[a("",1)]))),t[385]||(t[385]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mi",null,"a"),Q("mi",null,"r"),Q("mi",null,"g"),Q("mi",null,"e"),Q("mi",null,"t")])])])],-1))]),t[387]||(t[387]=T(" 只依赖环境奖励，价值模型学习变成简单的监督学习，非常稳定的梯度下降过程。"))])])])])]),t[1811]||(t[1811]=Q("h4",{id:"gae-方差公式",tabindex:"-1"},[T("GAE 方差公式 "),Q("a",{class:"header-anchor",href:"#gae-方差公式","aria-label":'Permalink to "GAE 方差公式"'},"​")],-1)),Q("div",U2,[t[406]||(t[406]=Q("div",{class:"custom-block-title"},"GAE 方差公式",-1)),t[407]||(t[407]=Q("p",null,[Q("strong",null,"基础方差公式")],-1)),Q("mjx-container",W2,[(e(),l("svg",Q4,t[398]||(t[398]=[a("",1)]))),t[399]||(t[399]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtext",null,"Var"),Q("mo",{stretchy:"false"},"["),Q("mi",null,"a"),Q("mi",null,"X"),Q("mo",{stretchy:"false"},"]"),Q("mo",null,"="),Q("msup",null,[Q("mi",null,"a"),Q("mn",null,"2")]),Q("mtext",null,"Var"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"X"),Q("mo",{stretchy:"false"},")")])],-1))]),Q("mjx-container",t4,[(e(),l("svg",T4,t[400]||(t[400]=[a("",1)]))),t[401]||(t[401]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtext",null,"Var"),Q("mo",{stretchy:"false"},"["),Q("mi",null,"X"),Q("mo",null,"+"),Q("mi",null,"Y"),Q("mo",{stretchy:"false"},"]"),Q("mo",null,"="),Q("mtext",null,"Var"),Q("mo",{stretchy:"false"},"["),Q("mi",null,"X"),Q("mo",{stretchy:"false"},"]"),Q("mo",null,"+"),Q("mtext",null,"Var"),Q("mo",{stretchy:"false"},"["),Q("mi",null,"Y"),Q("mo",{stretchy:"false"},"]"),Q("mo",null,"+"),Q("mn",null,"2"),Q("mtext",null,"Cov"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"X"),Q("mo",null,","),Q("mi",null,"Y"),Q("mo",{stretchy:"false"},")")])],-1))]),t[408]||(t[408]=Q("p",null,[Q("strong",null,"GAE 方差推导")],-1)),Q("mjx-container",a4,[(e(),l("svg",l4,t[402]||(t[402]=[a("",1)]))),t[403]||(t[403]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msubsup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"λ")])]),Q("mo",null,"="),Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"0")]),Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")]),Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"1")]),Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"2")]),Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"λ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t"),Q("mo",null,"−"),Q("mn",null,"1")])]),Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mn",null,"1")])])])],-1))]),Q("mjx-container",e4,[(e(),l("svg",m4,t[404]||(t[404]=[a("",1)]))),t[405]||(t[405]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mtext",null,"Var"),Q("mo",{stretchy:"false"},"("),Q("msubsup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"λ")])]),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("mtext",null,"Var"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t"),Q("mo",null,"−"),Q("mn",null,"1")])]),Q("msup",null,[Q("mi",null,"λ"),Q("mi",null,"l")]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t"),Q("mo",null,"−"),Q("mn",null,"1")])]),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"λ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mn",null,"2"),Q("mi",null,"l")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mtext",null,"Var"),Q("mo",{stretchy:"false"},"["),Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",{stretchy:"false"},"]")]),Q("mo",null,"+"),Q("mn",null,"2"),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t"),Q("mo",null,"−"),Q("mn",null,"1")])]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"j"),Q("mo",null,"="),Q("mi",null,"i"),Q("mo",null,"+"),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mi",null,"t"),Q("mo",null,"−"),Q("mn",null,"1")])]),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"λ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,"+"),Q("mi",null,"j")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mtext",null,"Cov"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"i")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"j")])]),Q("mo",{stretchy:"false"},")")])])])])])],-1))]),t[409]||(t[409]=Q("ul",null,[Q("li",null,"方差：由每一项自身方差和项与项之间的协方差共同决定。"),Q("li",null,"减小λ会给这些项，更小的权重(尤其是后面的项)，从而降低总方差。")],-1))]),t[1812]||(t[1812]=Q("h4",{id:"gae-总结",tabindex:"-1"},[T("GAE 总结 "),Q("a",{class:"header-anchor",href:"#gae-总结","aria-label":'Permalink to "GAE 总结"'},"​")],-1)),Q("div",s4,[t[436]||(t[436]=Q("div",{class:"custom-block-title"},"GAE 总结",-1)),Q("p",null,[Q("strong",null,[t[414]||(t[414]=T("1. 时刻")),Q("mjx-container",d4,[(e(),l("svg",o4,t[410]||(t[410]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)]))),t[411]||(t[411]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"t")])],-1))]),t[415]||(t[415]=T("、步长为")),Q("mjx-container",n4,[(e(),l("svg",r4,t[412]||(t[412]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D459",d:"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z",style:{"stroke-width":"3"}})])])],-1)]))),t[413]||(t[413]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"l")])],-1))])]),t[416]||(t[416]=T(" 的 ")),t[417]||(t[417]=Q("code",null,"TD Error 定义",-1))]),Q("mjx-container",i4,[(e(),l("svg",h4,t[418]||(t[418]=[a("",1)]))),t[419]||(t[419]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[437]||(t[437]=Q("p",null,[Q("strong",null,"2. n步优势估计定义")],-1)),Q("mjx-container",g4,[(e(),l("svg",p4,t[420]||(t[420]=[a("",1)]))),t[421]||(t[421]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"n")]),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"G"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,":"),Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"n"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"n"),Q("mo",null,"−"),Q("mn",null,"1")])])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])],-1))]),t[438]||(t[438]=Q("p",null,[Q("strong",null,"3. GAE定义")],-1)),t[439]||(t[439]=Q("ul",null,[Q("li",null,[Q("code",null,"对多个n步优势加权平均")])],-1)),Q("mjx-container",H4,[(e(),l("svg",c4,t[422]||(t[422]=[a("",1)]))),t[423]||(t[423]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"0")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"λ")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"2"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"2")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("mn",null,"3"),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q("mjx-container",u4,[(e(),l("svg",L4,t[424]||(t[424]=[a("",1)]))),t[425]||(t[425]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mo",{stretchy:"false"},"("),Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"0")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"λ")]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"λ"),Q("mn",null,"2")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")]),Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t[440]||(t[440]=Q("p",null,[Q("strong",null,"4. GAE 计算推导结果")],-1)),Q("mjx-container",w4,[(e(),l("svg",f4,t[426]||(t[426]=[a("",1)]))),t[427]||(t[427]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mi",null,"λ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])],-1))]),Q("mjx-container",y4,[(e(),l("svg",x4,t[428]||(t[428]=[a("",1)]))),t[429]||(t[429]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mi",null,"λ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t[441]||(t[441]=Q("p",null,[Q("strong",null,"5. GAE 反向递推公式")],-1)),Q("mjx-container",k4,[(e(),l("svg",M4,t[430]||(t[430]=[a("",1)]))),t[431]||(t[431]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ"),Q("mi",null,"λ")]),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[442]||(t[442]=Q("p",null,[Q("strong",null,"6. λ=0/1")],-1)),t[443]||(t[443]=Q("ul",null,[Q("li",null,[Q("strong",null,"λ=0时"),T("，GAE退化为"),Q("code",null,"单步TD估计")])],-1)),Q("mjx-container",Z4,[(e(),l("svg",V4,t[432]||(t[432]=[a("",1)]))),t[433]||(t[433]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mn",null,"0"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[444]||(t[444]=Q("ul",null,[Q("li",null,[Q("strong",null,"λ=1时"),T("，GAE退化"),Q("code",null,"完全MC采样")])],-1)),Q("mjx-container",D4,[(e(),l("svg",b4,t[434]||(t[434]=[a("",1)]))),t[435]||(t[435]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mn",null,"2")])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"2")])])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"n")])]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"n")])])]),Q("mo",null,"+"),Q("mo",null,"⋯"),Q("mstyle",{mathcolor:"blue"},[Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[445]||(t[445]=Q("ul",null,[Q("li",null,[Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#td-%CE%BB-%E3%80%81td-0-%E5%92%8Ctd-1",target:"_blank",rel:"noreferrer"},"TD(λ)/TD(0)/TD(1)"),Q("ul",null,[Q("li",null,[Q("strong",null,"λ越小"),T("，"),Q("code",null,"偏差越大、方差越小"),T(" (TD)")]),Q("li",null,[Q("strong",null,"λ越大"),T("，"),Q("code",null,"偏差越小、方差越大"),T(" (MC)")])])])],-1))]),t[1813]||(t[1813]=Q("h4",{id:"gae-作用",tabindex:"-1"},[T("GAE 作用 "),Q("a",{class:"header-anchor",href:"#gae-作用","aria-label":'Permalink to "GAE 作用"'},"​")],-1)),Q("div",j4,[t[454]||(t[454]=a("",5)),Q("mjx-container",v4,[(e(),l("svg",A4,t[446]||(t[446]=[a("",1)]))),t[447]||(t[447]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"N")])]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"N")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"T"),Q("mi",null,"n")])])]),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("msub",null,[Q("mi",{mathvariant:"normal"},"Ψ"),Q("mi",null,"t")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msubsup",null,[Q("mi",null,"a"),Q("mi",null,"t"),Q("mi",null,"n")]),Q("mo",null,"∣"),Q("msubsup",null,[Q("mi",null,"s"),Q("mi",null,"t"),Q("mi",null,"n")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"梯"),Q("mi",{mathvariant:"normal"},"度")])])])])])])])],-1))]),t[455]||(t[455]=Q("ul",null,[Q("li",null,"引入GAE后的策略梯度")],-1)),Q("mjx-container",R4,[(e(),l("svg",O4,t[448]||(t[448]=[a("",1)]))),t[449]||(t[449]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"N")])]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"N")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"T"),Q("mi",null,"n")])])]),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msubsup",null,[Q("mi",null,"a"),Q("mi",null,"t"),Q("mi",null,"n")]),Q("mo",null,"∣"),Q("msubsup",null,[Q("mi",null,"s"),Q("mi",null,"t"),Q("mi",null,"n")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"梯"),Q("mi",{mathvariant:"normal"},"度")])])])])])])])],-1))]),t[456]||(t[456]=Q("ul",null,[Q("li",null,"引入GAE + 重要性采样后的策略梯度")],-1)),Q("mjx-container",_4,[(e(),l("svg",C4,t[450]||(t[450]=[a("",1)]))),t[451]||(t[451]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"N")])]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"N")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"T"),Q("mi",null,"n")])])]),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mfrac",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"重"),Q("mi",{mathvariant:"normal"},"要"),Q("mi",{mathvariant:"normal"},"性"),Q("mi",{mathvariant:"normal"},"采"),Q("mi",{mathvariant:"normal"},"样")])])]),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msubsup",null,[Q("mi",null,"a"),Q("mi",null,"t"),Q("mi",null,"n")]),Q("mo",null,"∣"),Q("msubsup",null,[Q("mi",null,"s"),Q("mi",null,"t"),Q("mi",null,"n")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"梯"),Q("mi",{mathvariant:"normal"},"度")])])])])])])])],-1))]),t[457]||(t[457]=Q("ul",null,[Q("li",null,"优化目标")],-1)),Q("mjx-container",B4,[(e(),l("svg",E4,t[452]||(t[452]=[a("",1)]))),t[453]||(t[453]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"arg"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"τ"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))])]),t[1814]||(t[1814]=a("",5)),Q("div",X4,[t[472]||(t[472]=Q("div",{class:"custom-block-title"},"ActorCritic思想",-1)),t[473]||(t[473]=Q("p",null,[Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/07-actor-critic.html#actor-critic-%E7%AE%97%E6%B3%95",target:"_blank",rel:"noreferrer"},"Actor-Critic"),T(),Q("strong",null,"核心思想")],-1)),Q("ul",null,[Q("li",null,[t[464]||(t[464]=T("目标：找到")),Q("mjx-container",S4,[(e(),l("svg",F4,t[458]||(t[458]=[a("",1)]))),t[459]||(t[459]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msup",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"∗")])]),Q("mo",null,"="),Q("mi",null,"arg"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])],-1))]),t[465]||(t[465]=T("，")),Q("strong",null,[t[462]||(t[462]=T("沿")),Q("mjx-container",P4,[(e(),l("svg",z4,t[460]||(t[460]=[a("",1)]))),t[461]||(t[461]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])],-1))]),t[463]||(t[463]=T("方向迭代更新策略参数"))])])]),Q("mjx-container",I4,[(e(),l("svg",G4,t[466]||(t[466]=[a("",1)]))),t[467]||(t[467]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"s"),Q("mn",null,"0")])])]),Q("mo",{stretchy:"false"},"["),Q("msup",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mn",null,"0")]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"]"),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"["),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])]),Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"t")]),Q("mo",null,"⋅"),Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"]")])],-1))]),Q("mjx-container",N4,[(e(),l("svg",J4,t[468]||(t[468]=[a("",1)]))),t[469]||(t[469]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"N")])]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"N")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"T"),Q("mi",null,"n")])])]),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("msubsup",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mi",null,"n")]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msubsup",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")]),Q("mi",null,"n")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msubsup",null,[Q("mi",null,"s"),Q("mi",null,"t"),Q("mi",null,"n")]),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"优"),Q("mi",{mathvariant:"normal"},"势"),Q("mi",{mathvariant:"normal"},"值")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msubsup",null,[Q("mi",null,"a"),Q("mi",null,"t"),Q("mi",null,"n")]),Q("mo",null,"∣"),Q("msubsup",null,[Q("mi",null,"s"),Q("mi",null,"t"),Q("mi",null,"n")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"梯"),Q("mi",{mathvariant:"normal"},"度")])])])])])])])],-1))]),t[474]||(t[474]=Q("ul",null,[Q("li",null,"参数更新")],-1)),Q("mjx-container",q4,[(e(),l("svg",K4,t[470]||(t[470]=[a("",1)]))),t[471]||(t[471]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"θ")]),Q("mo",{stretchy:"false"},"←"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"θ")]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"+")]),Q("mi",null,"α"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])])],-1))])]),Q("div",$4,[t[501]||(t[501]=Q("div",{class:"custom-block-title"},"Actor-Critic 缺点",-1)),t[502]||(t[502]=Q("p",null,[Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/07-actor-critic.html#actor-critic-%E7%AE%97%E6%B3%95",target:"_blank",rel:"noreferrer"},"Actor-Critic"),Q("strong",null,"缺点")],-1)),Q("ul",null,[t[499]||(t[499]=a("",1)),Q("li",null,[t[498]||(t[498]=T("每次梯度更新时，都")),Q("strong",null,[t[477]||(t[477]=T("需对")),Q("mjx-container",Y4,[(e(),l("svg",U4,t[475]||(t[475]=[a("",1)]))),t[476]||(t[476]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[478]||(t[478]=T("做若干回合采样"))]),Q("ul",null,[t[497]||(t[497]=a("",3)),Q("li",null,[t[494]||(t[494]=Q("strong",null,"重要性采样",-1)),t[495]||(t[495]=T("也")),t[496]||(t[496]=Q("code",null,"需要两个分布差异不能太大",-1)),Q("ul",null,[Q("li",null,[Q("mjx-container",W4,[(e(),l("svg",Q6,t[479]||(t[479]=[a("",1)]))),t[480]||(t[480]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[487]||(t[487]=T("和")),Q("mjx-container",t6,[(e(),l("svg",T6,t[481]||(t[481]=[a("",1)]))),t[482]||(t[482]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])],-1))]),t[488]||(t[488]=T("分布")),t[489]||(t[489]=Q("strong",null,"差异较大",-1)),t[490]||(t[490]=T(" 且 采样")),t[491]||(t[491]=Q("strong",null,"轨迹数量不够大时",-1)),t[492]||(t[492]=T("，")),Q("strong",null,[t[485]||(t[485]=T("对")),Q("mjx-container",a6,[(e(),l("svg",l6,t[483]||(t[483]=[a("",1)]))),t[484]||(t[484]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])],-1))]),t[486]||(t[486]=T("的估计不准"))])]),t[493]||(t[493]=Q("li",null,[T("解法："),Q("code",null,"KL约束")],-1))])])])]),t[500]||(t[500]=Q("li",null,[Q("strong",null,"TD Error 估计优势函数是有偏的"),Q("ul",null,[Q("li",null,[T("具体详细见 "),Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#tderror-%E4%BC%98%E5%8A%BF%E5%81%8F%E5%B7%AE%E6%96%B9%E5%B7%AE%E9%97%AE%E9%A2%98",target:"_blank",rel:"noreferrer"},"TD Error 估计优势 方差偏差问题")])])],-1))]),t[503]||(t[503]=a("",2))]),t[1815]||(t[1815]=Q("h3",{id:"信任区域",tabindex:"-1"},[T("信任区域 "),Q("a",{class:"header-anchor",href:"#信任区域","aria-label":'Permalink to "信任区域"'},"​")],-1)),Q("div",e6,[t[616]||(t[616]=Q("div",{class:"custom-block-title"},"信任区域",-1)),t[617]||(t[617]=Q("p",null,[Q("strong",null,"信任区域作用理解")],-1)),Q("ul",null,[t[521]||(t[521]=a("",1)),Q("li",null,[t[520]||(t[520]=Q("p",null,[T("解决"),Q("strong",null,"重要性采样需要两个分布接近"),T("的缺点")],-1)),Q("ul",null,[Q("li",null,[Q("mjx-container",m6,[(e(),l("svg",s6,t[504]||(t[504]=[a("",1)]))),t[505]||(t[505]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[510]||(t[510]=T("和")),Q("mjx-container",d6,[(e(),l("svg",o6,t[506]||(t[506]=[a("",1)]))),t[507]||(t[507]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])],-1))]),t[511]||(t[511]=T()),t[512]||(t[512]=Q("code",null,"分布差异较大",-1)),t[513]||(t[513]=T(" 且 ")),t[514]||(t[514]=Q("code",null,"采样轨迹数量不够大",-1)),t[515]||(t[515]=T("时，对")),Q("mjx-container",n6,[(e(),l("svg",r6,t[508]||(t[508]=[a("",1)]))),t[509]||(t[509]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])],-1))]),t[516]||(t[516]=T("的")),t[517]||(t[517]=Q("code",null,"估计不准",-1)),t[518]||(t[518]=T("。"))]),t[519]||(t[519]=Q("li",null,[T("使用"),Q("code",null,"信任区域做限制"),T("。")],-1))])]),t[522]||(t[522]=a("",1))]),t[618]||(t[618]=Q("p",null,[Q("strong",null,"信任区域定义 (KL约束条件)")],-1)),Q("ul",null,[t[526]||(t[526]=Q("li",null,[Q("p",null,[T("其实是定义了一个"),Q("strong",null,"KL约束"),T("，策略空间中的一个"),Q("strong",null,"KL球"),T("，")])],-1)),Q("li",null,[t[525]||(t[525]=Q("p",null,[Q("code",null,"保证新策略不会偏离旧策略太远"),T("，从而保证"),Q("strong",null,"策略的单调提升")],-1)),Q("mjx-container",i6,[(e(),l("svg",h6,t[523]||(t[523]=[a("",1)]))),t[524]||(t[524]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mtext",null," "),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,",")])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"s"),Q("mo",null,"."),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,".")]),Q("mtext",null," "),Q("mtext",null," "),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,"∼"),Q("msup",null,[Q("mi",null,"ρ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"k")])])])])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"旧"),Q("mi",{mathvariant:"normal"},"策"),Q("mi",{mathvariant:"normal"},"略")])])]),Q("mo",null,","),Q("mtext",null," "),Q("mtext",null," "),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"新"),Q("mi",{mathvariant:"normal"},"策"),Q("mi",{mathvariant:"normal"},"略")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),Q("mo",null,"≤"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"δ")])])])])])],-1))])])]),Q("p",null,[t[529]||(t[529]=Q("strong",null,"目标函数理解",-1)),t[530]||(t[530]=T()),Q("mjx-container",g6,[(e(),l("svg",p6,t[527]||(t[527]=[a("",1)]))),t[528]||(t[528]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mtext",null," "),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])])],-1))])]),Q("ul",null,[Q("li",null,[t[544]||(t[544]=T("通过")),Q("strong",null,[t[533]||(t[533]=T("调整策略参数")),Q("mjx-container",H6,[(e(),l("svg",c6,t[531]||(t[531]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),t[532]||(t[532]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"θ")])],-1))]),t[534]||(t[534]=T("使目标最大化"))]),Q("ul",null,[Q("li",null,[Q("strong",null,[Q("mjx-container",u6,[(e(),l("svg",L6,t[535]||(t[535]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),t[536]||(t[536]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"θ")])],-1))]),t[537]||(t[537]=T("：正在优化的新策略"))]),t[538]||(t[538]=T("，是需要寻找的参数"))]),Q("li",null,[Q("strong",null,[Q("mjx-container",w6,[(e(),l("svg",f6,t[539]||(t[539]=[a("",1)]))),t[540]||(t[540]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])],-1))]),t[541]||(t[541]=T("：旧策略"))]),t[542]||(t[542]=T("、已知的策略参数，")),t[543]||(t[543]=Q("strong",null,"第k次迭代",-1))])])]),Q("li",null,[t[568]||(t[568]=Q("code",null,"L 目标函数",-1)),t[569]||(t[569]=T("，代理优势函数，衡量了")),Q("strong",null,[t[549]||(t[549]=T("新策略")),Q("mjx-container",y6,[(e(),l("svg",x6,t[545]||(t[545]=[a("",1)]))),t[546]||(t[546]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[550]||(t[550]=T("比旧策略")),Q("mjx-container",k6,[(e(),l("svg",M6,t[547]||(t[547]=[a("",1)]))),t[548]||(t[548]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])])])],-1))]),t[551]||(t[551]=T("有多好"))]),Q("ul",null,[Q("li",null,[t[558]||(t[558]=T("L 通过")),t[559]||(t[559]=Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/09-policy-ppo-.html#%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7",target:"_blank",rel:"noreferrer"},"重要性采样",-1)),t[560]||(t[560]=T("计算，利用")),t[561]||(t[561]=Q("code",null,"旧策略",-1)),t[562]||(t[562]=T()),Q("strong",null,[Q("mjx-container",Z6,[(e(),l("svg",V6,t[552]||(t[552]=[a("",1)]))),t[553]||(t[553]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])])])],-1))]),t[554]||(t[554]=T("采样的数据"))]),t[563]||(t[563]=T("，来评估")),t[564]||(t[564]=Q("code",null,"新策略",-1)),t[565]||(t[565]=T()),Q("strong",null,[Q("mjx-container",D6,[(e(),l("svg",b6,t[555]||(t[555]=[a("",1)]))),t[556]||(t[556]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[557]||(t[557]=T("的表现"))]),t[566]||(t[566]=T("。"))]),t[567]||(t[567]=Q("li",null,[Q("strong",null,"L > 0"),T("：说明"),Q("code",null,"新策略比旧策略好")],-1))])])]),t[619]||(t[619]=Q("p",null,[Q("strong",null,"约束条件理解")],-1)),Q("mjx-container",j6,[(e(),l("svg",v6,t[570]||(t[570]=[a("",1)]))),t[571]||(t[571]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,"∼"),Q("msup",null,[Q("mi",null,"ρ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"k")])])])])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"旧"),Q("mi",{mathvariant:"normal"},"策"),Q("mi",{mathvariant:"normal"},"略")])])]),Q("mo",null,","),Q("mtext",null," "),Q("mtext",null," "),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"新"),Q("mi",{mathvariant:"normal"},"策"),Q("mi",{mathvariant:"normal"},"略")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),Q("mo",null,"≤"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"δ")])])],-1))]),Q("ul",null,[Q("li",null,[t[583]||(t[583]=Q("a",{href:"http://plmsmile.github.io/posts/llm/basic/01-lm-define-information-theory.html#kl%E6%95%A3%E5%BA%A6-%E4%BA%A4%E5%8F%89%E7%86%B5-%E5%9B%B0%E6%83%91%E5%BA%A6",target:"_blank",rel:"noreferrer"},"KL 散度",-1)),t[584]||(t[584]=T(" ：衡量")),t[585]||(t[585]=Q("code",null,"两个概率分布的差异",-1)),Q("ul",null,[Q("li",null,[Q("strong",null,[Q("mjx-container",A6,[(e(),l("svg",R6,t[572]||(t[572]=[a("",1)]))),t[573]||(t[573]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mn",null,"0")])],-1))])]),t[574]||(t[574]=T("：两个策略在状态s下")),t[575]||(t[575]=Q("code",null,"完全一样",-1))]),Q("li",null,[Q("strong",null,[Q("mjx-container",O6,[(e(),l("svg",_6,t[576]||(t[576]=[a("",1)]))),t[577]||(t[577]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")])],-1))])]),t[578]||(t[578]=T()),t[579]||(t[579]=Q("code",null,"越大",-1)),t[580]||(t[580]=T("，说明")),t[581]||(t[581]=Q("code",null,"新策略比旧策略变化越大",-1)),t[582]||(t[582]=T("。"))])])]),Q("li",null,[Q("strong",null,[t[588]||(t[588]=T("所有状态")),Q("mjx-container",C6,[(e(),l("svg",B6,t[586]||(t[586]=[a("",1)]))),t[587]||(t[587]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")])])],-1))]),t[589]||(t[589]=T("上的平均KL散度"))]),t[614]||(t[614]=T(" 需 ")),Q("mjx-container",E6,[(e(),l("svg",X6,t[590]||(t[590]=[a("",1)]))),t[591]||(t[591]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"E")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,"∼"),Q("msup",null,[Q("mi",null,"ρ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"k")])])])])])])])])])]),Q("mo",null,"≤"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"δ")])])],-1))]),t[615]||(t[615]=T("， ")),Q("ul",null,[Q("li",null,[t[594]||(t[594]=Q("code",null,"平均差异不能太大",-1)),t[595]||(t[595]=T("，")),t[596]||(t[596]=Q("strong",null,"限制",-1)),t[597]||(t[597]=T("在半径为")),Q("mjx-container",S6,[(e(),l("svg",F6,t[592]||(t[592]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D6FF",d:"M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z",style:{"stroke-width":"3"}})])])],-1)]))),t[593]||(t[593]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"δ")])],-1))]),t[598]||(t[598]=T("的小范围/")),t[599]||(t[599]=Q("code",null,"信任区域",-1)),t[600]||(t[600]=T("内 ")),t[601]||(t[601]=Q("ul",null,[Q("li",null,[Q("code",null,"如0.01，信赖域大小")])],-1))]),Q("li",null,[Q("mjx-container",P6,[(e(),l("svg",z6,t[602]||(t[602]=[a("",1)]))),t[603]||(t[603]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,"∼"),Q("msup",null,[Q("mi",null,"ρ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"k")])])])])])])])])],-1))]),t[611]||(t[611]=T("：")),t[612]||(t[612]=Q("strong",null,"状态访问分布",-1)),t[613]||(t[613]=T("，访问各状态的概率是多少。 ")),Q("ul",null,[Q("li",null,[t[608]||(t[608]=T("根据旧策略")),Q("strong",null,[t[606]||(t[606]=T("访问这些状态的频率分布")),Q("mjx-container",I6,[(e(),l("svg",G6,t[604]||(t[604]=[a("",1)]))),t[605]||(t[605]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msup",null,[Q("mi",null,"ρ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])])])])])],-1))]),t[607]||(t[607]=T("来加权"))]),t[609]||(t[609]=T("，关注")),t[610]||(t[610]=Q("code",null,"重要状态的策略变化",-1))])])])])])])]),t[1816]||(t[1816]=Q("h3",{id:"策略目标",tabindex:"-1"},[T("策略目标 "),Q("a",{class:"header-anchor",href:"#策略目标","aria-label":'Permalink to "策略目标"'},"​")],-1)),Q("div",N6,[t[622]||(t[622]=Q("div",{class:"custom-block-title"},"TRPO 策略目标",-1)),Q("mjx-container",J6,[(e(),l("svg",q6,t[620]||(t[620]=[a("",1)]))),t[621]||(t[621]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"T"),Q("mi",{mathvariant:"normal"},"R"),Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"O")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mi",null,"θ")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")]),Q("mo",null,","),Q("mtext",null," "),Q("mtext",null," "),Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"KL")])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"≤"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"δ")])])],-1))])]),Q("div",K6,[t[705]||(t[705]=Q("div",{class:"custom-block-title"},"TRPO 策略目标推导过程",-1)),t[706]||(t[706]=Q("p",null,[Q("strong",null,"核心目标")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[631]||(t[631]=T("期望")),Q("strong",null,[t[627]||(t[627]=T("借助当前")),Q("mjx-container",$6,[(e(),l("svg",Y6,t[623]||(t[623]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),t[624]||(t[624]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"θ")])],-1))]),t[628]||(t[628]=T("找到一个更优")),Q("mjx-container",U6,[(e(),l("svg",W6,t[625]||(t[625]=[a("",1)]))),t[626]||(t[626]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])],-1))])]),t[632]||(t[632]=T("，使得")),Q("mjx-container",Q5,[(e(),l("svg",t5,t[629]||(t[629]=[a("",1)]))),t[630]||(t[630]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"≥"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])],-1))])]),Q("ul",null,[Q("li",null,[Q("mjx-container",T5,[(e(),l("svg",a5,t[633]||(t[633]=[a("",1)]))),t[634]||(t[634]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"、")]),Q("msup",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-alternate":"1"},"′")])])])],-1))]),t[635]||(t[635]=T("：")),t[636]||(t[636]=Q("code",null,"旧策略",-1)),t[637]||(t[637]=T("、")),t[638]||(t[638]=Q("code",null,"新策略",-1)),t[639]||(t[639]=T("。"))]),Q("li",null,[Q("mjx-container",l5,[(e(),l("svg",e5,t[640]||(t[640]=[a("",1)]))),t[641]||(t[641]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"k")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"、")]),Q("mi",null,"θ")])],-1))]),t[642]||(t[642]=T("：")),t[643]||(t[643]=Q("code",null,"旧策略",-1)),t[644]||(t[644]=T("、")),t[645]||(t[645]=Q("code",null,"新策略",-1)),t[646]||(t[646]=T("。两种符号表示。"))])])]),Q("li",null,[Q("p",null,[t[649]||(t[649]=T("只要")),t[650]||(t[650]=Q("strong",null,"找到一个新策略",-1)),t[651]||(t[651]=T("，使")),Q("mjx-container",m5,[(e(),l("svg",s5,t[647]||(t[647]=[a("",1)]))),t[648]||(t[648]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,"∼"),Q("msup",null,[Q("mi",null,"v"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"a"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mo",{stretchy:"false"},"["),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",{stretchy:"false"},"]"),Q("mo",null,"≥"),Q("mn",null,"0")])],-1))]),t[652]||(t[652]=T("，就能")),t[653]||(t[653]=Q("code",null,"保证策略性能单调递增",-1)),t[654]||(t[654]=T("，推导过程见下文"))])])]),Q("mjx-container",d5,[(e(),l("svg",o5,t[655]||(t[655]=[a("",1)]))),t[656]||(t[656]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ")])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,"∼"),Q("msup",null,[Q("mi",null,"ρ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"a"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])])])])],-1))]),Q("mjx-container",n5,[(e(),l("svg",r5,t[657]||(t[657]=[a("",1)]))),t[658]||(t[658]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msup",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[707]||(t[707]=Q("p",null,[Q("strong",null,"难点")],-1)),Q("ul",null,[Q("li",null,[t[663]||(t[663]=Q("em",null,"直接求解该式非常困难",-1)),t[664]||(t[664]=T()),Q("mjx-container",i5,[(e(),l("svg",h5,t[659]||(t[659]=[a("",1)]))),t[660]||(t[660]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,"∼"),Q("msup",null,[Q("mi",null,"ρ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])])])])],-1))]),t[665]||(t[665]=T("，")),Q("strong",null,[Q("mjx-container",g5,[(e(),l("svg",p5,t[661]||(t[661]=[a("",1)]))),t[662]||(t[662]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])],-1))])]),t[666]||(t[666]=T(" 是")),t[667]||(t[667]=Q("code",null,"需要求解的新策略",-1)),t[668]||(t[668]=Q("ul",null,[Q("li",null,"既用新策略收集样本数据，把所有可能的新策略都拿来收集数据"),Q("li",null,[T("然后判断哪个新策略符合上述条件，"),Q("code",null,"显然是不现实的"),T("。")])],-1))]),Q("li",null,[t[672]||(t[672]=T("解法：直接使用")),Q("strong",null,[t[671]||(t[671]=T("旧策略")),Q("mjx-container",H5,[(e(),l("svg",c5,t[669]||(t[669]=[a("",1)]))),t[670]||(t[670]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))])]),t[673]||(t[673]=T(" 的")),t[674]||(t[674]=Q("code",null,"状态分布",-1)),t[675]||(t[675]=Q("ul",null,[Q("li",null,[Q("strong",null,"新旧策略接近时"),T("，"),Q("code",null,"状态访问分布变化小"),T("，"),Q("code",null,"近似是合理的")])],-1))])]),Q("mjx-container",u5,[(e(),l("svg",L5,t[676]||(t[676]=[a("",1)]))),t[677]||(t[677]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,"∼"),Q("msup",null,[Q("mi",null,"ρ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])])]),Q("mo",{stretchy:"false"},"→"),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,"∼"),Q("msup",null,[Q("mi",null,"ρ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])])])])])])],-1))]),t[708]||(t[708]=Q("p",null,[Q("strong",null,"目标优化")],-1)),Q("ul",null,[Q("li",null,[Q("strong",null,[t[680]||(t[680]=T("直接采用旧策略")),Q("mjx-container",w5,[(e(),l("svg",f5,t[678]||(t[678]=[a("",1)]))),t[679]||(t[679]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[681]||(t[681]=T("的状态分布"))]),t[682]||(t[682]=T("，忽略两个策略的状态访问分布"))])]),Q("mjx-container",y5,[(e(),l("svg",x5,t[683]||(t[683]=[a("",1)]))),t[684]||(t[684]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"+"),Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ")])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,"∼"),Q("msup",null,[Q("mi",null,"ρ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"a"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),Q("ul",null,[Q("li",null,[t[697]||(t[697]=Q("code",null,"动作仍用新策略采样得到",-1)),t[698]||(t[698]=T("，用")),t[699]||(t[699]=Q("strong",null,"重要性采样",-1)),t[700]||(t[700]=T("做处理。 ")),Q("ul",null,[Q("li",null,[t[691]||(t[691]=T("这样就能基于")),Q("strong",null,[t[687]||(t[687]=T("旧策略")),Q("mjx-container",k5,[(e(),l("svg",M5,t[685]||(t[685]=[a("",1)]))),t[686]||(t[686]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))])]),t[692]||(t[692]=T()),t[693]||(t[693]=Q("code",null,"采样出的数据",-1)),t[694]||(t[694]=T("，")),t[695]||(t[695]=Q("code",null,"来估计并优化",-1)),t[696]||(t[696]=T()),Q("strong",null,[t[690]||(t[690]=T("新策略")),Q("mjx-container",Z5,[(e(),l("svg",V5,t[688]||(t[688]=[a("",1)]))),t[689]||(t[689]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])],-1))])])])])])]),Q("mjx-container",D5,[(e(),l("svg",b5,t[701]||(t[701]=[a("",1)]))),t[702]||(t[702]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")"),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,"∼"),Q("msup",null,[Q("mi",null,"ρ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"a"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"a"),Q("mo",null,"∣"),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"a"),Q("mo",null,"∣"),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),t[709]||(t[709]=Q("p",null,[Q("strong",null,"KL 约束"),T(" (上文信任域空间)")],-1)),t[710]||(t[710]=Q("ul",null,[Q("li",null,[T("增加"),Q("code",null,"KL约束"),T("，"),Q("code",null,"保证新旧策略足够近")])],-1)),Q("mjx-container",j5,[(e(),l("svg",v5,t[703]||(t[703]=[a("",1)]))),t[704]||(t[704]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])]),Q("mtext",null," "),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,",")])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"s"),Q("mo",null,"."),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,".")]),Q("mtext",null," "),Q("mtext",null," "),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,"∼"),Q("msup",null,[Q("mi",null,"v"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"k")])])])])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mtext",null," "),Q("mtext",null," "),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),Q("mo",null,"≤"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"δ")])])])])])],-1))]),t[711]||(t[711]=a("",1))]),t[1817]||(t[1817]=Q("p",null,"信任区域示意图：左侧无信任区域，梯度更新可能导致性能骤降；右侧有信任区域，每次梯度更新都能带来稳定提升。",-1)),t[1818]||(t[1818]=Q("img",{src:"https://hrl.boyuai.com/static/640.50a56fc9.png",style:{display:"block",margin:"auto"},width:"70%"},null,-1)),Q("div",A5,[t[722]||(t[722]=Q("div",{class:"custom-block-title"},"目标推导过程",-1)),Q("p",null,[Q("strong",null,[Q("mjx-container",R5,[(e(),l("svg",O5,t[712]||(t[712]=[a("",1)]))),t[713]||(t[713]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])],-1))]),t[714]||(t[714]=T(" 另一种形式"))])]),Q("mjx-container",_5,[(e(),l("svg",C5,t[715]||(t[715]=[a("",1)]))),t[716]||(t[716]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"s"),Q("mn",null,"0")])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mn",null,"0")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"t")]),Q("mo",null,"⋅"),Q("msup",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"t")]),Q("mo",null,"⋅"),Q("msup",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"−"),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])]),Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"t")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"γ"),Q("msup",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])])])])],-1))]),Q("p",null,[Q("strong",null,[Q("mjx-container",B5,[(e(),l("svg",E5,t[717]||(t[717]=[a("",1)]))),t[718]||(t[718]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])],-1))]),t[719]||(t[719]=T("推导过程"))])]),Q("mjx-container",X5,[(e(),l("svg",S5,t[720]||(t[720]=[a("",1)]))),t[721]||(t[721]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"s"),Q("mn",null,"0")])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mn",null,"0")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"s"),Q("mn",null,"0")])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mn",null,"0")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"t")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"t")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"γ"),Q("msup",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"t")])]),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msup",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"t")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"γ"),Q("mi",null,"t")])]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,"∼"),Q("msup",null,[Q("mi",null,"v"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"a"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mo",{stretchy:"false"},"["),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",{stretchy:"false"},"]")])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"λ")])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,"∼"),Q("msup",null,[Q("mi",null,"v"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"a"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",{"data-mjx-alternate":"1"},"′")])])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mo",{stretchy:"false"},"["),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",{stretchy:"false"},"]")])])])])],-1))])]),t[1819]||(t[1819]=Q("h3",{id:"广义优势估计-1",tabindex:"-1"},[T("广义优势估计 "),Q("a",{class:"header-anchor",href:"#广义优势估计-1","aria-label":'Permalink to "广义优势估计"'},"​")],-1)),t[1820]||(t[1820]=Q("p",null,[Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#%E5%B9%BF%E4%B9%89%E4%BC%98%E5%8A%BF%E4%BC%B0%E8%AE%A1",target:"_blank",rel:"noreferrer"},"GAE 笔记")],-1)),Q("div",F5,[t[729]||(t[729]=Q("div",{class:"custom-block-title"},"GAE",-1)),t[730]||(t[730]=Q("ul",null,[Q("li",null,"对不同TD步数的优势估计进行指数加权平均，平衡方差和偏差")],-1)),Q("mjx-container",P5,[(e(),l("svg",z5,t[723]||(t[723]=[a("",1)]))),t[724]||(t[724]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",{stretchy:"false"},")")])])],-1))]),Q("mjx-container",I5,[(e(),l("svg",G5,t[725]||(t[725]=[a("",1)]))),t[726]||(t[726]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mi",null,"λ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])],-1))]),Q("mjx-container",N5,[(e(),l("svg",J5,t[727]||(t[727]=[a("",1)]))),t[728]||(t[728]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mi",null,"λ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])])],-1))])]),t[1821]||(t[1821]=a("",3)),Q("div",q5,[t[755]||(t[755]=Q("div",{class:"custom-block-title"},"PPO 核心思想",-1)),t[756]||(t[756]=Q("p",null,[Q("strong",null,"背景")],-1)),t[757]||(t[757]=Q("ul",null,[Q("li",null,"TRPO计算复杂， 每步更新运算量非常大。"),Q("li",null,"PPO基于TRPO思想，但实现更简单。能学的一样好、甚至更快。")],-1)),t[758]||(t[758]=Q("p",null,[Q("strong",null,"PPO 核心思想")],-1)),Q("ul",null,[t[754]||(t[754]=a("",2)),Q("li",null,[t[753]||(t[753]=Q("p",null,[T("引入"),Q("code",null,"Clip或Penalty")],-1)),Q("ul",null,[Q("li",null,[t[751]||(t[751]=Q("p",null,[T("解决"),Q("code",null,"采样方差大"),T("& "),Q("strong",null,"重要性采样"),Q("code",null,"分布差异大"),T("+"),Q("code",null,"采样数量不足"),T("面临的问题")],-1)),Q("ul",null,[Q("li",null,[Q("strong",null,[t[735]||(t[735]=T("把")),Q("mjx-container",K5,[(e(),l("svg",$5,t[731]||(t[731]=[a("",1)]))),t[732]||(t[732]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[736]||(t[736]=T("和")),Q("mjx-container",Y5,[(e(),l("svg",U5,t[733]||(t[733]=[a("",1)]))),t[734]||(t[734]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])],-1))]),t[737]||(t[737]=T("的相似性"))]),t[747]||(t[747]=T(" 作为")),Q("mjx-container",W5,[(e(),l("svg",Q0,t[738]||(t[738]=[a("",1)]))),t[739]||(t[739]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")])],-1))]),t[748]||(t[748]=T("的")),t[749]||(t[749]=Q("code",null,"约束条件",-1)),t[750]||(t[750]=T("。 ")),Q("ul",null,[t[746]||(t[746]=Q("li",null,[T("TRPO："),Q("code",null,"KL约束"),T("，做一个信任区域")],-1)),Q("li",null,[t[744]||(t[744]=T("PPO：")),Q("strong",null,[t[742]||(t[742]=T("把约束条件放回")),Q("mjx-container",t0,[(e(),l("svg",T0,t[740]||(t[740]=[a("",1)]))),t[741]||(t[741]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")])],-1))]),t[743]||(t[743]=T("中做优化"))]),t[745]||(t[745]=T("，CLIP 或 Penalty。"))])])])])]),t[752]||(t[752]=Q("li",null,[Q("p",null,[T("使用"),Q("code",null,"Clip或Penalty"),T(),Q("code",null,"增强训练稳定性")])],-1))])])])]),t[1822]||(t[1822]=Q("h3",{id:"ppo-clip",tabindex:"-1"},[T("PPO-Clip "),Q("a",{class:"header-anchor",href:"#ppo-clip","aria-label":'Permalink to "PPO-Clip"'},"​")],-1)),Q("div",a0,[t[830]||(t[830]=a("",4)),Q("mjx-container",l0,[(e(),l("svg",e0,t[759]||(t[759]=[a("",1)]))),t[760]||(t[760]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"arg"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"τ"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t[831]||(t[831]=Q("p",null,[Q("strong",null,"CLIP 信任域")],-1)),Q("ul",null,[Q("li",null,[t[788]||(t[788]=T("考虑")),t[789]||(t[789]=Q("strong",null,"采样不足",-1)),t[790]||(t[790]=T("的情况下，")),Q("strong",null,[Q("mjx-container",m0,[(e(),l("svg",s0,t[761]||(t[761]=[a("",1)]))),t[762]||(t[762]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[765]||(t[765]=T("和")),Q("mjx-container",d0,[(e(),l("svg",o0,t[763]||(t[763]=[a("",1)]))),t[764]||(t[764]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])],-1))]),t[766]||(t[766]=T(" 分布差异不能太大"))]),Q("ul",null,[Q("li",null,[t[771]||(t[771]=T("因此")),Q("mjx-container",n0,[(e(),l("svg",r0,t[767]||(t[767]=[a("",1)]))),t[768]||(t[768]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])])])],-1))]),t[772]||(t[772]=T("是")),t[773]||(t[773]=Q("code",null,"有上限和下限的",-1)),t[774]||(t[774]=T("，需保证")),Q("mjx-container",i0,[(e(),l("svg",h0,t[769]||(t[769]=[a("",1)]))),t[770]||(t[770]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])])])],-1))]),t[775]||(t[775]=T()),t[776]||(t[776]=Q("code",null,"在信任域内",-1)),t[777]||(t[777]=T("。"))]),Q("li",null,[t[782]||(t[782]=Q("code",null,"不能一味轻信",-1)),t[783]||(t[783]=T()),Q("mjx-container",g0,[(e(),l("svg",p0,t[778]||(t[778]=[a("",1)]))),t[779]||(t[779]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[784]||(t[784]=T("， ")),t[785]||(t[785]=Q("code",null,"来提升或降低",-1)),t[786]||(t[786]=T()),Q("mjx-container",H0,[(e(),l("svg",c0,t[780]||(t[780]=[a("",1)]))),t[781]||(t[781]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[787]||(t[787]=T("。"))])])]),Q("li",null,[t[808]||(t[808]=Q("code",null,"CLIP 信任域",-1)),Q("ul",null,[Q("li",null,[Q("mjx-container",u0,[(e(),l("svg",L0,t[791]||(t[791]=[a("",1)]))),t[792]||(t[792]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mo",{stretchy:"false"},"["),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"ϵ")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"+"),Q("mi",null,"ϵ")]),Q("mo",{stretchy:"false"},"]")])],-1))])]),Q("li",null,[t[798]||(t[798]=T("保证 ")),Q("strong",null,[Q("mjx-container",w0,[(e(),l("svg",f0,t[793]||(t[793]=[a("",1)]))),t[794]||(t[794]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[797]||(t[797]=T("和")),Q("mjx-container",y0,[(e(),l("svg",x0,t[795]||(t[795]=[a("",1)]))),t[796]||(t[796]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])],-1))])]),t[799]||(t[799]=T(" 的 ")),t[800]||(t[800]=Q("code",null,"比值CLIP",-1)),t[801]||(t[801]=T("、")),t[802]||(t[802]=Q("code",null,"新旧策略的似然比",-1)),t[803]||(t[803]=T("、")),t[804]||(t[804]=Q("code",null,"策略更新幅度",-1)),t[805]||(t[805]=T("，在一个")),t[806]||(t[806]=Q("code",null,"信任域内",-1))]),t[807]||(t[807]=Q("li",null,[Q("strong",null,"超出信任域"),T("，就做"),Q("code",null,"裁剪"),T("。")],-1))])])]),Q("mjx-container",k0,[(e(),l("svg",M0,t[809]||(t[809]=[a("",1)]))),t[810]||(t[810]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"ϵ")]),Q("mo",null,"≤"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"≤"),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"+"),Q("mi",null,"ϵ")])])],-1))]),t[832]||(t[832]=Q("ul",null,[Q("li",null,[T("通过"),Q("strong",null,"限制策略的更新幅度"),T("，使新旧策略的距离尽可能小，也是"),Q("strong",null,"近端优化名字"),T("的来源。")])],-1)),t[833]||(t[833]=Q("p",null,[Q("strong",null,"优化目标")],-1)),Q("ul",null,[Q("li",null,[t[820]||(t[820]=Q("strong",null,"不做KL散度约束",-1)),t[821]||(t[821]=T("，直接把")),t[822]||(t[822]=Q("code",null,"CLIP 信任域",-1)),t[823]||(t[823]=T("放到")),t[824]||(t[824]=Q("strong",null,"目标函数",-1)),t[825]||(t[825]=T("中 ")),Q("ul",null,[Q("li",null,[t[817]||(t[817]=T("约束变化范围，约束 ")),Q("strong",null,[Q("mjx-container",Z0,[(e(),l("svg",V0,t[811]||(t[811]=[a("",1)]))),t[812]||(t[812]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[815]||(t[815]=T("和")),Q("mjx-container",D0,[(e(),l("svg",b0,t[813]||(t[813]=[a("",1)]))),t[814]||(t[814]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])],-1))]),t[816]||(t[816]=T("的相似性"))]),t[818]||(t[818]=T("。"))]),t[819]||(t[819]=Q("li",null,"希望采样策略和学习策略不要差距太大。",-1))])])]),Q("mjx-container",j0,[(e(),l("svg",v0,t[826]||(t[826]=[a("",1)]))),t[827]||(t[827]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"O")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"C"),Q("mi",{mathvariant:"normal"},"L"),Q("mi",{mathvariant:"normal"},"I"),Q("mi",{mathvariant:"normal"},"P")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"τ"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"red"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{"data-mjx-auto-op":"false"},"clip")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"ϵ")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"+"),Q("mi",null,"ϵ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q("mjx-container",A0,[(e(),l("svg",R0,t[828]||(t[828]=[a("",1)]))),t[829]||(t[829]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"O")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"C"),Q("mi",{mathvariant:"normal"},"L"),Q("mi",{mathvariant:"normal"},"I"),Q("mi",{mathvariant:"normal"},"P")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")])])]),Q("mstyle",{mathcolor:"red"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{"data-mjx-auto-op":"false"},"clip")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"ϵ")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"+"),Q("mi",null,"ϵ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))])]),t[1823]||(t[1823]=Q("img",{src:"https://datawhalechina.github.io/easy-rl/img/ch5/5.2.png",style:{display:"block",margin:"auto"},width:"70%"},null,-1)),t[1824]||(t[1824]=Q("img",{src:"https://datawhalechina.github.io/easy-rl/img/ch5/5.3.png",style:{display:"block",margin:"auto"},width:"70%"},null,-1)),t[1825]||(t[1825]=Q("h3",{id:"ppo-penalty",tabindex:"-1"},[T("PPO-Penalty "),Q("a",{class:"header-anchor",href:"#ppo-penalty","aria-label":'Permalink to "PPO-Penalty"'},"​")],-1)),Q("div",O0,[t[874]||(t[874]=a("",5)),Q("mjx-container",_0,[(e(),l("svg",C0,t[834]||(t[834]=[a("",1)]))),t[835]||(t[835]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"P"),Q("mi",null,"P"),Q("mi",null,"O")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",{mathvariant:"normal"},"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"KL")])])])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mo",{stretchy:"false"},")")])],-1))]),Q("ul",null,[Q("li",null,[t[838]||(t[838]=T("对")),t[839]||(t[839]=Q("code",null,"KL散度设置阈值",-1)),t[840]||(t[840]=T()),Q("mjx-container",B0,[(e(),l("svg",E0,t[836]||(t[836]=[a("",1)]))),t[837]||(t[837]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mo",{stretchy:"false"},"["),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"KL")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"KL")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max")])])]),Q("mo",{stretchy:"false"},"]")])],-1))])]),Q("li",null,[t[866]||(t[866]=T("超参")),Q("mjx-container",X0,[(e(),l("svg",S0,t[841]||(t[841]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D6FD",d:"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z",style:{"stroke-width":"3"}})])])],-1)]))),t[842]||(t[842]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"β")])],-1))]),t[867]||(t[867]=T("的调整策略：自动调节、自适应KL散度 ")),Q("ul",null,[Q("li",null,[Q("mjx-container",F0,[(e(),l("svg",P0,t[843]||(t[843]=[a("",1)]))),t[844]||(t[844]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"KL")])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"≥"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"KL")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max")])])])])],-1))]),Q("ul",null,[Q("li",null,[Q("mjx-container",z0,[(e(),l("svg",I0,t[845]||(t[845]=[a("",1)]))),t[846]||(t[846]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[850]||(t[850]=T()),t[851]||(t[851]=Q("code",null,"新策略偏离旧策略太远",-1)),t[852]||(t[852]=T(" ，应该")),Q("strong",null,[t[849]||(t[849]=T("增大")),Q("mjx-container",G0,[(e(),l("svg",N0,t[847]||(t[847]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D6FD",d:"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z",style:{"stroke-width":"3"}})])])],-1)]))),t[848]||(t[848]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"β")])],-1))])]),t[853]||(t[853]=T("，")),t[854]||(t[854]=Q("code",null,"把分布拉回来",-1))])])]),Q("li",null,[Q("mjx-container",J0,[(e(),l("svg",q0,t[855]||(t[855]=[a("",1)]))),t[856]||(t[856]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"KL")])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"≤"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"KL")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")])])])])],-1))]),Q("ul",null,[t[864]||(t[864]=Q("li",null,"当前策略可能找到一条接近，只优化KL散度。",-1)),t[865]||(t[865]=Q("li",null,[T("让自己和旧策略相近，而"),Q("code",null,"不去优化优势相关的项")],-1)),Q("li",null,[t[860]||(t[860]=T("应该")),Q("strong",null,[t[859]||(t[859]=T("减小")),Q("mjx-container",K0,[(e(),l("svg",$0,t[857]||(t[857]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D6FD",d:"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z",style:{"stroke-width":"3"}})])])],-1)]))),t[858]||(t[858]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"β")])],-1))])]),t[861]||(t[861]=T("，")),t[862]||(t[862]=Q("code",null,"降低KL散度对目标的影响",-1)),t[863]||(t[863]=T("。"))])])])])])]),t[875]||(t[875]=Q("p",null,[Q("strong",null,"优化目标")],-1)),t[876]||(t[876]=Q("ul",null,[Q("li",null,"原始优化目标")],-1)),Q("mjx-container",Y0,[(e(),l("svg",U0,t[868]||(t[868]=[a("",1)]))),t[869]||(t[869]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"arg"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"τ"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t[877]||(t[877]=Q("ul",null,[Q("li",null,[Q("code",null,"引入KL Penalty后的优化目标")])],-1)),Q("mjx-container",W0,[(e(),l("svg",Q7,t[870]||(t[870]=[a("",1)]))),t[871]||(t[871]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"arg"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"O")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"K"),Q("mi",{mathvariant:"normal"},"L")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"τ"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"K"),Q("mi",{mathvariant:"normal"},"L")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q("mjx-container",t7,[(e(),l("svg",T7,t[872]||(t[872]=[a("",1)]))),t[873]||(t[873]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"P"),Q("mi",null,"P"),Q("mi",null,"O")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"KL")])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",{stretchy:"false"},")")])],-1))])]),t[1826]||(t[1826]=Q("h3",{id:"actor",tabindex:"-1"},[T("Actor "),Q("a",{class:"header-anchor",href:"#actor","aria-label":'Permalink to "Actor"'},"​")],-1)),t[1827]||(t[1827]=Q("h4",{id:"策略目标-1",tabindex:"-1"},[T("策略目标 "),Q("a",{class:"header-anchor",href:"#策略目标-1","aria-label":'Permalink to "策略目标"'},"​")],-1)),Q("div",a7,[t[894]||(t[894]=Q("div",{class:"custom-block-title"},"PPO 策略目标",-1)),t[895]||(t[895]=Q("p",null,[Q("strong",null,"1. 普通优势策略目标")],-1)),Q("mjx-container",l7,[(e(),l("svg",e7,t[878]||(t[878]=[a("",1)]))),t[879]||(t[879]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"优"),Q("mi",{mathvariant:"normal"},"势")])])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t[896]||(t[896]=Q("p",null,[Q("strong",null,"2. TRPO策略目标")],-1)),Q("mjx-container",m7,[(e(),l("svg",s7,t[880]||(t[880]=[a("",1)]))),t[881]||(t[881]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"T"),Q("mi",{mathvariant:"normal"},"R"),Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"O")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mi",null,"θ")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")]),Q("mo",null,","),Q("mtext",null," "),Q("mtext",null," "),Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"KL")])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"≤"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"δ")])])],-1))]),t[897]||(t[897]=Q("p",null,[Q("strong",null,"3. PPO-CLIP 策略目标"),T(" ‼️")],-1)),t[898]||(t[898]=Q("ul",null,[Q("li",null,[Q("code",null,"期望写法")])],-1)),Q("mjx-container",d7,[(e(),l("svg",o7,t[882]||(t[882]=[a("",1)]))),t[883]||(t[883]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"O")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"C"),Q("mi",{mathvariant:"normal"},"L"),Q("mi",{mathvariant:"normal"},"I"),Q("mi",{mathvariant:"normal"},"P")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"τ"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"red"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{"data-mjx-auto-op":"false"},"clip")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"ϵ")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"+"),Q("mi",null,"ϵ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q("mjx-container",n7,[(e(),l("svg",r7,t[884]||(t[884]=[a("",1)]))),t[885]||(t[885]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"O")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"C"),Q("mi",{mathvariant:"normal"},"L"),Q("mi",{mathvariant:"normal"},"I"),Q("mi",{mathvariant:"normal"},"P")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")])])]),Q("mstyle",{mathcolor:"red"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{"data-mjx-auto-op":"false"},"clip")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"ϵ")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"+"),Q("mi",null,"ϵ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t[899]||(t[899]=Q("ul",null,[Q("li",null,[Q("code",null,"序列内平均写法")])],-1)),Q("mjx-container",i7,[(e(),l("svg",h7,t[886]||(t[886]=[a("",1)]))),t[887]||(t[887]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"O")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"C"),Q("mi",{mathvariant:"normal"},"L"),Q("mi",{mathvariant:"normal"},"I"),Q("mi",{mathvariant:"normal"},"P")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"q"),Q("mo",null,","),Q("mi",null,"o"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("mi",null,"o"),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("mi",null,"o"),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),Q("mstyle",{mathcolor:"red"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"A"),Q("mi",null,"t")])]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"clip")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"ϵ")]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"+"),Q("mi",null,"ϵ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"A"),Q("mi",null,"t")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t[900]||(t[900]=Q("ul",null,[Q("li",null,[Q("code",null,"Token-Level Loss"),T("，2级平均。"),Q("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/11-grpo-series.html#token-level-loss",target:"_blank",rel:"noreferrer"},"DAPO token-level loss"),T(", "),Q("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/10-ppo-series.html#%E8%A7%A3%E5%86%B3%E9%95%BF%E5%BA%A6%E4%B8%8D%E4%B8%80%E9%97%AE%E9%A2%98-length-adaptive-gae-token-level-policy-loss",target:"_blank",rel:"noreferrer"},"VAPO 解决长度不一问题")])],-1)),Q("mjx-container",g7,[(e(),l("svg",p7,t[888]||(t[888]=[a("",1)]))),t[889]||(t[889]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"L")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"ppo")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"G")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G")])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"样"),Q("mi",{mathvariant:"normal"},"本"),Q("mi",{mathvariant:"normal"},"间"),Q("mi",{mathvariant:"normal"},"平"),Q("mi",{mathvariant:"normal"},"均")])])]),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"i")]),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"序列内平均")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])])]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("mtext",null,"clip")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"ϵ")]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"1"),Q("mo",null,"+"),Q("mi",null,"ϵ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t[901]||(t[901]=Q("p",null,[Q("strong",null,"4. PPO-KLPenalty 策略目标")],-1)),Q("mjx-container",H7,[(e(),l("svg",c7,t[890]||(t[890]=[a("",1)]))),t[891]||(t[891]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"P"),Q("mi",null,"P"),Q("mi",null,"O")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"KL")])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",{stretchy:"false"},")")])],-1))]),Q("mjx-container",u7,[(e(),l("svg",L7,t[892]||(t[892]=[a("",1)]))),t[893]||(t[893]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"arg"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"O")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"K"),Q("mi",{mathvariant:"normal"},"L")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"τ"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"K"),Q("mi",{mathvariant:"normal"},"L")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))])]),t[1828]||(t[1828]=Q("h4",{id:"ppo-loss",tabindex:"-1"},[T("PPO Loss "),Q("a",{class:"header-anchor",href:"#ppo-loss","aria-label":'Permalink to "PPO Loss"'},"​")],-1)),t[1829]||(t[1829]=Q("p",null,"Actor在PPO epoch中，使用同一批数据做迭代更新的。",-1)),Q("div",w7,[t[916]||(t[916]=Q("div",{class:"custom-block-title"},"PPO Loss",-1)),t[917]||(t[917]=Q("p",null,[Q("strong",null,"重要性采样/比率")],-1)),t[918]||(t[918]=Q("ul",null,[Q("li",null,"为了稳定性，会对重要性采样做一个截断")],-1)),Q("mjx-container",f7,[(e(),l("svg",y7,t[902]||(t[902]=[a("",1)]))),t[903]||(t[903]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])])],-1))]),Q("mjx-container",x7,[(e(),l("svg",k7,t[904]||(t[904]=[a("",1)]))),t[905]||(t[905]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mtext",null,"clip")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mtext",null,"min_r"),Q("mo",null,","),Q("mtext",null,"max_r")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])],-1))]),t[919]||(t[919]=Q("ul",null,[Q("li",null,[Q("strong",null,"negative_approx_kl"),T(" ="),Q("code",null," log_prob - old_log_prob")]),Q("li",null,"negative_approx_kl = torch.clamp(negative_approx_kl, min=-20.0, maxs=20.0)")],-1)),t[920]||(t[920]=Q("p",null,[Q("strong",null,"PPO Loss")],-1)),Q("mjx-container",M7,[(e(),l("svg",Z7,t[906]||(t[906]=[a("",1)]))),t[907]||(t[907]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mtext",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"O"),Q("mo",null,"−"),Q("mi",{mathvariant:"normal"},"s"),Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"d")])])])]),Q("mo",null,"="),Q("mo",null,"−"),Q("mstyle",{mathcolor:"red"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{"data-mjx-auto-op":"false"},"clip")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"ϵ")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"+"),Q("mi",null,"ϵ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q("mjx-container",V7,[(e(),l("svg",D7,t[908]||(t[908]=[a("",1)]))),t[909]||(t[909]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"L")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"ppo")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"G")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G")])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"样"),Q("mi",{mathvariant:"normal"},"本"),Q("mi",{mathvariant:"normal"},"间"),Q("mi",{mathvariant:"normal"},"平"),Q("mi",{mathvariant:"normal"},"均")])])]),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"i")]),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"序列内平均")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])])]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("mtext",null,"clip")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"ϵ")]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"1"),Q("mo",null,"+"),Q("mi",null,"ϵ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t[921]||(t[921]=Q("ul",null,[Q("li",null,[Q("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/11-grpo-series.html#token-level-loss",target:"_blank",rel:"noreferrer"},"DAPO token-level loss"),T(", "),Q("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/10-ppo-series.html#%E8%A7%A3%E5%86%B3%E9%95%BF%E5%BA%A6%E4%B8%8D%E4%B8%80%E9%97%AE%E9%A2%98-length-adaptive-gae-token-level-policy-loss",target:"_blank",rel:"noreferrer"},"VAPO 解决长度不一问题")])],-1)),t[922]||(t[922]=Q("p",null,[Q("strong",null,"Dual-Clip Loss")],-1)),Q("ul",null,[Q("li",null,[t[912]||(t[912]=T("在优势")),Q("mjx-container",b7,[(e(),l("svg",j7,t[910]||(t[910]=[a("",1)]))),t[911]||(t[911]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"A"),Q("mi",null,"t")]),Q("mo",null,"<"),Q("mn",null,"0")])],-1))]),t[913]||(t[913]=T("时，额外增加一个裁剪"))])]),Q("mjx-container",v7,[(e(),l("svg",A7,t[914]||(t[914]=[a("",1)]))),t[915]||(t[915]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msubsup",null,[Q("mi",null,"L"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"Dual-Clip")])]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"{"),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:".2em"},[Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mtext",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"O"),Q("mo",null,"−"),Q("mi",{mathvariant:"normal"},"s"),Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"d")])])])])]),Q("mtd",null,[Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("msub",null,[Q("mi",null,"A"),Q("mi",null,"t")]),Q("mo",null,"≥"),Q("mn",null,"0")])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mtext",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"O"),Q("mo",null,"−"),Q("mi",{mathvariant:"normal"},"s"),Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"d")])])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"−"),Q("mi",null,"c"),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"A"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mtd",null,[Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("msub",null,[Q("mi",null,"A"),Q("mi",null,"t")]),Q("mo",null,"<"),Q("mn",null,"0")])])]),Q("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])]),t[1830]||(t[1830]=Q("h4",{id:"熵奖励",tabindex:"-1"},[T("熵奖励 "),Q("a",{class:"header-anchor",href:"#熵奖励","aria-label":'Permalink to "熵奖励"'},"​")],-1)),t[1831]||(t[1831]=Q("p",null,[Q("a",{href:"https://plmsmile.github.io/posts/llm/basic/01-lm-define-information-theory.html#%E7%86%B5%E8%AE%A1%E7%AE%97%E5%AE%9E%E7%8E%B0",target:"_blank",rel:"noreferrer"},"熵计算实现")],-1)),Q("div",R7,[t[925]||(t[925]=a("",5)),Q("mjx-container",O7,[(e(),l("svg",_7,t[923]||(t[923]=[a("",1)]))),t[924]||(t[924]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mi",null,"o"),Q("mi",null,"t"),Q("mi",null,"a"),Q("mi",null,"l")])]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"p"),Q("mi",null,"p"),Q("mi",null,"o")])]),Q("mo",null,"−"),Q("msub",null,[Q("mi",null,"β"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"H")])]),Q("mo",null,"⋅"),Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"e"),Q("mi",null,"n"),Q("mi",null,"t"),Q("mi",null,"r"),Q("mi",null,"o"),Q("mi",null,"p"),Q("mi",null,"y")])])])],-1))])]),t[1832]||(t[1832]=a("",3)),Q("div",C7,[t[939]||(t[939]=Q("div",{class:"custom-block-title"},"KL 惩罚",-1)),t[940]||(t[940]=Q("p",null,[Q("strong",null,"背景")],-1)),Q("ul",null,[Q("li",null,[t[928]||(t[928]=T("RLHF中通常有一个SFT后的")),Q("mjx-container",B7,[(e(),l("svg",E7,t[926]||(t[926]=[a("",1)]))),t[927]||(t[927]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])])])],-1))]),t[929]||(t[929]=T("模型，具有一定能力。"))]),Q("li",null,[t[932]||(t[932]=T("Reward Hacking问题：如果不对")),Q("mjx-container",X7,[(e(),l("svg",S7,t[930]||(t[930]=[a("",1)]))),t[931]||(t[931]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[933]||(t[933]=T("进行约束，可能会走捷径骗过RM，来获取高奖励。"))]),t[934]||(t[934]=Q("li",null,"KL loss正则化手段，给策略上缰绳，允许追求高奖励、同时又防止跑偏太远。",-1))]),t[941]||(t[941]=Q("p",null,[Q("strong",null,"计算公式")],-1)),Q("mjx-container",F7,[(e(),l("svg",P7,t[935]||(t[935]=[a("",1)]))),t[936]||(t[936]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"k"),Q("msub",null,[Q("mi",null,"l"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mi",null,"o"),Q("mi",null,"s"),Q("mi",null,"s")])]),Q("mo",null,"="),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])])])])]),Q("mo",{stretchy:"false"},")")])],-1))]),Q("mjx-container",z7,[(e(),l("svg",I7,t[937]||(t[937]=[a("",1)]))),t[938]||(t[938]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])])])])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"−"),Q("mi",null,"log")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"−"),Q("mn",null,"1")])],-1))])]),t[1833]||(t[1833]=a("",10)),Q("div",G7,[t[964]||(t[964]=Q("div",{class:"custom-block-title"},"Reward Model 训练",-1)),t[965]||(t[965]=Q("p",null,[Q("strong",null,"目标")],-1)),t[966]||(t[966]=Q("ul",null,[Q("li",null,[T("给 "),Q("code",null,"(Prompt, Response)"),T(" 打分，输出"),Q("code",null,"1个标量"),T("。")])],-1)),t[967]||(t[967]=Q("p",null,[Q("strong",null,"主流方法")],-1)),Q("ul",null,[t[959]||(t[959]=Q("li",null,[Q("p",null,[Q("strong",null,"偏好数据收集")]),Q("ul",null,[Q("li",null,"1个Prompt，输出多个Response，人类排序"),Q("li",null,[T("偏好数据："),Q("code",null,"(prompt, chosen_response, rejected_response)")])])],-1)),Q("li",null,[t[944]||(t[944]=Q("p",null,[T("训练目标："),Q("strong",null,"好回复的分数比差回复的分数高")],-1)),Q("mjx-container",N7,[(e(),l("svg",J7,t[942]||(t[942]=[a("",1)]))),t[943]||(t[943]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"R"),Q("mi",null,"M")]),Q("mo",{stretchy:"false"},"("),Q("mtext",null,"prompt"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mtext",null,"chosen_response")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,">"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"R"),Q("mi",null,"M")]),Q("mo",{stretchy:"false"},"("),Q("mtext",null,"prompt"),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("mtext",null,"rejected_response")]),Q("mo",{stretchy:"false"},")")])],-1))])]),Q("li",null,[t[958]||(t[958]=Q("p",null,[Q("strong",null,"Pairwise Loss")],-1)),Q("ul",null,[Q("li",null,[Q("mjx-container",q7,[(e(),l("svg",K7,t[945]||(t[945]=[a("",1)]))),t[946]||(t[946]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mtext",null,"score"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"c"),Q("mi",null,"h"),Q("mi",null,"o"),Q("mi",null,"s"),Q("mi",null,"e"),Q("mi",null,"n")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mtext",null,"score"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"j"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mi",null,"t")])])])])],-1))]),t[947]||(t[947]=T("：原始分数差；目标：")),t[948]||(t[948]=Q("code",null,"最大化原始分数差",-1))]),t[957]||(t[957]=Q("li",null,[T("Sigmoid："),Q("strong",null,"模型认为"),T(),Q("code",null,"Chosen比Reject分数好的概率"),T("；目标："),Q("code",null,"把概率推向1")],-1)),Q("li",null,[Q("mjx-container",$7,[(e(),l("svg",Y7,t[949]||(t[949]=[a("",1)]))),t[950]||(t[950]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mo",null,"−"),Q("mi",null,"log")])])],-1))]),t[951]||(t[951]=T("：")),t[952]||(t[952]=Q("a",{href:"https://plmsmile.github.io/posts/llm/basic/01-lm-define-information-theory.html#kl%E6%95%A3%E5%BA%A6-%E4%BA%A4%E5%8F%89%E7%86%B5-%E5%9B%B0%E6%83%91%E5%BA%A6",target:"_blank",rel:"noreferrer"},"交叉熵",-1)),t[953]||(t[953]=T("loss，")),t[954]||(t[954]=Q("strong",null,"对错误概率进行惩罚",-1)),t[955]||(t[955]=T("；目标：")),t[956]||(t[956]=Q("code",null,"最小化惩罚",-1))])])])]),Q("mjx-container",U7,[(e(),l("svg",W7,t[960]||(t[960]=[a("",1)]))),t[961]||(t[961]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtext",null,"loss"),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mo",null,"−"),Q("mi",null,"log")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"σ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"R"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"c")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"R"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"r")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q("mjx-container",Q8,[(e(),l("svg",t8,t[962]||(t[962]=[a("",1)]))),t[963]||(t[963]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtext",null,"loss"),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mo",null,"−"),Q("mi",null,"log")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"σ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mtext",null,"score"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"c"),Q("mi",null,"h"),Q("mi",null,"o"),Q("mi",null,"s"),Q("mi",null,"e"),Q("mi",null,"n")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mtext",null,"score"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"j"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mi",null,"t")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))])]),t[1834]||(t[1834]=Q("h4",{id:"reward-model-即时奖励",tabindex:"-1"},[T("Reward Model 即时奖励 "),Q("a",{class:"header-anchor",href:"#reward-model-即时奖励","aria-label":'Permalink to "Reward Model 即时奖励"'},"​")],-1)),Q("div",T8,[t[1008]||(t[1008]=Q("div",{class:"custom-block-title"},"Reward",-1)),t[1009]||(t[1009]=Q("p",null,[Q("strong",null,"RM 打分")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[971]||(t[971]=T("在NLP中，RM仅对")),t[972]||(t[972]=Q("strong",null,"整个Response",-1)),t[973]||(t[973]=T("打")),t[974]||(t[974]=Q("strong",null,"1个分",-1)),t[975]||(t[975]=T("，仅")),t[976]||(t[976]=Q("code",null,"最后一个token",-1)),t[977]||(t[977]=T("才有")),Q("strong",null,[t[970]||(t[970]=T("奖励")),Q("mjx-container",a8,[(e(),l("svg",l8,t[968]||(t[968]=[a("",1)]))),t[969]||(t[969]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T")])])])],-1))])]),t[978]||(t[978]=T("，其余设为0。"))]),Q("ul",null,[Q("li",null,[t[983]||(t[983]=T("下文")),t[984]||(t[984]=Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#critic",target:"_blank",rel:"noreferrer"},"Critic",-1)),t[985]||(t[985]=T("目标之一：使")),t[986]||(t[986]=Q("code",null,"最后一个token的回报",-1)),t[987]||(t[987]=T(" 接近")),t[988]||(t[988]=Q("code",null,"RM给的奖励",-1)),t[989]||(t[989]=T()),Q("mjx-container",e8,[(e(),l("svg",m8,t[979]||(t[979]=[a("",1)]))),t[980]||(t[980]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"T")])])])],-1))]),Q("mjx-container",s8,[(e(),l("svg",d8,t[981]||(t[981]=[a("",1)]))),t[982]||(t[982]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"T")])]),Q("mo",{stretchy:"false"},")"),Q("mo",{stretchy:"false"},"↔"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"T")])])])],-1))])])])]),t[990]||(t[990]=a("",2))]),t[1010]||(t[1010]=Q("p",null,[Q("strong",null,"环境奖励信号")],-1)),Q("ul",null,[Q("li",null,[t[993]||(t[993]=Q("code",null,"环境奖励",-1)),Q("mjx-container",o8,[(e(),l("svg",n8,t[991]||(t[991]=[a("",1)]))),t[992]||(t[992]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"r"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"env")])])]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"INNER"},[Q("mo",{"data-mjx-texclass":"OPEN"},"{"),Q("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:".2em"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"0")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"0")]),Q("mo",null,"≤"),Q("mi",null,"t"),Q("mo",null,"≤"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"T"),Q("mo",null,"−"),Q("mn",null,"1")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"无"),Q("mi",{mathvariant:"normal"},"奖"),Q("mi",{mathvariant:"normal"},"励")])])]),Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"T")])])]),Q("mtd",null,[Q("mi",null,"t"),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"T")])]),Q("mtd",null,[Q("mstyle",{mathcolor:"red"},[Q("mtext",null,"最终奖励")])])])]),Q("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])],-1))])])]),t[1011]||(t[1011]=Q("p",null,[Q("strong",null,"最终奖励")],-1)),t[1012]||(t[1012]=Q("ul",null,[Q("li",null,[Q("strong",null,"最终每一步的奖励"),T(" = "),Q("code",null,"环境奖励"),T(" -"),Q("code",null,"KL约束"),T("，KL 奖励约束见下文")])],-1)),Q("mjx-container",r8,[(e(),l("svg",i8,t[994]||(t[994]=[a("",1)]))),t[995]||(t[995]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"r"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"total")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"r"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"env")])])]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("msub",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"D"),Q("mtext",null,"KL")])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"r"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"env")])])]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"log")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])])])],-1))]),Q("ul",null,[Q("li",null,[t[1001]||(t[1001]=T("由于KL约束非负，除")),Q("mjx-container",h8,[(e(),l("svg",g8,t[996]||(t[996]=[a("",1)]))),t[997]||(t[997]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"T")])])],-1))]),t[1002]||(t[1002]=T("，")),Q("strong",null,[t[1e3]||(t[1e3]=T("其余token的奖励")),Q("mjx-container",p8,[(e(),l("svg",H8,t[998]||(t[998]=[a("",1)]))),t[999]||(t[999]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])])],-1))])]),t[1003]||(t[1003]=T()),t[1004]||(t[1004]=Q("code",null,"要么是0",-1)),t[1005]||(t[1005]=T("、")),t[1006]||(t[1006]=Q("code",null,"要么是负数",-1)),t[1007]||(t[1007]=T("。"))])])]),t[1835]||(t[1835]=Q("h4",{id:"奖励加入kl散度项",tabindex:"-1"},[T("奖励加入KL散度项 "),Q("a",{class:"header-anchor",href:"#奖励加入kl散度项","aria-label":'Permalink to "奖励加入KL散度项"'},"​")],-1)),Q("div",c8,[t[1033]||(t[1033]=a("",5)),Q("mjx-container",u8,[(e(),l("svg",L8,t[1013]||(t[1013]=[a("",1)]))),t[1014]||(t[1014]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"D"),Q("mtext",null,"KL")])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"log")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])])])],-1))]),t[1034]||(t[1034]=Q("p",null,[Q("strong",null,"最终奖励")],-1)),t[1035]||(t[1035]=Q("ul",null,[Q("li",null,[Q("strong",null,"最终奖励"),T(" = "),Q("code",null,"环境奖励"),T(" - "),Q("code",null,"KL约束")])],-1)),Q("mjx-container",w8,[(e(),l("svg",f8,t[1015]||(t[1015]=[a("",1)]))),t[1016]||(t[1016]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"r"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"total")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"r"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"env")])])]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("msub",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"D"),Q("mtext",null,"KL")])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"r"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"env")])])]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"log")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])])])],-1))]),Q("mjx-container",y8,[(e(),l("svg",x8,t[1017]||(t[1017]=[a("",1)]))),t[1018]||(t[1018]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"φ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"≤"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"log")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])])])],-1))]),Q("mjx-container",k8,[(e(),l("svg",M8,t[1019]||(t[1019]=[a("",1)]))),t[1020]||(t[1020]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])],-1))]),Q("ul",null,[Q("li",null,[t[1026]||(t[1026]=T("由于KL约束非负，除")),Q("mjx-container",Z8,[(e(),l("svg",V8,t[1021]||(t[1021]=[a("",1)]))),t[1022]||(t[1022]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"T")])])],-1))]),t[1027]||(t[1027]=T("，")),Q("strong",null,[t[1025]||(t[1025]=T("其余token的奖励")),Q("mjx-container",D8,[(e(),l("svg",b8,t[1023]||(t[1023]=[a("",1)]))),t[1024]||(t[1024]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])])],-1))])]),t[1028]||(t[1028]=T()),t[1029]||(t[1029]=Q("code",null,"要么是0",-1)),t[1030]||(t[1030]=T("、")),t[1031]||(t[1031]=Q("code",null,"要么是负数",-1)),t[1032]||(t[1032]=T("。"))])])]),t[1836]||(t[1836]=a("",3)),Q("div",j8,[t[1082]||(t[1082]=Q("div",{class:"custom-block-title"},"Critic 目标",-1)),t[1083]||(t[1083]=Q("p",null,[Q("strong",null,"Critic 核心目标")],-1)),Q("ul",null,[t[1081]||(t[1081]=Q("li",null,[Q("p",null,[Q("strong",null,"评估策略效果"),T("，Actor更新后，需新的Critic来衡量新策略的价值。")])],-1)),Q("li",null,[Q("p",null,[t[1038]||(t[1038]=T("优化")),t[1039]||(t[1039]=Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/02-markove-process.html#v%E5%87%BD%E6%95%B0",target:"_blank",rel:"noreferrer"},"价值函数",-1)),Q("mjx-container",v8,[(e(),l("svg",A8,t[1036]||(t[1036]=[a("",1)]))),t[1037]||(t[1037]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")")])],-1))]),t[1040]||(t[1040]=T("， ")),t[1041]||(t[1041]=Q("code",null,"学习真实目标值",-1))]),Q("ul",null,[Q("li",null,[t[1061]||(t[1061]=T("让 ")),Q("strong",null,[Q("mjx-container",R8,[(e(),l("svg",O8,t[1042]||(t[1042]=[a("",1)]))),t[1043]||(t[1043]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")")])],-1))]),t[1044]||(t[1044]=T("预测"))]),t[1062]||(t[1062]=T(" 尽可能更接近")),t[1063]||(t[1063]=Q("code",null,"真实的未来总回报",-1)),t[1064]||(t[1064]=T("。")),t[1065]||(t[1065]=Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#%E4%B8%80%E6%AD%A5%E6%97%B6%E5%BA%8F%E5%B7%AE%E5%88%86",target:"_blank",rel:"noreferrer"},"类比TD Error 定义",-1)),Q("ul",null,[Q("li",null,[t[1047]||(t[1047]=Q("code",null,"预测",-1)),t[1048]||(t[1048]=T("当前策略，从状态")),Q("mjx-container",_8,[(e(),l("svg",C8,t[1045]||(t[1045]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D460",d:"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z",style:{"stroke-width":"3"}})])])],-1)]))),t[1046]||(t[1046]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"s")])],-1))]),t[1049]||(t[1049]=T("出发，")),t[1050]||(t[1050]=Q("code",null,"未来总回报的期望值",-1)),t[1051]||(t[1051]=T("。"))]),Q("li",null,[Q("strong",null,[t[1054]||(t[1054]=T("是状态")),Q("mjx-container",B8,[(e(),l("svg",E8,t[1052]||(t[1052]=[a("",1)]))),t[1053]||(t[1053]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")])])],-1))]),t[1055]||(t[1055]=T("的价值"))]),t[1059]||(t[1059]=T("，")),Q("strong",null,[t[1058]||(t[1058]=T("不是即时奖励")),Q("mjx-container",X8,[(e(),l("svg",S8,t[1056]||(t[1056]=[a("",1)]))),t[1057]||(t[1057]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])])],-1))])]),t[1060]||(t[1060]=T("。"))])])])])]),Q("li",null,[t[1073]||(t[1073]=Q("p",null,[T("但我们"),Q("strong",null,"并不知上帝视角"),T("的"),Q("code",null,"真实目标值")],-1)),Q("ul",null,[Q("li",null,[t[1068]||(t[1068]=Q("code",null,"只能通过MC采样轨迹来估计",-1)),t[1069]||(t[1069]=T("，也就是")),t[1070]||(t[1070]=Q("code",null,"Target Value",-1)),t[1071]||(t[1071]=T("，")),Q("mjx-container",F8,[(e(),l("svg",P8,t[1066]||(t[1066]=[a("",1)]))),t[1067]||(t[1067]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])])])],-1))]),t[1072]||(t[1072]=T("。"))])])]),Q("li",null,[Q("p",null,[t[1076]||(t[1076]=T("使")),t[1077]||(t[1077]=Q("code",null,"最后一个token的回报",-1)),t[1078]||(t[1078]=T(" 接近")),t[1079]||(t[1079]=Q("code",null,"RM给的奖励",-1)),t[1080]||(t[1080]=T()),Q("mjx-container",z8,[(e(),l("svg",I8,t[1074]||(t[1074]=[a("",1)]))),t[1075]||(t[1075]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"T")])])])],-1))])])])]),t[1084]||(t[1084]=a("",4))]),t[1837]||(t[1837]=Q("h4",{id:"critic-学习过程",tabindex:"-1"},[T("Critic 学习过程 "),Q("a",{class:"header-anchor",href:"#critic-学习过程","aria-label":'Permalink to "Critic 学习过程"'},"​")],-1)),Q("div",G8,[t[1203]||(t[1203]=Q("div",{class:"custom-block-title"},"Critic 学习过程",-1)),t[1204]||(t[1204]=Q("p",null,[Q("strong",null,"标准的监督学习")],-1)),Q("ul",null,[Q("li",null,[t[1089]||(t[1089]=T("输入：状态")),Q("mjx-container",N8,[(e(),l("svg",J8,t[1085]||(t[1085]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D460",d:"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z",style:{"stroke-width":"3"}})])])],-1)]))),t[1086]||(t[1086]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"s")])],-1))]),t[1090]||(t[1090]=T("、 ")),Q("mjx-container",q8,[(e(),l("svg",K8,t[1087]||(t[1087]=[a("",1)]))),t[1088]||(t[1088]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")])])],-1))])]),Q("li",null,[Q("strong",null,[t[1099]||(t[1099]=T("预测：")),Q("mjx-container",$8,[(e(),l("svg",Y8,t[1091]||(t[1091]=[a("",1)]))),t[1092]||(t[1092]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")")])],-1))]),t[1100]||(t[1100]=T("、")),Q("mjx-container",U8,[(e(),l("svg",W8,t[1093]||(t[1093]=[a("",1)]))),t[1094]||(t[1094]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])],-1))]),t[1101]||(t[1101]=T("、")),Q("mjx-container",Q9,[(e(),l("svg",t9,t[1095]||(t[1095]=[a("",1)]))),t[1096]||(t[1096]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])],-1))]),t[1102]||(t[1102]=T("、")),Q("mjx-container",T9,[(e(),l("svg",a9,t[1097]||(t[1097]=[a("",1)]))),t[1098]||(t[1098]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"n"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"w")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])],-1))])]),Q("ul",null,[Q("li",null,[t[1109]||(t[1109]=T("Critic网络 ")),Q("strong",null,[t[1107]||(t[1107]=T("在时间步")),Q("mjx-container",l9,[(e(),l("svg",e9,t[1103]||(t[1103]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)]))),t[1104]||(t[1104]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"t")])],-1))]),t[1108]||(t[1108]=T("对状态")),Q("mjx-container",m9,[(e(),l("svg",s9,t[1105]||(t[1105]=[a("",1)]))),t[1106]||(t[1106]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")])])],-1))])]),t[1110]||(t[1110]=T(" 的")),t[1111]||(t[1111]=Q("code",null,"价值预测",-1)),t[1112]||(t[1112]=T("。"))]),Q("li",null,[Q("mjx-container",d9,[(e(),l("svg",o9,t[1113]||(t[1113]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D719",d:"M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z",style:{"stroke-width":"3"}})])])],-1)]))),t[1114]||(t[1114]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"ϕ")])],-1))]),t[1115]||(t[1115]=T("是Critic 网络参数"))])])]),Q("li",null,[Q("strong",null,[t[1122]||(t[1122]=T("目标：")),Q("mjx-container",n9,[(e(),l("svg",r9,t[1116]||(t[1116]=[a("",1)]))),t[1117]||(t[1117]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t")])])])])],-1))]),t[1123]||(t[1123]=T("、")),Q("mjx-container",i9,[(e(),l("svg",h9,t[1118]||(t[1118]=[a("",1)]))),t[1119]||(t[1119]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])])],-1))]),t[1124]||(t[1124]=T("、")),Q("mjx-container",g9,[(e(),l("svg",p9,t[1120]||(t[1120]=[a("",1)]))),t[1121]||(t[1121]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"R"),Q("mi",null,"t")])])],-1))])]),Q("ul",null,[Q("li",null,[t[1127]||(t[1127]=T("在时间步")),Q("mjx-container",H9,[(e(),l("svg",c9,t[1125]||(t[1125]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1)]))),t[1126]||(t[1126]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"t")])],-1))]),t[1128]||(t[1128]=T("，")),t[1129]||(t[1129]=Q("strong",null,"根据实际获得奖励",-1)),t[1130]||(t[1130]=T("、")),t[1131]||(t[1131]=Q("strong",null,"对真实回报",-1)),t[1132]||(t[1132]=T("的")),t[1133]||(t[1133]=Q("code",null,"估计值",-1)),t[1134]||(t[1134]=T("。"))]),t[1135]||(t[1135]=Q("li",null,[T("这是"),Q("code",null,"最核心内容"),T("，在下文详细介绍计算。")],-1))])]),t[1136]||(t[1136]=Q("li",null,[Q("strong",null,"Loss"),T("："),Q("code",null,"预测值"),T("和"),Q("code",null,"目标值"),T("之间的"),Q("strong",null,"差距"),T("，"),Q("code",null,"MSE loss"),T("。")],-1))]),t[1205]||(t[1205]=Q("p",null,[Q("strong",null,"算法流程")],-1)),Q("ul",null,[t[1178]||(t[1178]=Q("li",null,[Q("p",null,[Q("strong",null,"采样数据")]),Q("ul",null,[Q("li",null,[Q("code",null,"Actor和环境交互"),T("，收集1个batch的轨迹数据")])])],-1)),Q("li",null,[Q("p",null,[t[1139]||(t[1139]=Q("strong",null,"计算旧价值预测",-1)),t[1140]||(t[1140]=T()),Q("mjx-container",u9,[(e(),l("svg",L9,t[1137]||(t[1137]=[a("",1)]))),t[1138]||(t[1138]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))])]),Q("ul",null,[Q("li",null,[t[1146]||(t[1146]=T("使用")),t[1147]||(t[1147]=Q("code",null,"当前Critic",-1)),t[1148]||(t[1148]=T(" 对")),Q("strong",null,[t[1143]||(t[1143]=T("每一个状态")),Q("mjx-container",w9,[(e(),l("svg",f9,t[1141]||(t[1141]=[a("",1)]))),t[1142]||(t[1142]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")])])],-1))])]),t[1149]||(t[1149]=T()),t[1150]||(t[1150]=Q("code",null,"预测价值",-1)),t[1151]||(t[1151]=T("，得到")),Q("mjx-container",y9,[(e(),l("svg",x9,t[1144]||(t[1144]=[a("",1)]))),t[1145]||(t[1145]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[1152]||(t[1152]=T("，后面作为")),t[1153]||(t[1153]=Q("code",null,"固定值",-1))])])]),Q("li",null,[t[1161]||(t[1161]=Q("p",null,[Q("strong",null,"计算 TD Error")],-1)),t[1162]||(t[1162]=Q("ul",null,[Q("li",null,[T("对"),Q("strong",null,"每个时间步t"),T("，计算"),Q("code",null,"TD Error")])],-1)),Q("mjx-container",k9,[(e(),l("svg",M9,t[1154]||(t[1154]=[a("",1)]))),t[1155]||(t[1155]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),Q("ul",null,[Q("li",null,[Q("mjx-container",Z9,[(e(),l("svg",V9,t[1156]||(t[1156]=[a("",1)]))),t[1157]||(t[1157]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])])])],-1))]),t[1158]||(t[1158]=T(" 是环境给的")),t[1159]||(t[1159]=Q("code",null,"即时奖励",-1)),t[1160]||(t[1160]=T("，可通过Reward Model 或 Reward Func给出"))])])]),Q("li",null,[t[1169]||(t[1169]=Q("p",null,[Q("strong",null,"计算 GAE 优势估计")],-1)),Q("ul",null,[Q("li",null,[t[1165]||(t[1165]=Q("p",null,"GAE 公式",-1)),Q("mjx-container",D9,[(e(),l("svg",b9,t[1163]||(t[1163]=[a("",1)]))),t[1164]||(t[1164]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mi",null,"λ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])],-1))])]),Q("li",null,[t[1168]||(t[1168]=Q("p",null,[T("从"),Q("strong",null,"最后一个时间步开始"),T("，"),Q("code",null,"反向遍历"),T("，"),Q("code",null,"提高GAE计算效率")],-1)),Q("mjx-container",j9,[(e(),l("svg",v9,t[1166]||(t[1166]=[a("",1)]))),t[1167]||(t[1167]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ"),Q("mi",null,"λ")]),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")])])],-1))])])])]),Q("li",null,[Q("p",null,[t[1172]||(t[1172]=Q("strong",null,"计算 Critic 目标值",-1)),t[1173]||(t[1173]=T("：利用")),t[1174]||(t[1174]=Q("code",null,"GAE优势",-1)),t[1175]||(t[1175]=T(" +")),t[1176]||(t[1176]=Q("code",null," 旧价值预测",-1)),t[1177]||(t[1177]=T()),Q("mjx-container",A9,[(e(),l("svg",R9,t[1170]||(t[1170]=[a("",1)]))),t[1171]||(t[1171]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))])])])]),Q("mjx-container",O9,[(e(),l("svg",_9,t[1179]||(t[1179]=[a("",1)]))),t[1180]||(t[1180]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),Q("ul",null,[Q("li",null,[t[1202]||(t[1202]=Q("p",null,[Q("strong",null,"计算 Critic Loss"),T(" （见下文详细说明）")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[1183]||(t[1183]=T("在")),t[1184]||(t[1184]=Q("strong",null,"PPO多个优化子周期(epoch)里",-1)),t[1185]||(t[1185]=T("，对batch中")),t[1186]||(t[1186]=Q("strong",null,"每个数据点",-1)),t[1187]||(t[1187]=T()),Q("mjx-container",C9,[(e(),l("svg",B9,t[1181]||(t[1181]=[a("",1)]))),t[1182]||(t[1182]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")])]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])],-1))])]),Q("ul",null,[Q("li",null,[Q("p",null,[t[1192]||(t[1192]=T("把")),Q("mjx-container",E9,[(e(),l("svg",X9,t[1188]||(t[1188]=[a("",1)]))),t[1189]||(t[1189]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")])])])],-1))]),t[1193]||(t[1193]=T("输入到")),t[1194]||(t[1194]=Q("code",null,"正在更新的Critic网络",-1)),t[1195]||(t[1195]=T("，得到")),t[1196]||(t[1196]=Q("code",null,"新预测值",-1)),t[1197]||(t[1197]=T()),Q("mjx-container",S9,[(e(),l("svg",F9,t[1190]||(t[1190]=[a("",1)]))),t[1191]||(t[1191]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))])])]),Q("li",null,[t[1200]||(t[1200]=Q("p",null,[T("利用"),Q("code",null,"Critic 目标值"),T(" 和 "),Q("code",null,"Critic 最新预测值"),T("，计算 "),Q("code",null,"MSE Loss")],-1)),Q("mjx-container",P9,[(e(),l("svg",z9,t[1198]||(t[1198]=[a("",1)]))),t[1199]||(t[1199]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"c")])])])]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mn",null,"2")])])],-1))])]),t[1201]||(t[1201]=Q("li",null,[Q("p",null,[Q("strong",null,"根据Critic Loss调整Critic网络"),T("，"),Q("code",null,"争取下次预测的更准"),T("。")])],-1))])])])])])]),t[1838]||(t[1838]=Q("h4",{id:"critic-loss",tabindex:"-1"},[T("Critic Loss "),Q("a",{class:"header-anchor",href:"#critic-loss","aria-label":'Permalink to "Critic Loss"'},"​")],-1)),Q("div",I9,[t[1279]||(t[1279]=Q("div",{class:"custom-block-title"},"Critic Loss",-1)),t[1280]||(t[1280]=Q("p",null,[Q("strong",null,"Loss函数")],-1)),t[1281]||(t[1281]=Q("ul",null,[Q("li",null,"实际训练中，从收集到的数据，取batch，计算batch上所有时间步的平均loss")],-1)),Q("mjx-container",G9,[(e(),l("svg",N9,t[1206]||(t[1206]=[a("",1)]))),t[1207]||(t[1207]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"c")])])])]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blu"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mn",null,"2")])])],-1))]),Q("mjx-container",J9,[(e(),l("svg",q9,t[1208]||(t[1208]=[a("",1)]))),t[1209]||(t[1209]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"c")])])])]),Q("mo",null,"="),Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"N")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"N")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blu"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mn",null,"2")])])],-1))]),t[1282]||(t[1282]=Q("ul",null,[Q("li",null,[Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#critic-loss-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3",target:"_blank",rel:"noreferrer"},"Loss 类比于 TD Error")])],-1)),Q("mjx-container",K9,[(e(),l("svg",$9,t[1210]||(t[1210]=[a("",1)]))),t[1211]||(t[1211]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"目"),Q("mi",{mathvariant:"normal"},"标"),Q("mi",{mathvariant:"normal"},"值")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"预"),Q("mi",{mathvariant:"normal"},"测"),Q("mi",{mathvariant:"normal"},"值")])])])])],-1))]),Q("mjx-container",Y9,[(e(),l("svg",U9,t[1212]||(t[1212]=[a("",1)]))),t[1213]||(t[1213]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"c")])])])]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"目"),Q("mi",{mathvariant:"normal"},"标"),Q("mi",{mathvariant:"normal"},"值")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"n"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"w")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"预"),Q("mi",{mathvariant:"normal"},"测"),Q("mi",{mathvariant:"normal"},"值")])])]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mn",null,"2")])])],-1))]),Q("mjx-container",W9,[(e(),l("svg",QQ,t[1214]||(t[1214]=[a("",1)]))),t[1215]||(t[1215]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"c")])])])]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("msub",null,[Q("mi",null,"R"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"目"),Q("mi",{mathvariant:"normal"},"标"),Q("mi",{mathvariant:"normal"},"值")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"预"),Q("mi",{mathvariant:"normal"},"测"),Q("mi",{mathvariant:"normal"},"值")])])]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mn",null,"2")])])],-1))]),Q("p",null,[t[1220]||(t[1220]=Q("strong",null,"Critic目标值/真实回报目标值计算",-1)),t[1221]||(t[1221]=T()),Q("mjx-container",tQ,[(e(),l("svg",TQ,t[1216]||(t[1216]=[a("",1)]))),t[1217]||(t[1217]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])])])],-1))]),t[1222]||(t[1222]=T("、")),Q("mjx-container",aQ,[(e(),l("svg",lQ,t[1218]||(t[1218]=[a("",1)]))),t[1219]||(t[1219]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"R"),Q("mi",null,"t")])])])],-1))])]),Q("ul",null,[Q("li",null,[Q("p",null,[t[1225]||(t[1225]=T("最核心部分， ")),Q("mjx-container",eQ,[(e(),l("svg",mQ,t[1223]||(t[1223]=[a("",1)]))),t[1224]||(t[1224]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])])])],-1))]),t[1226]||(t[1226]=T(" 计算方法直接")),t[1227]||(t[1227]=Q("code",null,"影响Critic的学习效率和稳定性",-1))])]),Q("li",null,[t[1240]||(t[1240]=Q("p",null,"优势函数计算",-1)),Q("ul",null,[Q("li",null,[t[1230]||(t[1230]=Q("p",null,[T("朴素优势函数："),Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/07-actor-critic.html#%E4%BC%98%E5%8A%BF%E5%8F%8A%E4%BC%98%E5%8A%BF%E8%B6%8B%E4%BA%8E0%E7%9A%84%E7%90%86%E8%A7%A3",target:"_blank",rel:"noreferrer"},"优势函数趋于0的理解")],-1)),t[1231]||(t[1231]=Q("ul",null,[Q("li",null,[T("要估计Q和V2个网络，"),Q("code",null,"复杂"),T("。")])],-1)),Q("mjx-container",sQ,[(e(),l("svg",dQ,t[1228]||(t[1228]=[a("",1)]))),t[1229]||(t[1229]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"Q"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))])]),Q("li",null,[t[1234]||(t[1234]=Q("p",null,[Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/07-actor-critic.html#%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3-1",target:"_blank",rel:"noreferrer"},"TD Error 近似优势估计")],-1)),t[1235]||(t[1235]=Q("ul",null,[Q("li",null,[T("仅V一个网络，但偏差大，"),Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#tderror-%E4%BC%98%E5%8A%BF%E5%81%8F%E5%B7%AE%E6%96%B9%E5%B7%AE%E9%97%AE%E9%A2%98",target:"_blank",rel:"noreferrer"},"TD Error 估计优势 方差偏差问题"),T("`")])],-1)),Q("mjx-container",oQ,[(e(),l("svg",nQ,t[1232]||(t[1232]=[a("",1)]))),t[1233]||(t[1233]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"="),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"T"),Q("mi",null,"D"),Q("mi",{mathvariant:"normal"},"误"),Q("mi",{mathvariant:"normal"},"差")])])])],-1))])]),Q("li",null,[t[1239]||(t[1239]=Q("p",null,[Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#%E5%B9%BF%E4%B9%89%E4%BC%98%E5%8A%BF%E4%BC%B0%E8%AE%A1",target:"_blank",rel:"noreferrer"},"GAE平衡 TD偏差和MC方差")],-1)),Q("ul",null,[Q("li",null,[t[1238]||(t[1238]=T("综合多个n步优势估计")),Q("mjx-container",rQ,[(e(),l("svg",iQ,t[1236]||(t[1236]=[a("",1)]))),t[1237]||(t[1237]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mi",null,"λ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])],-1))])])])])])]),Q("li",null,[Q("p",null,[Q("mjx-container",hQ,[(e(),l("svg",gQ,t[1241]||(t[1241]=[a("",1)]))),t[1242]||(t[1242]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])])])],-1))]),t[1243]||(t[1243]=T()),t[1244]||(t[1244]=Q("strong",null,"计算",-1)),t[1245]||(t[1245]=T(" ‼️"))]),Q("ul",null,[Q("li",null,[t[1248]||(t[1248]=Q("p",null,[Q("code",null,"目标回报Q值"),T(" = 优势值 + V值")],-1)),Q("mjx-container",pQ,[(e(),l("svg",HQ,t[1246]||(t[1246]=[a("",1)]))),t[1247]||(t[1247]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"Q"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mo",{stretchy:"false"},"→"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"Q"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"π")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))])]),Q("li",null,[Q("p",null,[t[1253]||(t[1253]=Q("strong",null,"Critic 学习目标",-1)),t[1254]||(t[1254]=T("是")),t[1255]||(t[1255]=Q("code",null,"真实回报",-1)),t[1256]||(t[1256]=T("，可以看作")),Q("strong",null,[t[1251]||(t[1251]=T("是")),Q("mjx-container",cQ,[(e(),l("svg",uQ,t[1249]||(t[1249]=[a("",1)]))),t[1250]||(t[1250]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"Q"),Q("mi",null,"t")])])],-1))]),t[1252]||(t[1252]=T("的一个估计"))]),t[1257]||(t[1257]=T("，得到"))]),Q("mjx-container",LQ,[(e(),l("svg",wQ,t[1258]||(t[1258]=[a("",1)]))),t[1259]||(t[1259]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))])]),Q("li",null,[t[1274]||(t[1274]=Q("p",null,"请注意",-1)),Q("ul",null,[Q("li",null,[Q("p",null,[Q("mjx-container",fQ,[(e(),l("svg",yQ,t[1260]||(t[1260]=[a("",1)]))),t[1261]||(t[1261]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[1262]||(t[1262]=T("：用当时")),t[1263]||(t[1263]=Q("strong",null,"旧的Critic网络预测并记录",-1)),t[1264]||(t[1264]=T("下来")),t[1265]||(t[1265]=Q("code",null,"旧的、固定的值",-1)),t[1266]||(t[1266]=T("，在GAE之前"))]),t[1267]||(t[1267]=Q("ul",null,[Q("li",null,"当做常数，不参与梯度计算。")],-1))]),Q("li",null,[Q("p",null,[Q("mjx-container",xQ,[(e(),l("svg",kQ,t[1268]||(t[1268]=[a("",1)]))),t[1269]||(t[1269]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[1272]||(t[1272]=T("：")),Q("mjx-container",MQ,[(e(),l("svg",ZQ,t[1270]||(t[1270]=[a("",1)]))),t[1271]||(t[1271]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])],-1))]),t[1273]||(t[1273]=T("值计算出来的。"))])])])]),Q("li",null,[Q("p",null,[Q("mjx-container",VQ,[(e(),l("svg",DQ,t[1275]||(t[1275]=[a("",1)]))),t[1276]||(t[1276]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])])])],-1))]),t[1277]||(t[1277]=T("理解"))]),t[1278]||(t[1278]=Q("ul",null,[Q("li",null,[Q("code",null,"基于旧价值函数的估计"),T(" + "),Q("code",null,"这个估计的修正量(优势值)"),T(" = 得到 "),Q("code",null,"更精确的回报估计"),T("。")])],-1))])])])])]),t[1839]||(t[1839]=Q("h4",{id:"critic-loss-深入理解",tabindex:"-1"},[T("Critic Loss 深入理解 "),Q("a",{class:"header-anchor",href:"#critic-loss-深入理解","aria-label":'Permalink to "Critic Loss 深入理解"'},"​")],-1)),Q("div",bQ,[t[1306]||(t[1306]=Q("div",{class:"custom-block-title"},"Critic Loss TD Error 类比",-1)),t[1307]||(t[1307]=Q("p",null,[Q("strong",null,"TD Error")],-1)),Q("mjx-container",jQ,[(e(),l("svg",vQ,t[1283]||(t[1283]=[a("",1)]))),t[1284]||(t[1284]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"目"),Q("mi",{mathvariant:"normal"},"标"),Q("mi",{mathvariant:"normal"},"值")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"预"),Q("mi",{mathvariant:"normal"},"测"),Q("mi",{mathvariant:"normal"},"值")])])])])],-1))]),t[1308]||(t[1308]=Q("p",null,[Q("strong",null,"Critic Loss")],-1)),Q("mjx-container",AQ,[(e(),l("svg",RQ,t[1285]||(t[1285]=[a("",1)]))),t[1286]||(t[1286]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"c")])])])]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"目"),Q("mi",{mathvariant:"normal"},"标"),Q("mi",{mathvariant:"normal"},"值")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"n"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"w")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"预"),Q("mi",{mathvariant:"normal"},"测"),Q("mi",{mathvariant:"normal"},"值")])])]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mn",null,"2")])])],-1))]),t[1309]||(t[1309]=Q("p",null,[Q("strong",null,"TD Error 类比")],-1)),Q("mjx-container",OQ,[(e(),l("svg",_Q,t[1287]||(t[1287]=[a("",1)]))),t[1288]||(t[1288]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"c")])])])]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("msub",null,[Q("mi",null,"R"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"目"),Q("mi",{mathvariant:"normal"},"标"),Q("mi",{mathvariant:"normal"},"值")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"预"),Q("mi",{mathvariant:"normal"},"测"),Q("mi",{mathvariant:"normal"},"值")])])]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mn",null,"2")])])],-1))]),Q("ul",null,[Q("li",null,[Q("p",null,[Q("mjx-container",CQ,[(e(),l("svg",BQ,t[1289]||(t[1289]=[a("",1)]))),t[1290]||(t[1290]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])])])],-1))]),t[1293]||(t[1293]=T("、")),Q("mjx-container",EQ,[(e(),l("svg",XQ,t[1291]||(t[1291]=[a("",1)]))),t[1292]||(t[1292]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"R"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")])])])])],-1))]),t[1294]||(t[1294]=T(" ：类比 ")),t[1295]||(t[1295]=Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#%E4%B8%80%E6%AD%A5%E6%97%B6%E5%BA%8F%E5%B7%AE%E5%88%86",target:"_blank",rel:"noreferrer"},"TD 目标值",-1))])]),Q("li",null,[Q("p",null,[Q("mjx-container",SQ,[(e(),l("svg",FQ,t[1296]||(t[1296]=[a("",1)]))),t[1297]||(t[1297]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"n"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"w")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[1300]||(t[1300]=T("、")),Q("mjx-container",PQ,[(e(),l("svg",zQ,t[1298]||(t[1298]=[a("",1)]))),t[1299]||(t[1299]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[1301]||(t[1301]=T("：类比TD Error中的")),t[1302]||(t[1302]=Q("strong",null,"需要优化的价值函数",-1)),t[1303]||(t[1303]=T("，")),t[1304]||(t[1304]=Q("code",null,"当前网络的预测值",-1))])]),t[1305]||(t[1305]=Q("li",null,[Q("p",null,[Q("strong",null,"Loss 类比"),T(),Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#td%E7%9B%AE%E6%A0%87%E5%92%8Ctderror",target:"_blank",rel:"noreferrer"},"TD Error")])],-1))])]),Q("div",IQ,[t[1322]||(t[1322]=Q("div",{class:"custom-block-title"},"Critic Loss 再深入理解",-1)),t[1323]||(t[1323]=Q("p",null,[Q("strong",null,"GAE 优势 推导")],-1)),t[1324]||(t[1324]=Q("ul",null,[Q("li",null,"反向递推公式")],-1)),Q("mjx-container",GQ,[(e(),l("svg",NQ,t[1310]||(t[1310]=[a("",1)]))),t[1311]||(t[1311]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mi",null,"t")])]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ"),Q("mi",null,"λ")]),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ"),Q("mi",null,"λ")]),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")])])])])])],-1))]),t[1325]||(t[1325]=Q("ul",null,[Q("li",null,"推导结果")],-1)),Q("mjx-container",JQ,[(e(),l("svg",qQ,t[1312]||(t[1312]=[a("",1)]))),t[1313]||(t[1313]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ"),Q("mi",null,"λ")]),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[1326]||(t[1326]=Q("p",null,[Q("strong",null,"目标回报值 推导")],-1)),t[1327]||(t[1327]=Q("ul",null,[Q("li",null,"R = A + V")],-1)),Q("mjx-container",KQ,[(e(),l("svg",$Q,t[1314]||(t[1314]=[a("",1)]))),t[1315]||(t[1315]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"R"),Q("mi",null,"t")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ"),Q("mi",null,"λ")]),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ"),Q("mi",null,"λ")]),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")])])])])])],-1))]),t[1328]||(t[1328]=Q("ul",null,[Q("li",null,[T("推导结果 "),Q("ul",null,[Q("li",null,[T("其实在"),Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/04-model-free-prediction-control.html#%E4%B8%80%E6%AD%A5%E6%97%B6%E5%BA%8F%E5%B7%AE%E5%88%86",target:"_blank",rel:"noreferrer"},"朴素单步TD目标值"),T("基础上加了一个"),Q("code",null,"GAE估计"),T("。")])])])],-1)),Q("mjx-container",YQ,[(e(),l("svg",UQ,t[1316]||(t[1316]=[a("",1)]))),t[1317]||(t[1317]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"R"),Q("mi",null,"t")])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ"),Q("mi",null,"λ")]),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[1329]||(t[1329]=Q("p",null,[Q("strong",null,"代入计算Loss")],-1)),Q("mjx-container",WQ,[(e(),l("svg",Qt,t[1318]||(t[1318]=[a("",1)]))),t[1319]||(t[1319]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"c")])])])])]),Q("mtd",null,[Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"R"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"n"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"w")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mn",null,"2")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ"),Q("mi",null,"λ")]),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"T"),Q("mi",null,"D"),Q("mi",{mathvariant:"normal"},"目"),Q("mi",{mathvariant:"normal"},"标"),Q("mi",null,"，"),Q("mi",{mathvariant:"normal"},"增"),Q("mi",{mathvariant:"normal"},"加"),Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"n"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"w")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"最"),Q("mi",{mathvariant:"normal"},"新"),Q("mi",{mathvariant:"normal"},"网"),Q("mi",{mathvariant:"normal"},"络"),Q("mi",{mathvariant:"normal"},"预"),Q("mi",{mathvariant:"normal"},"测"),Q("mi",{mathvariant:"normal"},"值")])])]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mn",null,"2")])])])])])],-1))]),Q("mjx-container",tt,[(e(),l("svg",Tt,t[1320]||(t[1320]=[a("",1)]))),t[1321]||(t[1321]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"c")])])])])]),Q("mtd",null,[Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ"),Q("mi",null,"λ")]),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"T"),Q("mi",null,"D"),Q("mi",{mathvariant:"normal"},"目"),Q("mi",{mathvariant:"normal"},"标"),Q("mi",null,"，"),Q("mi",{mathvariant:"normal"},"增"),Q("mi",{mathvariant:"normal"},"加"),Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"n"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"w")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"最"),Q("mi",{mathvariant:"normal"},"新"),Q("mi",{mathvariant:"normal"},"网"),Q("mi",{mathvariant:"normal"},"络"),Q("mi",{mathvariant:"normal"},"预"),Q("mi",{mathvariant:"normal"},"测"),Q("mi",{mathvariant:"normal"},"值")])])]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mn",null,"2")])])])])])],-1))]),t[1330]||(t[1330]=Q("ul",null,[Q("li",null,[T("和 "),Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/07-actor-critic.html#%E4%BC%98%E5%8A%BF%E5%8F%8A%E4%BC%98%E5%8A%BF%E8%B6%8B%E4%BA%8E0%E7%9A%84%E7%90%86%E8%A7%A3",target:"_blank",rel:"noreferrer"},"A2C 中优势趋于0"),T("的理解是"),Q("code",null,"完全一致"),T("的。")])],-1))]),t[1840]||(t[1840]=Q("h4",{id:"critic-value-clip",tabindex:"-1"},[T("Critic Value Clip "),Q("a",{class:"header-anchor",href:"#critic-value-clip","aria-label":'Permalink to "Critic Value Clip"'},"​")],-1)),Q("div",at,[t[1380]||(t[1380]=a("",4)),Q("ul",null,[Q("li",null,[Q("mjx-container",lt,[(e(),l("svg",et,t[1331]||(t[1331]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D716",d:"M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z",style:{"stroke-width":"3"}})])])],-1)]))),t[1332]||(t[1332]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"ϵ")])],-1))]),t[1335]||(t[1335]=T("是超参 例如(0.2)，和Actor Loss 裁剪范围通常相同。")),Q("mjx-container",mt,[(e(),l("svg",st,t[1333]||(t[1333]=[a("",1)]))),t[1334]||(t[1334]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"clipped")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"clip")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"old")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"−"),Q("mi",null,"ϵ")]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"old")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"+"),Q("mi",null,"ϵ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))])])]),t[1381]||(t[1381]=Q("p",null,[Q("strong",null,"计算未裁剪和裁剪后的2个loss")],-1)),Q("ul",null,[Q("li",null,[t[1338]||(t[1338]=Q("p",null,"未裁剪",-1)),Q("mjx-container",dt,[(e(),l("svg",ot,t[1336]||(t[1336]=[a("",1)]))),t[1337]||(t[1337]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"u"),Q("mi",{mathvariant:"normal"},"n"),Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"l"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"p"),Q("mi",{mathvariant:"normal"},"p"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"d")])])])]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mi",null,"e"),Q("mi",null,"w")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mn",null,"2")])])],-1))])]),t[1339]||(t[1339]=Q("li",null,[Q("p",null,"裁剪后")],-1))]),Q("mjx-container",nt,[(e(),l("svg",rt,t[1340]||(t[1340]=[a("",1)]))),t[1341]||(t[1341]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"l"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"p"),Q("mi",{mathvariant:"normal"},"p"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"d")])])])]),Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"clipped")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mn",null,"2")])])],-1))]),t[1382]||(t[1382]=Q("p",null,[Q("strong",null,"最终Critic Loss 取较大者")],-1)),Q("mjx-container",it,[(e(),l("svg",ht,t[1342]||(t[1342]=[a("",1)]))),t[1343]||(t[1343]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"c")])])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max")]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"u"),Q("mi",{mathvariant:"normal"},"n"),Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"l"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"p"),Q("mi",{mathvariant:"normal"},"p"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"d")])])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"l"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"p"),Q("mi",{mathvariant:"normal"},"p"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"d")])])])]),Q("mo",{stretchy:"false"},")")])],-1))]),t[1383]||(t[1383]=Q("p",null,[Q("strong",null,"具体稳定训练过程思考")],-1)),Q("ul",null,[Q("li",null,[t[1368]||(t[1368]=Q("p",null,[T("建立"),Q("strong",null,"信任区域")],-1)),Q("ul",null,[Q("li",null,[Q("p",null,[t[1346]||(t[1346]=T("围绕旧值")),Q("mjx-container",gt,[(e(),l("svg",pt,t[1344]||(t[1344]=[a("",1)]))),t[1345]||(t[1345]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"old")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[1347]||(t[1347]=T("建立")),t[1348]||(t[1348]=Q("strong",null,"信任区域",-1)),t[1349]||(t[1349]=T("，相信")),t[1350]||(t[1350]=Q("code",null,"旧价值预测大体上是正确的",-1)),t[1351]||(t[1351]=T("。"))]),Q("mjx-container",Ht,[(e(),l("svg",ct,t[1352]||(t[1352]=[a("",1)]))),t[1353]||(t[1353]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"old")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"−"),Q("mi",null,"ϵ")]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"old")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"+"),Q("mi",null,"ϵ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))])]),Q("li",null,[Q("p",null,[t[1358]||(t[1358]=T("确保")),t[1359]||(t[1359]=Q("code",null,"新价值预测",-1)),Q("mjx-container",ut,[(e(),l("svg",Lt,t[1354]||(t[1354]=[a("",1)]))),t[1355]||(t[1355]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mi",null,"e"),Q("mi",null,"w")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[1360]||(t[1360]=T("不会离")),t[1361]||(t[1361]=Q("code",null,"旧价值预测",-1)),Q("mjx-container",wt,[(e(),l("svg",ft,t[1356]||(t[1356]=[a("",1)]))),t[1357]||(t[1357]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"old")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[1362]||(t[1362]=T()),t[1363]||(t[1363]=Q("code",null,"太远",-1)),t[1364]||(t[1364]=T("。"))])]),Q("li",null,[t[1367]||(t[1367]=Q("p",null,[Q("strong",null,"预测价值"),T("本该"),Q("strong",null,"朝向目标回报靠近"),T("，但"),Q("strong",null,"若预测价值超出信任区域"),T("，则应该Clip。")],-1)),Q("mjx-container",yt,[(e(),l("svg",xt,t[1365]||(t[1365]=[a("",1)]))),t[1366]||(t[1366]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"n"),Q("mi",null,"e"),Q("mi",null,"w")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",{stretchy:"false"},"→"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"R"),Q("mi",null,"t")])])])],-1))])])])]),Q("li",null,[t[1378]||(t[1378]=Q("p",null,[T("防止"),Q("strong",null,"因目标值不准而过度更新")],-1)),Q("ul",null,[Q("li",null,[Q("mjx-container",kt,[(e(),l("svg",Mt,t[1369]||(t[1369]=[a("",1)]))),t[1370]||(t[1370]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"a"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"g"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"t"),Q("mo",null,","),Q("mi",{mathvariant:"normal"},"t")])])])])])],-1))]),t[1371]||(t[1371]=T(" 是由")),t[1372]||(t[1372]=Q("code",null,"GAE",-1)),t[1373]||(t[1373]=T("计算出来的，是")),t[1374]||(t[1374]=Q("code",null,"估计值",-1)),t[1375]||(t[1375]=T("，存在")),t[1376]||(t[1376]=Q("code",null,"方差",-1)),t[1377]||(t[1377]=T("。"))])])]),t[1379]||(t[1379]=Q("li",null,[Q("p",null,[T("保持 "),Q("strong",null,"Actor和Critic 更新步调一致")]),Q("ul",null,[Q("li",null,"PPO核心是限制策略更新幅度，为Actor提供指导信号的Critic也应该限制更新幅度。"),Q("li",null,"防止Critic剧烈变化导致下一轮优势估计出现波动，导致Actor训练不稳定。")])],-1))])]),t[1841]||(t[1841]=Q("h3",{id:"重要性采样-1",tabindex:"-1"},[T("重要性采样 "),Q("a",{class:"header-anchor",href:"#重要性采样-1","aria-label":'Permalink to "重要性采样"'},"​")],-1)),Q("div",Zt,[t[1409]||(t[1409]=Q("div",{class:"custom-block-title"},"PPO 重要性采样",-1)),t[1410]||(t[1410]=Q("p",null,[Q("strong",null,"策略梯度")],-1)),Q("ul",null,[Q("li",null,[t[1388]||(t[1388]=T("交互策略")),Q("mjx-container",Vt,[(e(),l("svg",Dt,t[1384]||(t[1384]=[a("",1)]))),t[1385]||(t[1385]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])],-1))]),t[1389]||(t[1389]=T("：与环境交互，采集大量数据来训练")),Q("mjx-container",bt,[(e(),l("svg",jt,t[1386]||(t[1386]=[a("",1)]))),t[1387]||(t[1387]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))])]),Q("li",null,[t[1392]||(t[1392]=T("学习策略")),Q("mjx-container",vt,[(e(),l("svg",At,t[1390]||(t[1390]=[a("",1)]))),t[1391]||(t[1391]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[1393]||(t[1393]=T("：要训练学习的网络"))]),Q("li",null,[Q("mjx-container",Rt,[(e(),l("svg",Ot,t[1394]||(t[1394]=[a("",1)]))),t[1395]||(t[1395]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[1398]||(t[1398]=T("更新多次后，再去更新")),Q("mjx-container",_t,[(e(),l("svg",Ct,t[1396]||(t[1396]=[a("",1)]))),t[1397]||(t[1397]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])],-1))])])]),Q("mjx-container",Bt,[(e(),l("svg",Et,t[1399]||(t[1399]=[a("",1)]))),t[1400]||(t[1400]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"τ"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")])]),Q("mi",null,"R"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")"),Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"τ"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t[1411]||(t[1411]=Q("p",null,[Q("strong",null,"优势策略梯度")],-1)),t[1412]||(t[1412]=Q("ul",null,[Q("li",null,"优势作权重")],-1)),Q("mjx-container",Xt,[(e(),l("svg",St,t[1401]||(t[1401]=[a("",1)]))),t[1402]||(t[1402]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mi",null,"θ")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"梯"),Q("mi",{mathvariant:"normal"},"度")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),t[1413]||(t[1413]=Q("ul",null,[Q("li",null,"引入重要性采样")],-1)),Q("mjx-container",Ft,[(e(),l("svg",Pt,t[1403]||(t[1403]=[a("",1)]))),t[1404]||(t[1404]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"重"),Q("mi",{mathvariant:"normal"},"要"),Q("mi",{mathvariant:"normal"},"性"),Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mi",null,"θ")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"梯"),Q("mi",{mathvariant:"normal"},"度")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t[1414]||(t[1414]=Q("ul",null,[Q("li",null,[Q("strong",null,"优势"),T("应是"),Q("code",null,"演员和环境交互"),T(" 计算出来的")])],-1)),Q("mjx-container",zt,[(e(),l("svg",It,t[1405]||(t[1405]=[a("",1)]))),t[1406]||(t[1406]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"重"),Q("mi",{mathvariant:"normal"},"要"),Q("mi",{mathvariant:"normal"},"性"),Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重")])])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"p"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"梯"),Q("mi",{mathvariant:"normal"},"度")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t[1415]||(t[1415]=Q("p",null,[Q("strong",null,"目标函数")],-1)),Q("mjx-container",Gt,[(e(),l("svg",Nt,t[1407]||(t[1407]=[a("",1)]))),t[1408]||(t[1408]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"重"),Q("mi",{mathvariant:"normal"},"要"),Q("mi",{mathvariant:"normal"},"性"),Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"动"),Q("mi",{mathvariant:"normal"},"作"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"的"),Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t[1416]||(t[1416]=Q("p",null,[Q("strong",null,"优点")],-1)),t[1417]||(t[1417]=Q("ul",null,[Q("li",null,"可通过重要性采样把同策略换成异策略")],-1))]),t[1842]||(t[1842]=Q("h3",{id:"gae",tabindex:"-1"},[T("GAE "),Q("a",{class:"header-anchor",href:"#gae","aria-label":'Permalink to "GAE"'},"​")],-1)),t[1843]||(t[1843]=Q("p",null,[Q("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/07-actor-critic.html#%E5%B9%BF%E4%B9%89%E4%BC%98%E5%8A%BF%E4%BC%B0%E8%AE%A1",target:"_blank",rel:"noreferrer"},"GAE 笔记")],-1)),Q("div",Jt,[t[1424]||(t[1424]=Q("div",{class:"custom-block-title"},"GAE",-1)),t[1425]||(t[1425]=Q("ul",null,[Q("li",null,"对不同步数的TD优势估计进行指数加权平均，平衡方差和偏差")],-1)),Q("mjx-container",qt,[(e(),l("svg",Kt,t[1418]||(t[1418]=[a("",1)]))),t[1419]||(t[1419]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",{stretchy:"false"},")")])])],-1))]),Q("mjx-container",$t,[(e(),l("svg",Yt,t[1420]||(t[1420]=[a("",1)]))),t[1421]||(t[1421]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mi",null,"λ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"δ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])])])])],-1))]),Q("mjx-container",Ut,[(e(),l("svg",Wt,t[1422]||(t[1422]=[a("",1)]))),t[1423]||(t[1423]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mo",null,","),Q("mi",null,"λ"),Q("mo",{stretchy:"false"},")")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"l"),Q("mo",null,"="),Q("mn",null,"0")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"∞")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"γ"),Q("mi",null,"λ"),Q("msup",null,[Q("mo",{stretchy:"false"},")"),Q("mi",null,"l")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mi",null,"l")])]),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])])],-1))])]),t[1844]||(t[1844]=Q("h3",{id:"算法流程",tabindex:"-1"},[T("算法流程 "),Q("a",{class:"header-anchor",href:"#算法流程","aria-label":'Permalink to "算法流程"'},"​")],-1)),Q("div",QT,[t[1454]||(t[1454]=Q("div",{class:"custom-block-title"},"算法流程",-1)),t[1455]||(t[1455]=Q("p",null,[Q("strong",null,"PPO算法流程")],-1)),Q("ul",null,[Q("li",null,[t[1428]||(t[1428]=T("初始策略参数")),Q("mjx-container",tT,[(e(),l("svg",TT,t[1426]||(t[1426]=[a("",1)]))),t[1427]||(t[1427]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msup",null,[Q("mi",null,"θ"),Q("mn",null,"0")])])],-1))])]),Q("li",null,[t[1451]||(t[1451]=T("每次迭代 ")),Q("ul",null,[Q("li",null,[t[1437]||(t[1437]=T("用")),Q("strong",null,[t[1431]||(t[1431]=T("旧策略")),Q("mjx-container",aT,[(e(),l("svg",lT,t[1429]||(t[1429]=[a("",1)]))),t[1430]||(t[1430]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])],-1))]),t[1432]||(t[1432]=T(" 和环境交互"))]),t[1438]||(t[1438]=T("，")),Q("strong",null,[t[1435]||(t[1435]=T("采样大量")),Q("mjx-container",eT,[(e(),l("svg",mT,t[1433]||(t[1433]=[a("",1)]))),t[1434]||(t[1434]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"s"),Q("mo",null,","),Q("mi",null,"a"),Q("mo",{stretchy:"false"},")")])],-1))]),t[1436]||(t[1436]=T("对"))])]),Q("li",null,[Q("strong",null,[t[1441]||(t[1441]=T("根据")),Q("mjx-container",sT,[(e(),l("svg",dT,t[1439]||(t[1439]=[a("",1)]))),t[1440]||(t[1440]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])],-1))]),t[1442]||(t[1442]=T("交互结果"))]),t[1445]||(t[1445]=T("，估计")),Q("mjx-container",oT,[(e(),l("svg",nT,t[1443]||(t[1443]=[a("",1)]))),t[1444]||(t[1444]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))])]),t[1450]||(t[1450]=Q("li",null,"采样到这组数据后，最大化目标函数",-1)),Q("li",null,[t[1448]||(t[1448]=T("可以让")),Q("mjx-container",rT,[(e(),l("svg",iT,t[1446]||(t[1446]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),t[1447]||(t[1447]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"θ")])],-1))]),t[1449]||(t[1449]=T("更新很多次"))])])])]),Q("mjx-container",hT,[(e(),l("svg",gT,t[1452]||(t[1452]=[a("",1)]))),t[1453]||(t[1453]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"P"),Q("mi",null,"P"),Q("mi",null,"O")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",null,"k")])])])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"KL")])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"θ")]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"θ"),Q("mi",null,"k")])]),Q("mo",{stretchy:"false"},")")])],-1))])]),t[1845]||(t[1845]=a("",6)),Q("div",pT,[t[1458]||(t[1458]=Q("div",{class:"custom-block-title"},"PPO不足",-1)),t[1459]||(t[1459]=Q("p",null,[Q("strong",null,"GAE带来的计算开销大、训练不稳定")],-1)),t[1460]||(t[1460]=Q("ul",null,[Q("li",null,"GAE 主要依赖于单步时序误差")],-1)),Q("mjx-container",HT,[(e(),l("svg",cT,t[1456]||(t[1456]=[a("",1)]))),t[1457]||(t[1457]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"δ"),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")])])],-1))]),t[1461]||(t[1461]=a("",1))]),t[1846]||(t[1846]=a("",3)),Q("div",uT,[t[1493]||(t[1493]=Q("div",{class:"custom-block-title"},"标准RLHF目标",-1)),t[1494]||(t[1494]=Q("p",null,[Q("strong",null,"标准RLHF目标-tradeoff")],-1)),Q("ul",null,[Q("li",null,[t[1466]||(t[1466]=Q("strong",null,"最大化奖励",-1)),t[1467]||(t[1467]=T("：")),Q("mjx-container",LT,[(e(),l("svg",wT,t[1462]||(t[1462]=[a("",1)]))),t[1463]||(t[1463]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])],-1))]),t[1468]||(t[1468]=T(" 生成的回答")),Q("mjx-container",fT,[(e(),l("svg",yT,t[1464]||(t[1464]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D466",d:"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z",style:{"stroke-width":"3"}})])])],-1)]))),t[1465]||(t[1465]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"y")])],-1))]),t[1469]||(t[1469]=T("，")),t[1470]||(t[1470]=Q("code",null,"从奖励模型尽可能获得高分",-1))]),Q("li",null,[t[1477]||(t[1477]=Q("strong",null,"不要偏离太远",-1)),t[1478]||(t[1478]=T("：约束策略")),Q("mjx-container",xT,[(e(),l("svg",kT,t[1471]||(t[1471]=[a("",1)]))),t[1472]||(t[1472]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])],-1))]),t[1479]||(t[1479]=T("和参考策略")),Q("mjx-container",MT,[(e(),l("svg",ZT,t[1473]||(t[1473]=[a("",1)]))),t[1474]||(t[1474]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])])])])],-1))]),t[1480]||(t[1480]=T()),t[1481]||(t[1481]=Q("code",null,"保持一定相似性",-1)),t[1482]||(t[1482]=T("。")),Q("mjx-container",VT,[(e(),l("svg",DT,t[1475]||(t[1475]=[a("",1)]))),t[1476]||(t[1476]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"s"),Q("mi",null,"f"),Q("mi",null,"t")])])])],-1))])])]),Q("mjx-container",bT,[(e(),l("svg",jT,t[1483]||(t[1483]=[a("",1)]))),t[1484]||(t[1484]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"D"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"y"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t[1495]||(t[1495]=Q("ul",null,[Q("li",null,"奖励函数")],-1)),Q("mjx-container",vT,[(e(),l("svg",AT,t[1485]||(t[1485]=[a("",1)]))),t[1486]||(t[1486]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])],-1))]),t[1496]||(t[1496]=Q("p",null,[Q("strong",null,"标准RLHF训练流程")],-1)),Q("ul",null,[Q("li",null,[t[1489]||(t[1489]=Q("p",null,"先训rewad model",-1)),Q("mjx-container",RT,[(e(),l("svg",OT,t[1487]||(t[1487]=[a("",1)]))),t[1488]||(t[1488]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"σ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))])]),Q("li",null,[t[1492]||(t[1492]=Q("p",null,"再通过PPO训Actor Model",-1)),Q("mjx-container",_T,[(e(),l("svg",CT,t[1490]||(t[1490]=[a("",1)]))),t[1491]||(t[1491]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"D"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"y"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))])])])]),t[1847]||(t[1847]=a("",4)),Q("div",BT,[t[1507]||(t[1507]=a("",3)),Q("mjx-container",ET,[(e(),l("svg",XT,t[1497]||(t[1497]=[a("",1)]))),t[1498]||(t[1498]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"∗")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"exp")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"β")])]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])],-1))]),Q("ul",null,[Q("li",null,[Q("mjx-container",ST,[(e(),l("svg",FT,t[1499]||(t[1499]=[a("",1)]))),t[1500]||(t[1500]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])],-1))]),t[1501]||(t[1501]=T("：")),t[1502]||(t[1502]=Q("strong",null,"归一化因子",-1)),t[1503]||(t[1503]=T("、分配函数，确保给定x，")),t[1504]||(t[1504]=Q("code",null,"所有y概率加起来等于1",-1))])]),Q("mjx-container",PT,[(e(),l("svg",zT,t[1505]||(t[1505]=[a("",1)]))),t[1506]||(t[1506]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"y")])])]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"exp")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"β")])]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])],-1))])]),t[1848]||(t[1848]=Q("h4",{id:"显示最优解推导过程",tabindex:"-1"},[T("显示最优解推导过程 "),Q("a",{class:"header-anchor",href:"#显示最优解推导过程","aria-label":'Permalink to "显示最优解推导过程"'},"​")],-1)),Q("div",IT,[t[1528]||(t[1528]=Q("div",{class:"custom-block-title"},"显示最优解推导过程",-1)),t[1529]||(t[1529]=Q("p",null,[Q("strong",null,"显示最优解推导过程")],-1)),t[1530]||(t[1530]=Q("ul",null,[Q("li",null,"推导1")],-1)),Q("mjx-container",GT,[(e(),l("svg",NT,t[1508]||(t[1508]=[a("",1)]))),t[1509]||(t[1509]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"D"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"y"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"D"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"y"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"min"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"D"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"y"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"−"),Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"β")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"min"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"D"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"y"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"−"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msup",null,[Q("mi",null,"e"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mi",null,"β")])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"min"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"D"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"y"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("msup",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"e")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"β")])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd")])])])],-1))]),Q("ul",null,[Q("li",null,[Q("p",null,[t[1514]||(t[1514]=T("归一化分母，构建")),Q("mjx-container",JT,[(e(),l("svg",qT,t[1510]||(t[1510]=[a("",1)]))),t[1511]||(t[1511]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])],-1))]),t[1515]||(t[1515]=T("，以及新的概率分布")),Q("mjx-container",KT,[(e(),l("svg",$T,t[1512]||(t[1512]=[a("",1)]))),t[1513]||(t[1513]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msup",null,[Q("mi",null,"π"),Q("mo",null,"∗")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])],-1))])]),Q("mjx-container",YT,[(e(),l("svg",UT,t[1516]||(t[1516]=[a("",1)]))),t[1517]||(t[1517]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"y")])])]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("msup",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"e")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"β")])])])])],-1))]),Q("mjx-container",WT,[(e(),l("svg",Qa,t[1518]||(t[1518]=[a("",1)]))),t[1519]||(t[1519]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"π"),Q("mo",null,"∗")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("msup",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"e")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"β")])])])]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])])],-1))])]),t[1520]||(t[1520]=Q("li",null,[Q("p",null,"代入目标式子，得到KL散度")],-1))]),Q("mjx-container",ta,[(e(),l("svg",Ta,t[1521]||(t[1521]=[a("",1)]))),t[1522]||(t[1522]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])]),Q("mi",null,"J"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"min"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"D"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"y"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("mfrac",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"e"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"β")])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"min"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"D"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"y"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"∗")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"−"),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"与"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mi",{mathvariant:"normal"},"无"),Q("mi",{mathvariant:"normal"},"关")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"min"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mi",null,"D"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"y"),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"∗")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"min"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"x"),Q("mo",null,"∼"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")])])]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msup",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"∗")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])])])])],-1))]),Q("ul",null,[Q("li",null,[t[1525]||(t[1525]=T("KL散度在2个分布相等时取最小值，因此RLHF训练希望得到的最优概率分布就是")),Q("mjx-container",aa,[(e(),l("svg",la,t[1523]||(t[1523]=[a("",1)]))),t[1524]||(t[1524]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"∗")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])])],-1))])])]),Q("mjx-container",ea,[(e(),l("svg",ma,t[1526]||(t[1526]=[a("",1)]))),t[1527]||(t[1527]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"π"),Q("mo",null,"∗")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⋅"),Q("msup",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"e")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"β")])])])]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])])],-1))])]),t[1849]||(t[1849]=Q("h4",{id:"反解奖励函数",tabindex:"-1"},[T("反解奖励函数 "),Q("a",{class:"header-anchor",href:"#反解奖励函数","aria-label":'Permalink to "反解奖励函数"'},"​")],-1)),Q("div",sa,[t[1543]||(t[1543]=Q("div",{class:"custom-block-title"},"反解奖励函数",-1)),t[1544]||(t[1544]=Q("p",null,[Q("strong",null,"反解奖励函数")],-1)),Q("ul",null,[Q("li",null,[t[1535]||(t[1535]=T("直接转换")),Q("mjx-container",da,[(e(),l("svg",oa,t[1531]||(t[1531]=[a("",1)]))),t[1532]||(t[1532]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"∗")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])])],-1))]),t[1536]||(t[1536]=T("定义，反解出隐式奖励函数")),Q("mjx-container",na,[(e(),l("svg",ra,t[1533]||(t[1533]=[a("",1)]))),t[1534]||(t[1534]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")])])],-1))])])]),Q("mjx-container",ia,[(e(),l("svg",ha,t[1537]||(t[1537]=[a("",1)]))),t[1538]||(t[1538]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"π"),Q("mo",null,"∗")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msup",null,[Q("mstyle",{mathcolor:"red"},[Q("mi",null,"e")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("mi",null,"β")])])])])],-1))]),Q("mjx-container",ga,[(e(),l("svg",pa,t[1539]||(t[1539]=[a("",1)]))),t[1540]||(t[1540]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"π"),Q("mo",null,"∗")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")])])],-1))]),Q("mjx-container",Ha,[(e(),l("svg",ca,t[1541]||(t[1541]=[a("",1)]))),t[1542]||(t[1542]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"π"),Q("mo",null,"∗")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"+"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])],-1))])]),t[1850]||(t[1850]=Q("h4",{id:"dpo和rm目标loss一致",tabindex:"-1"},[T("DPO和RM目标loss一致 "),Q("a",{class:"header-anchor",href:"#dpo和rm目标loss一致","aria-label":'Permalink to "DPO和RM目标loss一致"'},"​")],-1)),Q("div",ua,[t[1549]||(t[1549]=Q("div",{class:"custom-block-title"},"RM&DPO 目标loss一致",-1)),t[1550]||(t[1550]=Q("p",null,[Q("strong",null,"奖励函数带入奖励loss")],-1)),t[1551]||(t[1551]=Q("ul",null,[Q("li",null,"RewardModel 训练目标 和 DPO 训练目标一致")],-1)),Q("mjx-container",La,[(e(),l("svg",wa,t[1545]||(t[1545]=[a("",1)]))),t[1546]||(t[1546]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"R"),Q("mi",null,"M")])])])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"σ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"π"),Q("mo",null,"∗")])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"σ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"π"),Q("mo",null,"∗")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"+"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"π"),Q("mo",null,"∗")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msup",null,[Q("mi",null,"π"),Q("mo",null,"∗")])])])]),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"σ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"π"),Q("mo",null,"∗")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msup",null,[Q("mi",null,"π"),Q("mo",null,"∗")]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"D"),Q("mi",null,"P"),Q("mi",null,"O")])])])])])])])],-1))]),t[1552]||(t[1552]=a("",2)),Q("mjx-container",fa,[(e(),l("svg",ya,t[1547]||(t[1547]=[a("",1)]))),t[1548]||(t[1548]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"D"),Q("mi",null,"P"),Q("mi",null,"O")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"R"),Q("mi",null,"M")])])])])],-1))]),t[1553]||(t[1553]=a("",4))]),t[1851]||(t[1851]=Q("h3",{id:"dpo-核心思想",tabindex:"-1"},[T("DPO 核心思想 "),Q("a",{class:"header-anchor",href:"#dpo-核心思想","aria-label":'Permalink to "DPO 核心思想"'},"​")],-1)),Q("div",xa,[t[1635]||(t[1635]=Q("div",{class:"custom-block-title"},"DPO 核心思想",-1)),Q("p",null,[Q("strong",null,[t[1556]||(t[1556]=T("通过")),Q("mjx-container",ka,[(e(),l("svg",Ma,t[1554]||(t[1554]=[a("",1)]))),t[1555]||(t[1555]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])],-1))]),t[1557]||(t[1557]=T("反解出奖励函数"))])]),Q("ul",null,[t[1568]||(t[1568]=Q("li",null,"逆向运用理论最优解关系。",-1)),t[1569]||(t[1569]=Q("li",null,[Q("strong",null,"不再采用老策略"),T("：先学习奖励函数、再利用奖励函数优化策略。")],-1)),Q("li",null,[t[1562]||(t[1562]=T("假设LLM隐式定义一个奖励函数，从")),t[1563]||(t[1563]=Q("strong",null,"策略",-1)),Q("mjx-container",Za,[(e(),l("svg",Va,t[1558]||(t[1558]=[a("",1)]))),t[1559]||(t[1559]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])],-1))]),t[1564]||(t[1564]=T("和")),t[1565]||(t[1565]=Q("strong",null,"参考策略",-1)),Q("mjx-container",Da,[(e(),l("svg",ba,t[1560]||(t[1560]=[a("",1)]))),t[1561]||(t[1561]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])])])])],-1))]),t[1566]||(t[1566]=T("中")),t[1567]||(t[1567]=Q("code",null,"反解出隐式奖励函数",-1))])]),Q("mjx-container",ja,[(e(),l("svg",va,t[1570]||(t[1570]=[a("",1)]))),t[1571]||(t[1571]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"ϕ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"+"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])],-1))]),t[1636]||(t[1636]=Q("p",null,[Q("strong",null,"偏好建模")],-1)),Q("ul",null,[t[1583]||(t[1583]=Q("li",null,[Q("code",null,"winner > loser"),T(", "),Q("code",null,"chosen > reject")],-1)),Q("li",null,[t[1581]||(t[1581]=T("人类")),Q("strong",null,[t[1576]||(t[1576]=T("偏好")),Q("mjx-container",Aa,[(e(),l("svg",Ra,t[1572]||(t[1572]=[a("",1)]))),t[1573]||(t[1573]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")])])],-1))]),t[1577]||(t[1577]=T("而不是")),Q("mjx-container",Oa,[(e(),l("svg",_a,t[1574]||(t[1574]=[a("",1)]))),t[1575]||(t[1575]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")])])],-1))]),t[1578]||(t[1578]=T("的概率"))]),t[1582]||(t[1582]=T()),Q("mjx-container",Ca,[(e(),l("svg",Ba,t[1579]||(t[1579]=[a("",1)]))),t[1580]||(t[1580]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,">"),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")])]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])],-1))])])]),Q("mjx-container",Ea,[(e(),l("svg",Xa,t[1584]||(t[1584]=[a("",1)]))),t[1585]||(t[1585]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"p"),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,">"),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")])]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"σ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"−"),Q("mstyle",{mathcolor:"red"},[Q("mi",null,"r")]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mi",null,"σ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"+"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mi",null,"Z"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mi",null,"σ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])])])])],-1))]),t[1637]||(t[1637]=Q("p",null,[Q("strong",null,"DPO 目标函数")],-1)),Q("ul",null,[Q("li",null,[t[1596]||(t[1596]=Q("p",null,"最小化目标函数",-1)),Q("ul",null,[Q("li",null,[Q("mjx-container",Sa,[(e(),l("svg",Fa,t[1586]||(t[1586]=[a("",1)]))),t[1587]||(t[1587]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("mo",null,"−"),Q("mi",null,"log")])])],-1))]),t[1588]||(t[1588]=T("：")),t[1589]||(t[1589]=Q("a",{href:"https://plmsmile.github.io/posts/llm/basic/01-lm-define-information-theory.html#kl%E6%95%A3%E5%BA%A6-%E4%BA%A4%E5%8F%89%E7%86%B5-%E5%9B%B0%E6%83%91%E5%BA%A6",target:"_blank",rel:"noreferrer"},"交叉熵",-1)),t[1590]||(t[1590]=T("loss，")),t[1591]||(t[1591]=Q("strong",null,"对错误概率进行惩罚",-1)),t[1592]||(t[1592]=T("；目标：")),t[1593]||(t[1593]=Q("code",null,"最小化惩罚",-1))])]),Q("mjx-container",Pa,[(e(),l("svg",za,t[1594]||(t[1594]=[a("",1)]))),t[1595]||(t[1595]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"L")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"D"),Q("mi",null,"P"),Q("mi",null,"O")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",null,";"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"−")]),Q("msub",null,[Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"double-struck"},"E")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"σ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))])]),t[1597]||(t[1597]=Q("li",null,[Q("p",null,[Q("strong",null,"最大化以下目标")]),Q("ul",null,[Q("li",null,[Q("strong",null,"生成正样本的概率"),T(),Q("code",null,"比参考模型高"),T("，"),Q("strong",null,"生成负样本的概率"),T(),Q("code",null,"比参考模型低"),T("。")])])],-1))]),Q("mjx-container",Ia,[(e(),l("svg",Ga,t[1598]||(t[1598]=[a("",1)]))),t[1599]||(t[1599]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"σ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t[1638]||(t[1638]=Q("p",null,[Q("strong",null,"从loss理解其弊端")],-1)),t[1639]||(t[1639]=Q("ul",null,[Q("li",null,"Loss转换过程")],-1)),Q("mjx-container",Na,[(e(),l("svg",Ja,t[1600]||(t[1600]=[a("",1)]))),t[1601]||(t[1601]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("msub",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"D"),Q("mi",null,"P"),Q("mi",null,"O")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"σ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"σ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mi",null,"β"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mi",null,"β"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])]),Q("mtr",null,[Q("mtd"),Q("mtd",null,[Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"σ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mi",null,"β"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"−"),Q("mtext",null," "),Q("mi",null,"β"),Q("mi",null,"l"),Q("mi",null,"o"),Q("mi",null,"g"),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])])])])],-1))]),Q("ul",null,[Q("li",null,[t[1616]||(t[1616]=Q("p",null,"Loss转换结果",-1)),t[1617]||(t[1617]=Q("ul",null,[Q("li",null,[Q("strong",null,"生成正负样本的比例"),T("，要"),Q("code",null,"目标策略的比例"),T("比"),Q("code",null,"参考策略的比例"),T(),Q("strong",null,"高"),T("，"),Q("strong",null,"loss就可以下降"),T("。")])],-1)),Q("mjx-container",qa,[(e(),l("svg",Ka,t[1602]||(t[1602]=[a("",1)]))),t[1603]||(t[1603]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"σ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mi",null,"β"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),Q("ul",null,[Q("li",null,[Q("p",null,[t[1608]||(t[1608]=T("比如")),t[1609]||(t[1609]=Q("strong",null,"参考策略",-1)),t[1610]||(t[1610]=T("：")),Q("mjx-container",$a,[(e(),l("svg",Ya,t[1604]||(t[1604]=[a("",1)]))),t[1605]||(t[1605]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mfrac",null,[Q("mn",null,"0.5"),Q("mn",null,"0.25")]),Q("mo",null,"="),Q("mn",null,"2")])],-1))]),t[1611]||(t[1611]=T("，目标策略 ")),Q("mjx-container",Ua,[(e(),l("svg",Wa,t[1606]||(t[1606]=[a("",1)]))),t[1607]||(t[1607]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mfrac",null,[Q("mn",null,"0.3"),Q("mn",null,"0.1")]),Q("mo",null,"="),Q("mn",null,"3")])],-1))]),t[1612]||(t[1612]=T("，"))]),t[1615]||(t[1615]=Q("ul",null,[Q("li",null,[T("虽然"),Q("code",null,"loss下降"),T("、"),Q("code",null,"负样本概率下降"),T("，但是"),Q("code",null,"正样本概率也下降"),T("了。")]),Q("li",null,[Q("code",null,"正负样本概率都下降"),T("，自然一些"),Q("code",null,"奇奇怪怪的输出概率就提高"),T("了。")])],-1)),Q("mjx-container",Ql,[(e(),l("svg",tl,t[1613]||(t[1613]=[a("",1)]))),t[1614]||(t[1614]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",null,":"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("mn",null,"0.5")]),Q("mn",null,"0.25")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"2")]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mo",{stretchy:"false"},"→"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",null,":"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("mn",null,"0.3")]),Q("mn",null,"0.1")]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"3")])])],-1))])])])])]),t[1640]||(t[1640]=Q("p",null,[Q("strong",null,"梯度更新")],-1)),Q("mjx-container",Tl,[(e(),l("svg",al,t[1618]||(t[1618]=[a("",1)]))),t[1619]||(t[1619]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"L")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"D"),Q("mi",null,"P"),Q("mi",null,"O")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",null,";"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("msub",null,[Q("mstyle",{mathcolor:"blue"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"double-struck"},"E")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"∼"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")])])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mi",null,"σ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重")]),Q("mi",null,"："),Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"模"),Q("mi",{mathvariant:"normal"},"型"),Q("mi",{mathvariant:"normal"},"犯"),Q("mi",{mathvariant:"normal"},"错"),Q("mi",{mathvariant:"normal"},"越"),Q("mi",{mathvariant:"normal"},"大"),Q("mi",null,"，"),Q("mi",{mathvariant:"normal"},"权"),Q("mi",{mathvariant:"normal"},"重"),Q("mi",{mathvariant:"normal"},"越"),Q("mi",{mathvariant:"normal"},"高")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"⋅"),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"π"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"π"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"方"),Q("mi",{mathvariant:"normal"},"向")]),Q("mi",null,"："),Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"normal"},"增"),Q("mi",{mathvariant:"normal"},"加"),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mi",{mathvariant:"normal"},"似"),Q("mi",{mathvariant:"normal"},"然")]),Q("mi",null,"，"),Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"降"),Q("mi",{mathvariant:"normal"},"低"),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mi",{mathvariant:"normal"},"似"),Q("mi",{mathvariant:"normal"},"然")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q("mjx-container",ll,[(e(),l("svg",el,t[1620]||(t[1620]=[a("",1)]))),t[1621]||(t[1621]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"x"),Q("mo",null,","),Q("mi",null,"y"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"log")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"y"),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])])],-1))]),t[1641]||(t[1641]=Q("p",null,[Q("strong",null,"算法机制")],-1)),Q("ul",null,[t[1634]||(t[1634]=Q("li",null,[T("数据："),Q("code",null,"离线静态的偏好数据")],-1)),Q("li",null,[t[1626]||(t[1626]=T("参考模型作用：")),Q("mjx-container",ml,[(e(),l("svg",sl,t[1622]||(t[1622]=[a("",1)]))),t[1623]||(t[1623]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])],-1))]),t[1627]||(t[1627]=T("和")),Q("mjx-container",dl,[(e(),l("svg",ol,t[1624]||(t[1624]=[a("",1)]))),t[1625]||(t[1625]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"s"),Q("mi",null,"f"),Q("mi",null,"t")])])])],-1))]),t[1628]||(t[1628]=T("不要偏离太远"))]),Q("li",null,[t[1631]||(t[1631]=T("超参数")),Q("mjx-container",nl,[(e(),l("svg",rl,t[1629]||(t[1629]=[Q("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[Q("g",{"data-mml-node":"math"},[Q("g",{"data-mml-node":"mi"},[Q("path",{"data-c":"1D6FD",d:"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z",style:{"stroke-width":"3"}})])])],-1)]))),t[1630]||(t[1630]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"β")])],-1))]),t[1632]||(t[1632]=T("：控制2部分权重 ")),t[1633]||(t[1633]=Q("ul",null,[Q("li",null,[T("一是："),Q("code",null,"最大化chosen和reject之间的概率差")]),Q("li",null,[T("二是："),Q("code",null,"保持与参考模型的相似性")])],-1))])])]),t[1852]||(t[1852]=Q("img",{src:"https://paper-assets.alphaxiv.org/figures/2305.18290v3/img-0.jpeg",style:{display:"block",margin:"auto"},width:"100%"},null,-1)),t[1853]||(t[1853]=Q("h3",{id:"dpo-缺点",tabindex:"-1"},[T("DPO 缺点 "),Q("a",{class:"header-anchor",href:"#dpo-缺点","aria-label":'Permalink to "DPO 缺点"'},"​")],-1)),t[1854]||(t[1854]=Q("p",null,[Q("strong",null,"简洁性"),T("是其"),Q("code",null,"最大优点"),T("，但也是其"),Q("code",null,"最大缺点"),T("。")],-1)),Q("div",il,[t[1644]||(t[1644]=a("",5)),Q("mjx-container",hl,[(e(),l("svg",gl,t[1642]||(t[1642]=[a("",1)]))),t[1643]||(t[1643]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("munder",null,[Q("mo",{"data-mjx-texclass":"OP"},"max"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mi",null,"σ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mi",null,"β"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"w")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"l")]),Q("mo",null,"∣"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t[1645]||(t[1645]=a("",3))]),t[1855]||(t[1855]=Q("h2",{id:"grpo",tabindex:"-1"},[T("GRPO "),Q("a",{class:"header-anchor",href:"#grpo","aria-label":'Permalink to "GRPO"'},"​")],-1)),t[1856]||(t[1856]=Q("h3",{id:"ppo缺点-grpo动机",tabindex:"-1"},[T("PPO缺点 & GRPO动机 "),Q("a",{class:"header-anchor",href:"#ppo缺点-grpo动机","aria-label":'Permalink to "PPO缺点 & GRPO动机"'},"​")],-1)),Q("div",pl,[t[1666]||(t[1666]=Q("div",{class:"custom-block-title"},"PPO 缺点 & GRPO 动机",-1)),t[1667]||(t[1667]=Q("p",null,[Q("strong",null,"PPO 核心思想")],-1)),t[1668]||(t[1668]=Q("ul",null,[Q("li",null,[Q("strong",null,"Actor Model")])],-1)),Q("mjx-container",Hl,[(e(),l("svg",cl,t[1646]||(t[1646]=[a("",1)]))),t[1647]||(t[1647]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"O")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"C"),Q("mi",{mathvariant:"normal"},"L"),Q("mi",{mathvariant:"normal"},"I"),Q("mi",{mathvariant:"normal"},"P")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"q"),Q("mo",null,","),Q("mi",null,"o"),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("mi",null,"o"),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("mi",null,"o"),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),Q("mstyle",{mathcolor:"red"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"A"),Q("mi",null,"t")])]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-auto-op":"false"},"clip")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"ϵ")]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"+"),Q("mi",null,"ϵ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"A"),Q("mi",null,"t")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t[1669]||(t[1669]=Q("ul",null,[Q("li",null,[Q("strong",null,"Critic Model")])],-1)),Q("mjx-container",ul,[(e(),l("svg",Ll,t[1648]||(t[1648]=[a("",1)]))),t[1649]||(t[1649]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[Q("mtr",null,[Q("mtd",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"L"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"c"),Q("mi",{mathvariant:"normal"},"r"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"t"),Q("mi",{mathvariant:"normal"},"i"),Q("mi",{mathvariant:"normal"},"c")])])])])]),Q("mtd",null,[Q("mo",null,"="),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,"+"),Q("mi",null,"γ"),Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"+"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"γ"),Q("mi",null,"λ")]),Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"A"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"a"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"+"),Q("mn",null,"1")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"T"),Q("mi",null,"D"),Q("mi",{mathvariant:"normal"},"目"),Q("mi",{mathvariant:"normal"},"标"),Q("mi",null,"，"),Q("mi",{mathvariant:"normal"},"增"),Q("mi",{mathvariant:"normal"},"加"),Q("mi",null,"G"),Q("mi",null,"A"),Q("mi",null,"E")])])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mrow",null,[Q("msub",null,[Q("mi",null,"V"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"n"),Q("mi",{mathvariant:"normal"},"e"),Q("mi",{mathvariant:"normal"},"w")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"最"),Q("mi",{mathvariant:"normal"},"新"),Q("mi",{mathvariant:"normal"},"网"),Q("mi",{mathvariant:"normal"},"络"),Q("mi",{mathvariant:"normal"},"预"),Q("mi",{mathvariant:"normal"},"测"),Q("mi",{mathvariant:"normal"},"值")])])]),Q("msup",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mn",null,"2")])])])])])],-1))]),t[1670]||(t[1670]=Q("ul",null,[Q("li",null,[Q("strong",null,"Reward Model"),T(" （不参与训练，或 Rule Based Reward）")])],-1)),Q("mjx-container",wl,[(e(),l("svg",fl,t[1650]||(t[1650]=[a("",1)]))),t[1651]||(t[1651]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"r"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"total")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"r"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"env")])])]),Q("mo",null,"−"),Q("msub",null,[Q("mstyle",{mathcolor:"red"},[Q("mtext",null,"KL")]),Q("mi",null,"t")]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"r"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"env")])])]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"log")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"t")]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])])])],-1))]),t[1671]||(t[1671]=Q("p",null,[Q("strong",null,"PPO 缺点")],-1)),Q("ul",null,[Q("li",null,[t[1664]||(t[1664]=Q("code",null,"资源开销大",-1)),Q("ul",null,[t[1663]||(t[1663]=Q("li",null,[Q("strong",null,"需要训Critic Model"),T("(通常和Actor同尺寸)，增加了"),Q("code",null,"额外的内存"),T("和"),Q("code",null,"计算开销"),T("。")],-1)),Q("li",null,[t[1654]||(t[1654]=Q("strong",null,"每个Token",-1)),t[1655]||(t[1655]=T("都需要")),t[1656]||(t[1656]=Q("strong",null,"由Critic",-1)),t[1657]||(t[1657]=T()),t[1658]||(t[1658]=Q("code",null,"去估计价值",-1)),t[1659]||(t[1659]=T(", ")),Q("mjx-container",yl,[(e(),l("svg",xl,t[1652]||(t[1652]=[a("",1)]))),t[1653]||(t[1653]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"A"),Q("mi",null,"t")])])])],-1))]),t[1660]||(t[1660]=T()),t[1661]||(t[1661]=Q("code",null,"依赖Critic",-1)),t[1662]||(t[1662]=T("。"))])])]),t[1665]||(t[1665]=Q("li",null,[Q("code",null,"训练复杂/不好训"),Q("ul",null,[Q("li",null,[T("LLM通常"),Q("a",{href:"http://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#reward-model-%E5%8D%B3%E6%97%B6%E5%A5%96%E5%8A%B1",target:"_blank",rel:"noreferrer"},"只有最后一个Token才有奖励信号")]),Q("li",null,[T("导致Critic Model "),Q("strong",null,"难以估计每个Token的价值"),T("，"),Q("code",null,"不好训练"),T("。")])])],-1))]),t[1672]||(t[1672]=Q("p",null,[Q("strong",null,"GRPO 动机")],-1)),t[1673]||(t[1673]=Q("ul",null,[Q("li",null,[Q("strong",null,"解决PPO"),T(),Q("code",null,"Critic资源开销大"),T("、"),Q("code",null,"训练复杂"),T("的问题。")])],-1))]),t[1857]||(t[1857]=a("",3)),Q("div",kl,[t[1702]||(t[1702]=a("",3)),Q("mjx-container",Ml,[(e(),l("svg",Zl,t[1674]||(t[1674]=[a("",1)]))),t[1675]||(t[1675]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"q")]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mo",{stretchy:"false"},"→"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"bold"},"o")])]),Q("mo",null,"="),Q("mo",{fence:"false",stretchy:"false"},"{"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"o"),Q("mn",null,"1")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mn",null,"2")])]),Q("mo",null,","),Q("mo",null,"⋯"),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"G")])]),Q("mo",{fence:"false",stretchy:"false"},"}"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mo",{stretchy:"false"},"→"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"bold"},"r")])]),Q("mo",null,"="),Q("mo",{fence:"false",stretchy:"false"},"{"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mn",null,"1")]),Q("mo",null,","),Q("msub",null,[Q("mi",null,"r"),Q("mn",null,"2")])]),Q("mo",null,","),Q("mo",null,"⋯"),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"G")])]),Q("mo",{fence:"false",stretchy:"false"},"}")])],-1))]),t[1703]||(t[1703]=Q("ul",null,[Q("li",null,[Q("strong",null,"组内基线计算"),T("：组内"),Q("code",null,"平均奖励"),T("/"),Q("code",null,"奖励标准差")])],-1)),Q("mjx-container",Vl,[(e(),l("svg",Dl,t[1676]||(t[1676]=[a("",1)]))),t[1677]||(t[1677]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("mtext",null,"mean")]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"bold"},"r")])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"1em"})]),Q("mstyle",{mathcolor:"blue"},[Q("mtext",null,"std")]),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"bold"},"r")])]),Q("mo",{stretchy:"false"},")")])],-1))]),t[1704]||(t[1704]=Q("p",null,[Q("strong",null,"相对组优势计算")],-1)),Q("ul",null,[Q("li",null,[t[1680]||(t[1680]=T("为每个输出")),Q("mjx-container",bl,[(e(),l("svg",jl,t[1678]||(t[1678]=[a("",1)]))),t[1679]||(t[1679]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"i")])])])],-1))]),t[1681]||(t[1681]=T("，计算")),t[1682]||(t[1682]=Q("code",null,"组内的相对得分",-1)),t[1683]||(t[1683]=T("，作为")),t[1684]||(t[1684]=Q("code",null,"组内的相对优势",-1))])]),Q("mjx-container",vl,[(e(),l("svg",Al,t[1685]||(t[1685]=[a("",1)]))),t[1686]||(t[1686]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"^")])]),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"i")])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mtext",null,"mean")]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"bold"},"r")])]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("mstyle",{mathcolor:"blue"},[Q("mtext",null,"std")]),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"bold"},"r")])]),Q("mo",{stretchy:"false"},")")])]),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mo",{stretchy:"false"},"→"),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"^")])]),Q("mi",null,"i")])])])],-1))]),Q("ul",null,[Q("li",null,[Q("mjx-container",Rl,[(e(),l("svg",Ol,t[1687]||(t[1687]=[a("",1)]))),t[1688]||(t[1688]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])])])])],-1))]),t[1699]||(t[1699]=T(" 组内相对优势 ")),Q("ul",null,[t[1698]||(t[1698]=Q("li",null,[T("不同于"),Q("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/09-policy-trpo-ppo.html#reward-model-%E4%BD%BF%E7%94%A8",target:"_blank",rel:"noreferrer"},"PPO仅最后时刻token有奖励信号"),T("。")],-1)),Q("li",null,[t[1691]||(t[1691]=Q("strong",null,"所有时刻的token",-1)),t[1692]||(t[1692]=T()),Q("mjx-container",_l,[(e(),l("svg",Cl,t[1689]||(t[1689]=[a("",1)]))),t[1690]||(t[1690]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"≤"),Q("mi",null,"T")])])])],-1))]),t[1693]||(t[1693]=T("，都使用")),t[1694]||(t[1694]=Q("code",null,"同一个",-1)),t[1695]||(t[1695]=T()),t[1696]||(t[1696]=Q("strong",null,"组内相对得分",-1)),t[1697]||(t[1697]=T("，作为t时刻优势信号"))])])])]),Q("mjx-container",Bl,[(e(),l("svg",El,t[1700]||(t[1700]=[a("",1)]))),t[1701]||(t[1701]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"r"),Q("mo",{stretchy:"false"},"^")])]),Q("mi",null,"i")])]),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"i")])]),Q("mo",null,"−"),Q("mstyle",{mathcolor:"blue"},[Q("mtext",null,"mean")]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"bold"},"r")])]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("mstyle",{mathcolor:"blue"},[Q("mtext",null,"std")]),Q("mo",{stretchy:"false"},"("),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"red"},[Q("mi",{mathvariant:"bold"},"r")])]),Q("mo",{stretchy:"false"},")")])])])],-1))])]),t[1858]||(t[1858]=Q("h3",{id:"grpo策略目标",tabindex:"-1"},[T("GRPO策略目标 "),Q("a",{class:"header-anchor",href:"#grpo策略目标","aria-label":'Permalink to "GRPO策略目标"'},"​")],-1)),Q("div",Xl,[t[1733]||(t[1733]=Q("div",{class:"custom-block-title"},"GRPO 策略目标",-1)),t[1734]||(t[1734]=Q("p",null,[Q("strong",null,"优化目标-PPO核心差异")],-1)),Q("ul",null,[t[1725]||(t[1725]=Q("li",null,[T("使用"),Q("code",null,"组内优势"),T("来替代"),Q("code",null,"GAE优势"),T("。")],-1)),Q("li",null,[t[1718]||(t[1718]=T("把")),Q("mjx-container",Sl,[(e(),l("svg",Fl,t[1705]||(t[1705]=[a("",1)]))),t[1706]||(t[1706]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])])])],-1))]),t[1719]||(t[1719]=T("和")),Q("mjx-container",Pl,[(e(),l("svg",zl,t[1707]||(t[1707]=[a("",1)]))),t[1708]||(t[1708]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])])])])])])],-1))]),t[1720]||(t[1720]=T("的")),t[1721]||(t[1721]=Q("code",null,"KL约束",-1)),t[1722]||(t[1722]=T("放入")),t[1723]||(t[1723]=Q("strong",null,"目标函数",-1)),t[1724]||(t[1724]=T("。 ")),Q("ul",null,[Q("li",null,[t[1713]||(t[1713]=Q("strong",null,"PPO",-1)),t[1714]||(t[1714]=T("是放在")),t[1715]||(t[1715]=Q("code",null,"每个Token的即时奖励信号",-1)),t[1716]||(t[1716]=T()),Q("mjx-container",Il,[(e(),l("svg",Gl,t[1709]||(t[1709]=[a("",1)]))),t[1710]||(t[1710]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"r"),Q("mi",null,"t")])])])],-1))]),t[1717]||(t[1717]=T("里的 ")),Q("ul",null,[Q("li",null,[Q("mjx-container",Nl,[(e(),l("svg",Jl,t[1711]||(t[1711]=[a("",1)]))),t[1712]||(t[1712]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msubsup",null,[Q("mi",null,"r"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"total")])])]),Q("mo",null,"="),Q("mstyle",{mathcolor:"blue"},[Q("msubsup",null,[Q("mi",null,"r"),Q("mi",null,"t"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"env")])])]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("msub",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"D"),Q("mtext",null,"KL")])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])])]),Q("mo",{stretchy:"false"},")")])],-1))])])])])])]),t[1726]||(t[1726]=Q("li",null,[Q("strong",null,"同PPO一样"),T("，使用"),Q("code",null,"CLIP信任域"),T("来保证新旧策略分布差异不太大。")],-1))]),t[1735]||(t[1735]=Q("p",null,[Q("strong",null,"GRPO 优化目标公式")],-1)),Q("mjx-container",ql,[(e(),l("svg",Kl,t[1727]||(t[1727]=[a("",1)]))),t[1728]||(t[1728]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{mathvariant:"normal"},"G"),Q("mi",{mathvariant:"normal"},"R"),Q("mi",{mathvariant:"normal"},"P"),Q("mi",{mathvariant:"normal"},"O")])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"q"),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("mo",{fence:"false",stretchy:"false"},"{"),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"i")]),Q("msubsup",null,[Q("mo",{fence:"false",stretchy:"false"},"}"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"G")])]),Q("mo",null,"∼"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])]),Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"G")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"G")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"i")]),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"i")]),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mstyle",{mathcolor:"red"},[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])])]),Q("mo",null,","),Q("mstyle",{scriptlevel:"0"},[Q("mspace",{width:"0.278em"})]),Q("mstyle",{mathcolor:"red"},[Q("mtext",null,"clip")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mrow",null,[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("mn",null,"1"),Q("mo",null,"+"),Q("mi",null,"ϵ")]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("mn",null,"1"),Q("mo",null,"−"),Q("mi",null,"ϵ")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")]),Q("mo",null,"−"),Q("mi",null,"β"),Q("mo",null,"⋅"),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])])])])]),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))]),t[1736]||(t[1736]=Q("ul",null,[Q("li",null,[T("GRPO梯度， 省去了clip，"),Q("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/11-grpo-series.html#token-level-loss",target:"_blank",rel:"noreferrer"},"DAPO token-level loss"),T(", "),Q("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/10-ppo-series.html#%E8%A7%A3%E5%86%B3%E9%95%BF%E5%BA%A6%E4%B8%8D%E4%B8%80%E9%97%AE%E9%A2%98-length-adaptive-gae-token-level-policy-loss",target:"_blank",rel:"noreferrer"},"VAPO 解决长度不一问题")])],-1)),Q("mjx-container",$l,[(e(),l("svg",Yl,t[1729]||(t[1729]=[a("",1)]))),t[1730]||(t[1730]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("msub",null,[Q("mi",null,"J"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mtext",null,"GRPO")])]),Q("mo",{stretchy:"false"},"("),Q("mi",null,"θ"),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"E"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"x"),Q("mo",null,"∈"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"D")]),Q("mo",null,","),Q("mstyle",{mathcolor:"blue"},[Q("mo",{fence:"false",stretchy:"false"},"{"),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"i")]),Q("msubsup",null,[Q("mo",{fence:"false",stretchy:"false"},"}"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"G")]),Q("mo",null,"∼"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("mo",null,"⋅"),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("mi",null,"x"),Q("mo",{stretchy:"false"},")")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),Q("mstyle",{mathcolor:"blue"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mi",null,"G")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"G")])]),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mstyle",{mathcolor:"red"},[Q("mfrac",null,[Q("mn",null,"1"),Q("mrow",null,[Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"i")]),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"t"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"i")]),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|")])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mi",{mathvariant:"normal"},"序"),Q("mi",{mathvariant:"normal"},"列"),Q("mi",{mathvariant:"normal"},"内"),Q("mi",{mathvariant:"normal"},"平"),Q("mi",{mathvariant:"normal"},"均")])])]),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mfrac",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mtext",null,"token重要性权重")])])]),Q("mo",null,"⋅"),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])])]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mtext",null,"token优势")])])]),Q("mo",null,"⋅"),Q("munder",null,[Q("mrow",{"data-mjx-texclass":"OP"},[Q("munder",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",{mathvariant:"normal"},"∇"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mi",null,"log"),Q("mo",{"data-mjx-texclass":"NONE"},"⁡"),Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"y"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",{"data-mjx-texclass":"ORD",stretchy:"false"},"|"),Q("mi",null,"x"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"y"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mo",null,"⏟")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mstyle",{mathcolor:"blue"},[Q("mtext",null,"token梯度")])])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t[1737]||(t[1737]=Q("p",null,[Q("strong",null,"GRPO ref KL 约束")],-1)),t[1738]||(t[1738]=Q("ul",null,[Q("li",null,[Q("a",{href:"http://plmsmile.github.io/posts/llm/basic/01-lm-define-information-theory.html#k3-%E6%97%A0%E5%81%8F%E4%B8%94%E4%BD%8E%E6%96%B9%E5%B7%AE",target:"_blank",rel:"noreferrer"},"K3 KL"),T("，"),Q("code",null,"无偏且低方差")])],-1)),Q("mjx-container",Ul,[(e(),l("svg",Wl,t[1731]||(t[1731]=[a("",1)]))),t[1732]||(t[1732]=Q("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("msub",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"D"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"K"),Q("mi",null,"L")])])]),Q("mstyle",{mathcolor:"blue"},[Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},"("),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])])]),Q("mo",null,","),Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])])])])]),Q("mo",{stretchy:"false"},")"),Q("mo",null,"="),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mstyle",{mathcolor:"red"},[Q("mo",null,"−"),Q("mi",null,"log")]),Q("mfrac",null,[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"r"),Q("mi",null,"e"),Q("mi",null,"f")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")]),Q("mstyle",{mathcolor:"blue"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"θ")])]),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])]),Q("mo",null,"∣"),Q("mi",null,"q"),Q("mo",null,","),Q("msub",null,[Q("mi",null,"o"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mo",null,"<"),Q("mi",null,"t")])]),Q("mo",{stretchy:"false"},")")])]),Q("mo",null,"−"),Q("mn",null,"1")])],-1))])]),t[1859]||(t[1859]=a("",12)),Q("div",Qe,[t[1759]||(t[1759]=Q("div",{class:"custom-block-title"},"PPO vs GRPO 核心思想",-1)),t[1760]||(t[1760]=Q("p",null,[Q("strong",null,"PPO")],-1)),Q("ul",null,[t[1747]||(t[1747]=a("",2)),Q("li",null,[t[1745]||(t[1745]=Q("strong",null,"优势",-1)),t[1746]||(t[1746]=T("： ")),Q("ul",null,[t[1744]||(t[1744]=Q("li",null,[Q("code",null,"最终成绩-历史预测成绩"),T(" 。"),Q("code",null,"超预期"),T("，就获得"),Q("code",null,"正向奖励"),T("。")],-1)),Q("li",null,[t[1741]||(t[1741]=Q("strong",null,"参照物",-1)),t[1742]||(t[1742]=T("：过去的自己，")),Q("mjx-container",te,[(e(),l("svg",Te,t[1739]||(t[1739]=[a("",1)]))),t[1740]||(t[1740]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])],-1))]),t[1743]||(t[1743]=T("。超越昨天的自己。"))])])]),t[1748]||(t[1748]=Q("li",null,[Q("strong",null,"学习信号/优势信号"),Q("ul",null,[Q("li",null,[Q("code",null,"Token-Level"),T("，"),Q("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/10-ppo-series.html#%E5%85%B3%E9%94%AE%E7%BB%93%E6%9E%9C",target:"_blank",rel:"noreferrer"},"Critic提供更细粒度的学习信号"),T("。")]),Q("li",null,"通过Critic，每个token有不同的价值。而不是整个轨迹级别的。")])],-1))]),t[1761]||(t[1761]=Q("p",null,[Q("strong",null,"GRPO")],-1)),Q("ul",null,[t[1757]||(t[1757]=a("",2)),Q("li",null,[t[1755]||(t[1755]=Q("strong",null,"优势",-1)),t[1756]||(t[1756]=T("： ")),Q("ul",null,[t[1754]||(t[1754]=Q("li",null,[Q("code",null,"组内相对优势"),T("，"),Q("code",null,"个人成绩-小组平均成绩"),T("。"),Q("code",null,"超平均水平"),T("，就获得"),Q("code",null,"正向奖励"),T("。")],-1)),Q("li",null,[t[1751]||(t[1751]=Q("strong",null,"参照物",-1)),t[1752]||(t[1752]=T("：团队平均策略，")),Q("mjx-container",ae,[(e(),l("svg",le,t[1749]||(t[1749]=[a("",1)]))),t[1750]||(t[1750]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"π"),Q("mo",{stretchy:"false"},"¯")])])])])],-1))]),t[1753]||(t[1753]=T("。超越团队平均。"))])])]),t[1758]||(t[1758]=a("",1))])]),t[1860]||(t[1860]=Q("h3",{id:"技术实现差异",tabindex:"-1"},[T("技术实现差异 "),Q("a",{class:"header-anchor",href:"#技术实现差异","aria-label":'Permalink to "技术实现差异"'},"​")],-1)),Q("div",ee,[t[1797]||(t[1797]=a("",4)),Q("ul",null,[Q("li",null,[t[1764]||(t[1764]=T("PPO：过去的自己")),Q("mjx-container",me,[(e(),l("svg",se,t[1762]||(t[1762]=[a("",1)]))),t[1763]||(t[1763]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mi",null,"π"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("msub",null,[Q("mi",null,"θ"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"o"),Q("mi",null,"l"),Q("mi",null,"d")])])])])])])],-1))]),t[1765]||(t[1765]=T("。通过和上一轮策略比较，在信任域内小步快跑，争取超过昨天的自己。"))]),Q("li",null,[t[1768]||(t[1768]=T("GRPO：小组的平均策略")),Q("mjx-container",de,[(e(),l("svg",oe,t[1766]||(t[1766]=[a("",1)]))),t[1767]||(t[1767]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"π"),Q("mo",{stretchy:"false"},"¯")])])])])],-1))]),t[1769]||(t[1769]=T("。超过平均水平，则获得正向激励。"))])]),t[1798]||(t[1798]=Q("p",null,[Q("strong",null,"算法架构")],-1)),Q("ul",null,[Q("li",null,[t[1776]||(t[1776]=T("PPO ")),Q("ul",null,[t[1774]||(t[1774]=Q("li",null,[Q("code",null,"Actor-Critic架构"),T("：Actor+Critic+RewardModel。")],-1)),Q("li",null,[t[1772]||(t[1772]=T("Critic 估计状态价值")),Q("mjx-container",ne,[(e(),l("svg",re,t[1770]||(t[1770]=[a("",1)]))),t[1771]||(t[1771]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")")])],-1))]),t[1773]||(t[1773]=T("、用于GAE计算优势。"))]),t[1775]||(t[1775]=Q("li",null,"MC 采样 + TD估计。",-1))])]),t[1777]||(t[1777]=Q("li",null,[T("GRPO "),Q("ul",null,[Q("li",null,[Q("code",null,"纯策略梯度"),T("：Actor+RewardModel。")]),Q("li",null,"无Critic，价值基线通过统计得出。"),Q("li",null,"MC 采样。")])],-1))]),t[1799]||(t[1799]=Q("p",null,[Q("strong",null,"优势")],-1)),Q("ul",null,[Q("li",null,[t[1788]||(t[1788]=T("PPO ")),Q("ul",null,[Q("li",null,[t[1781]||(t[1781]=Q("code",null,"GAE",-1)),t[1782]||(t[1782]=T("，")),Q("strong",null,[t[1780]||(t[1780]=T("依赖价值模型")),Q("mjx-container",ie,[(e(),l("svg",he,t[1778]||(t[1778]=[a("",1)]))),t[1779]||(t[1779]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"V"),Q("mo",{stretchy:"false"},"("),Q("mi",null,"s"),Q("mo",{stretchy:"false"},")")])],-1))])]),t[1783]||(t[1783]=T("，")),t[1784]||(t[1784]=Q("code",null,"基于模型预测、学习",-1)),t[1785]||(t[1785]=T("的方法。 ")),t[1786]||(t[1786]=Q("ul",null,[Q("li",null,[T("对多个n步优势估计，"),Q("code",null,"加权平均"),T("，引入"),Q("code",null,"λ平衡方差和偏差")]),Q("li",null,"结合了多步MC回报+Critic价值预测，MC采样+TD估计。"),Q("li",null,"依赖准确估计的Critic，这个往往是PPO的难点。")],-1))]),t[1787]||(t[1787]=a("",2))])]),Q("li",null,[t[1796]||(t[1796]=T("GRPO ")),Q("ul",null,[t[1794]||(t[1794]=Q("li",null,[Q("code",null,"组相对优势"),T("，"),Q("strong",null,"不依赖价值模型"),T("，"),Q("code",null," 基于群体投票、统计"),T("的方法。")],-1)),t[1795]||(t[1795]=Q("li",null,[Q("strong",null,"优势获得条件"),Q("ul",null,[Q("li",null,"个人比组平均成绩好，才获得正向奖励。"),Q("li",null,"组内相对排名和分数")])],-1)),Q("li",null,[t[1793]||(t[1793]=Q("strong",null,"优势信号特点",-1)),Q("ul",null,[Q("li",null,[t[1791]||(t[1791]=Q("strong",null,"一条轨迹上所有token共享相同的优势值",-1)),t[1792]||(t[1792]=T("，都为")),Q("mjx-container",ge,[(e(),l("svg",pe,t[1789]||(t[1789]=[a("",1)]))),t[1790]||(t[1790]=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mstyle",{mathcolor:"red"},[Q("msub",null,[Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mover",null,[Q("mi",null,"A"),Q("mo",{stretchy:"false"},"^")])]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"t")])])])])],-1))])])])])])])]),t[1800]||(t[1800]=a("",2))]),t[1861]||(t[1861]=a("",7))])}const ke=m(s,[["render",He]]);export{xe as __pageData,ke as default};

import{_ as m,c as a,o as e,j as t,ah as l,a as T}from"./chunks/framework.CvbyeFFO.js";const Z2=JSON.parse('{"title":"策略改进方法：TRPO+PPO","description":"","frontmatter":{"title":"策略改进方法：TRPO+PPO","date":"2025-09-01T21:43:21.000Z","create":"2025-09-01T21:43:21.000Z","categories":["rl-theory"],"tags":["方差","TRPO","新旧策略","策略单调递增","重要性采样","KL约束","信任区域","KL球","GAE","PPO","优势策略梯度","PPO-Penalty","PPO-Clip","GRPO"]},"headers":[],"relativePath":"posts/llm/rl/theory/09-policy-trpo-ppo.md","filePath":"posts/llm/rl/theory/09-policy-trpo-ppo.md","lastUpdated":null}'),s={name:"posts/llm/rl/theory/09-policy-trpo-ppo.md"},d={class:"custom-block note"},o={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.299ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1900 1000","aria-hidden":"true"},r={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.192ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1853 1000","aria-hidden":"true"},h={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.192ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1853 1000","aria-hidden":"true"},p={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},H={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.095ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1810 1000","aria-hidden":"true"},c={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.192ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1853 1000","aria-hidden":"true"},x={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},w={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.307ex"},xmlns:"http://www.w3.org/2000/svg",width:"36.681ex",height:"11.745ex",role:"img",focusable:"false",viewBox:"0 -2845.7 16213 5191.4","aria-hidden":"true"},L={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},f={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.697ex"},xmlns:"http://www.w3.org/2000/svg",width:"51.159ex",height:"6ex",role:"img",focusable:"false",viewBox:"0 -1460 22612.5 2652.2","aria-hidden":"true"},y={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.238ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.96ex",height:"3.607ex",role:"img",focusable:"false",viewBox:"0 -1047.1 1750.3 1594.2","aria-hidden":"true"},k={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.095ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1810 1000","aria-hidden":"true"},D={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.192ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1853 1000","aria-hidden":"true"},V={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},j={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.041ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 460 636","aria-hidden":"true"},v={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.138ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 503 636","aria-hidden":"true"},R={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.791ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.007ex",height:"2.713ex",role:"img",focusable:"false",viewBox:"0 -849.5 4865.3 1199","aria-hidden":"true"},_={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},C={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.238ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.898ex",height:"3.607ex",role:"img",focusable:"false",viewBox:"0 -1047.1 6585.1 1594.2","aria-hidden":"true"},E={class:"custom-block tip"},X={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.773ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.433ex",height:"3.47ex",role:"img",focusable:"false",viewBox:"0 -750 7705.4 1533.6","aria-hidden":"true"},z={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.076ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3127.6 1000","aria-hidden":"true"},B={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},I={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"41.952ex",height:"6.354ex",role:"img",focusable:"false",viewBox:"0 -1562.5 18542.6 2808.5","aria-hidden":"true"},J={class:"custom-block tip"},F={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},G={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},N={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},q={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.689ex",height:"1.74ex",role:"img",focusable:"false",viewBox:"0 -759 746.5 769","aria-hidden":"true"},K={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.152ex",height:"2.283ex",role:"img",focusable:"false",viewBox:"0 -759 5371 1009","aria-hidden":"true"},U={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},W={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.806ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.751ex",height:"2.503ex",role:"img",focusable:"false",viewBox:"0 -750 14034.1 1106.2","aria-hidden":"true"},Y={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},t1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.869ex"},xmlns:"http://www.w3.org/2000/svg",width:"48.756ex",height:"2.869ex",role:"img",focusable:"false",viewBox:"0 -884 21550.2 1267.9","aria-hidden":"true"},Q1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},T1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"43.858ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 19385.4 1000","aria-hidden":"true"},a1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},e1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.672ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 1180.8 588.1","aria-hidden":"true"},l1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},s1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},d1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.738ex"},xmlns:"http://www.w3.org/2000/svg",width:"50.002ex",height:"4.774ex",role:"img",focusable:"false",viewBox:"0 -1342 22101.1 2110","aria-hidden":"true"},o1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},r1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.672ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 1180.8 588.1","aria-hidden":"true"},h1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},g1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"54.997ex",height:"5.475ex",role:"img",focusable:"false",viewBox:"0 -1460 24308.5 2420","aria-hidden":"true"},p1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},H1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"0.036ex",height:"0.036ex",role:"img",focusable:"false",viewBox:"0 0 16 16","aria-hidden":"true"},c1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},u1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.049ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.595ex",height:"7.229ex",role:"img",focusable:"false",viewBox:"0 -1847.5 19711.2 3195.1","aria-hidden":"true"},x1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},w1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.049ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.595ex",height:"7.229ex",role:"img",focusable:"false",viewBox:"0 -1847.5 19711.2 3195.1","aria-hidden":"true"},L1={class:"custom-block tip"},f1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},y1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.253ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1880 1000","aria-hidden":"true"},M1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},k1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-7.341ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.57ex",height:"15.814ex",role:"img",focusable:"false",viewBox:"0 -3744.9 20584 6989.8","aria-hidden":"true"},Z1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},D1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.9ex",height:"2.283ex",role:"img",focusable:"false",viewBox:"0 -759 5259.9 1009","aria-hidden":"true"},b1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},V1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-15.681ex"},xmlns:"http://www.w3.org/2000/svg",width:"76.145ex",height:"32.492ex",role:"img",focusable:"false",viewBox:"0 -7430.8 33656 14361.6","aria-hidden":"true"},j1={class:"custom-block tip"},v1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},O1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.915ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 14548.6 1000","aria-hidden":"true"},R1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},A1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.992ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 14140.3 2828.3","aria-hidden":"true"},_1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},C1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"56.98ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 25185.1 2828.3","aria-hidden":"true"},E1={class:"custom-block note"},X1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.049ex",height:"1.909ex",role:"img",focusable:"false",viewBox:"0 -833.9 905.6 843.9","aria-hidden":"true"},z1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.082ex",height:"1.954ex",role:"img",focusable:"false",viewBox:"0 -853.7 920.4 863.7","aria-hidden":"true"},B1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.024ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2220.7 1000","aria-hidden":"true"},J1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.082ex",height:"1.954ex",role:"img",focusable:"false",viewBox:"0 -853.7 920.4 863.7","aria-hidden":"true"},G1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.698ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 4728.4 1000","aria-hidden":"true"},q1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},$1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.082ex",height:"1.954ex",role:"img",focusable:"false",viewBox:"0 -853.7 920.4 863.7","aria-hidden":"true"},W1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},t3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Q3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},T3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},a3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.706ex",height:"2.95ex",role:"img",focusable:"false",viewBox:"0 -1016.7 14013.8 1304.1","aria-hidden":"true"},e3={class:"custom-block info"},l3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.672ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 1180.8 588.1","aria-hidden":"true"},s3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},o3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},r3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},h3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.672ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 1180.8 588.1","aria-hidden":"true"},p3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},H3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"40.544ex",height:"5.475ex",role:"img",focusable:"false",viewBox:"0 -1460 17920.6 2420","aria-hidden":"true"},c3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},u3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.092ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.777ex",height:"6.014ex",role:"img",focusable:"false",viewBox:"0 -849.5 20675.6 2658.3","aria-hidden":"true"},x3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},w3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.699ex"},xmlns:"http://www.w3.org/2000/svg",width:"60.269ex",height:"9.002ex",role:"img",focusable:"false",viewBox:"0 -1460 26639 3978.8","aria-hidden":"true"},L3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},f3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.699ex"},xmlns:"http://www.w3.org/2000/svg",width:"60.674ex",height:"9.002ex",role:"img",focusable:"false",viewBox:"0 -1460 26818 3978.8","aria-hidden":"true"},y3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},M3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.699ex"},xmlns:"http://www.w3.org/2000/svg",width:"43.618ex",height:"9.002ex",role:"img",focusable:"false",viewBox:"0 -1460 19279.2 3978.8","aria-hidden":"true"},k3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Z3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.699ex"},xmlns:"http://www.w3.org/2000/svg",width:"45.059ex",height:"9.002ex",role:"img",focusable:"false",viewBox:"0 -1460 19916 3978.8","aria-hidden":"true"},D3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"0.036ex",height:"0.036ex",role:"img",focusable:"false",viewBox:"0 0 16 16","aria-hidden":"true"},V3={class:"custom-block info"},j3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.412ex",height:"2.799ex",role:"img",focusable:"false",viewBox:"0 -949.7 13883.9 1237.1","aria-hidden":"true"},O3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},R3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"43.618ex",height:"5.475ex",role:"img",focusable:"false",viewBox:"0 -1460 19279.2 2420","aria-hidden":"true"},A3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"60.12ex",height:"5.475ex",role:"img",focusable:"false",viewBox:"0 -1460 26573.1 2420","aria-hidden":"true"},C3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},E3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"61.737ex",height:"5.475ex",role:"img",focusable:"false",viewBox:"0 -1460 27287.9 2420","aria-hidden":"true"},X3={class:"custom-block note"},S3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},z3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.915ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 14548.6 1000","aria-hidden":"true"},P3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},B3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.992ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 14140.3 2828.3","aria-hidden":"true"},I3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},J3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"56.98ex",height:"6.399ex",role:"img",focusable:"false",viewBox:"0 -1562.5 25185.1 2828.3","aria-hidden":"true"},F3={class:"custom-block note"},G3={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},N3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.034ex",height:"2.799ex",role:"img",focusable:"false",viewBox:"0 -949.7 13716.9 1237.1","aria-hidden":"true"},q3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.281ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 566 899","aria-hidden":"true"},$3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.047ex",height:"2.283ex",role:"img",focusable:"false",viewBox:"0 -759 7976.6 1009","aria-hidden":"true"},W3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.281ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 566 899","aria-hidden":"true"},t2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Q2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.736ex",height:"2.283ex",role:"img",focusable:"false",viewBox:"0 -759 7839.4 1009","aria-hidden":"true"},T2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.281ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 566 899","aria-hidden":"true"},e2={class:"custom-block note"},l2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},m2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.912ex"},xmlns:"http://www.w3.org/2000/svg",width:"88.541ex",height:"6.215ex",role:"img",focusable:"false",viewBox:"0 -1460 39135 2747.2","aria-hidden":"true"},s2={class:"custom-block note"},d2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},o2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"25.265ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 11166.9 1000","aria-hidden":"true"},n2={class:"custom-block danger"},r2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.778ex",height:"1.645ex",role:"img",focusable:"false",viewBox:"0 -705 786 727","aria-hidden":"true"},h2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.022ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 6639.6 1000","aria-hidden":"true"},p2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},H2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.791ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 6537.6 1000","aria-hidden":"true"},c2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},u2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"24.885ex",height:"5.475ex",role:"img",focusable:"false",viewBox:"0 -1460 10999.3 2420","aria-hidden":"true"};function x2(w2,Q,L2,f2,y2,M2){return e(),a("div",null,[Q[282]||(Q[282]=t("h2",{id:"必备知识",tabindex:"-1"},[T("必备知识 "),t("a",{class:"header-anchor",href:"#必备知识","aria-label":'Permalink to "必备知识"'},"​")],-1)),Q[283]||(Q[283]=t("h3",{id:"重要性采样",tabindex:"-1"},[T("重要性采样 "),t("a",{class:"header-anchor",href:"#重要性采样","aria-label":'Permalink to "重要性采样"'},"​")],-1)),t("div",d,[Q[55]||(Q[55]=t("div",{class:"custom-block-title"},"重要性采样",-1)),Q[56]||(Q[56]=t("p",null,[t("strong",null,"问题定义")],-1)),t("ul",null,[t("li",null,[Q[6]||(Q[6]=T("函数")),t("mjx-container",o,[(e(),a("svg",n,Q[0]||(Q[0]=[l("",1)]))),Q[1]||(Q[1]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[7]||(Q[7]=T("，需要从分布")),t("mjx-container",r,[(e(),a("svg",i,Q[2]||(Q[2]=[l("",1)]))),Q[3]||(Q[3]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[8]||(Q[8]=T("中采样，来计算期望值；但现在很难从")),t("mjx-container",h,[(e(),a("svg",g,Q[4]||(Q[4]=[l("",1)]))),Q[5]||(Q[5]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[9]||(Q[9]=T("中采样"))])]),Q[57]||(Q[57]=t("p",null,[t("strong",null,"方法")],-1)),t("ul",null,[t("li",null,[t("strong",null,[Q[12]||(Q[12]=T("从另一个容易采样的分布")),t("mjx-container",p,[(e(),a("svg",H,Q[10]||(Q[10]=[l("",1)]))),Q[11]||(Q[11]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[13]||(Q[13]=T("中采样"))]),Q[16]||(Q[16]=T("，间接达到从")),t("mjx-container",c,[(e(),a("svg",u,Q[14]||(Q[14]=[l("",1)]))),Q[15]||(Q[15]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[17]||(Q[17]=T("中采样的效果"))])]),t("mjx-container",x,[(e(),a("svg",w,Q[18]||(Q[18]=[l("",1)]))),Q[19]||(Q[19]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])]),t("mtd",null,[t("mo",null,"="),t("mo",{"data-mjx-texclass":"OP"},"∫"),t("mstyle",{mathcolor:"red"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mtext",null," "),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",null,"x")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mo",{"data-mjx-texclass":"OP"},"∫"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mo",null,"⋅"),t("mfrac",null,[t("mrow",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mtext",null," "),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",null,"x")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mrow",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mstyle",{mathcolor:"blue"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])])])])],-1))]),t("mjx-container",L,[(e(),a("svg",f,Q[20]||(Q[20]=[l("",1)]))),Q[21]||(Q[21]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"p")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"q")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mrow",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"N")]),t("munder",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i")])])]),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mrow",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"x"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"x"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")")])])]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"x"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")")])],-1))]),t("ul",null,[t("li",null,[t("mjx-container",y,[(e(),a("svg",M,Q[22]||(Q[22]=[l("",1)]))),Q[23]||(Q[23]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mrow",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])])])],-1))]),Q[24]||(Q[24]=T("：")),Q[25]||(Q[25]=t("strong",null,"重要性权重",-1)),Q[26]||(Q[26]=T("，")),Q[27]||(Q[27]=t("code",null,"用来修正采样的偏差",-1)),Q[28]||(Q[28]=T("，即两个分布直接的差异。"))]),Q[29]||(Q[29]=t("li",null,[T("重要性采样也是一种"),t("code",null,"特殊的MC采样"),T("，允许从简单分布采样，避免直接从困难分布采样的问题。")],-1))]),Q[58]||(Q[58]=t("p",null,[t("strong",null,"缺点")],-1)),t("ul",null,[t("li",null,[t("strong",null,[t("mjx-container",k,[(e(),a("svg",Z,Q[30]||(Q[30]=[l("",1)]))),Q[31]||(Q[31]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))]),Q[34]||(Q[34]=T("必须尽可能接近")),t("mjx-container",D,[(e(),a("svg",b,Q[32]||(Q[32]=[l("",1)]))),Q[33]||(Q[33]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1))])]),Q[39]||(Q[39]=T("，")),t("mjx-container",V,[(e(),a("svg",j,Q[35]||(Q[35]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D45E",d:"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[36]||(Q[36]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"q")])],-1))]),Q[40]||(Q[40]=T("越接近")),t("mjx-container",v,[(e(),a("svg",O,Q[37]||(Q[37]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D45D",d:"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[38]||(Q[38]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"p")])],-1))]),Q[41]||(Q[41]=T("，")),Q[42]||(Q[42]=t("strong",null,"方差越小",-1)),Q[43]||(Q[43]=T("；否则，尽管期望相同，但")),Q[44]||(Q[44]=t("strong",null,"方差会很大",-1))]),t("li",null,[Q[49]||(Q[49]=t("code",null,"如果采样次数不够多",-1)),Q[50]||(Q[50]=T("，")),t("mjx-container",R,[(e(),a("svg",A,Q[45]||(Q[45]=[l("",1)]))),Q[46]||(Q[46]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"p")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),Q[51]||(Q[51]=T(" 和 ")),t("mjx-container",_,[(e(),a("svg",C,Q[47]||(Q[47]=[l("",1)]))),Q[48]||(Q[48]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"x"),t("mo",null,"∼"),t("mi",null,"q")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mrow",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mi",null,"q"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])]),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),Q[52]||(Q[52]=T()),Q[53]||(Q[53]=t("code",null,"会有很大的差异",-1)),Q[54]||(Q[54]=T("。"))])])]),Q[284]||(Q[284]=l("",4)),t("div",E,[Q[69]||(Q[69]=t("div",{class:"custom-block-title"},"TRPO 提出背景",-1)),Q[70]||(Q[70]=t("p",null,[t("strong",null,"Actor-Critic 缺点")],-1)),t("ul",null,[Q[66]||(Q[66]=t("li",null,"虽然简单直观，但训练不不稳定",-1)),t("li",null,[Q[63]||(Q[63]=T("目标：找到")),t("mjx-container",X,[(e(),a("svg",S,Q[59]||(Q[59]=[l("",1)]))),Q[60]||(Q[60]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"∗")])]),t("mo",null,"="),t("mi",null,"arg"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1))]),Q[64]||(Q[64]=T("，沿")),t("mjx-container",z,[(e(),a("svg",P,Q[61]||(Q[61]=[l("",1)]))),Q[62]||(Q[62]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",{mathvariant:"normal"},"∇"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1))]),Q[65]||(Q[65]=T("方向迭代更新策略参数"))])]),t("mjx-container",B,[(e(),a("svg",I,Q[67]||(Q[67]=[l("",1)]))),Q[68]||(Q[68]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"s"),t("mn",null,"0")])])]),t("mo",{stretchy:"false"},"["),t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mn",null,"0")]),t("mo",{stretchy:"false"},")"),t("mo",{stretchy:"false"},"]"),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"["),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")]),t("mo",null,"⋅"),t("mi",null,"r"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",{stretchy:"false"},"]")])],-1))]),Q[71]||(Q[71]=t("ul",null,[t("li",null,[T("缺点：沿策略梯度更新参数，"),t("strong",null,"可能由于步长太长"),T("，"),t("strong",null,"策略突然显著变差"),T("，从而影响训练效果")])],-1))]),Q[285]||(Q[285]=t("h4",{id:"策略目标",tabindex:"-1"},[T("策略目标 "),t("a",{class:"header-anchor",href:"#策略目标","aria-label":'Permalink to "策略目标"'},"​")],-1)),t("div",J,[Q[119]||(Q[119]=t("div",{class:"custom-block-title"},"TRPO 策略目标",-1)),Q[120]||(Q[120]=t("p",null,[t("strong",null,"核心目标")],-1)),t("ul",null,[t("li",null,[Q[80]||(Q[80]=T("期望")),t("strong",null,[Q[76]||(Q[76]=T("借助当前")),t("mjx-container",F,[(e(),a("svg",G,Q[72]||(Q[72]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[73]||(Q[73]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"θ")])],-1))]),Q[77]||(Q[77]=T("找到一个更优")),t("mjx-container",N,[(e(),a("svg",q,Q[74]||(Q[74]=[l("",1)]))),Q[75]||(Q[75]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])],-1))])]),Q[81]||(Q[81]=T("，使得")),t("mjx-container",K,[(e(),a("svg",$,Q[78]||(Q[78]=[l("",1)]))),Q[79]||(Q[79]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")"),t("mo",null,"≥"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1))])]),t("li",null,[Q[84]||(Q[84]=T("只要")),Q[85]||(Q[85]=t("strong",null,"找到一个新策略",-1)),Q[86]||(Q[86]=T("，使")),t("mjx-container",U,[(e(),a("svg",W,Q[82]||(Q[82]=[l("",1)]))),Q[83]||(Q[83]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"v"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"a"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mo",{stretchy:"false"},"["),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",{stretchy:"false"},"]"),t("mo",null,"≥"),t("mn",null,"0")])],-1))]),Q[87]||(Q[87]=T("，就能")),Q[88]||(Q[88]=t("code",null,"保证策略性能单调递增",-1))])]),t("mjx-container",Y,[(e(),a("svg",t1,Q[89]||(Q[89]=[l("",1)]))),Q[90]||(Q[90]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ")])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"v"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"a"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])])])])],-1))]),t("mjx-container",Q1,[(e(),a("svg",T1,Q[91]||(Q[91]=[l("",1)]))),Q[92]||(Q[92]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mi",null,"r"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("mi",null,"γ"),t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[121]||(Q[121]=t("p",null,[t("strong",null,"难点")],-1)),t("ul",null,[t("li",null,[Q[95]||(Q[95]=T("直接求解该式非常困难，")),t("mjx-container",a1,[(e(),a("svg",e1,Q[93]||(Q[93]=[l("",1)]))),Q[94]||(Q[94]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])],-1))]),Q[96]||(Q[96]=T("是我们需要求解的策略，又要用它收集样本。"))]),Q[97]||(Q[97]=t("li",null,"把所有可能的新策略拿来收集样本，又用它来判断条件，显然是不现实的。",-1))]),Q[122]||(Q[122]=t("p",null,[t("strong",null,"目标优化")],-1)),t("ul",null,[t("li",null,[Q[100]||(Q[100]=T("对状态访问分布做了相应处理，忽略两个策略的状态访问分布，直接采用旧策略")),t("mjx-container",l1,[(e(),a("svg",m1,Q[98]||(Q[98]=[l("",1)]))),Q[99]||(Q[99]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[101]||(Q[101]=T("的状态分布"))])]),t("mjx-container",s1,[(e(),a("svg",d1,Q[102]||(Q[102]=[l("",1)]))),Q[103]||(Q[103]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ")])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"v"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"a"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),t("ul",null,[Q[110]||(Q[110]=t("li",null,"新旧策略接近时，状态访问分布变化很小，近似是合理的，动作仍然用新策略采样得到，用重要性采样做处理。",-1)),t("li",null,[Q[108]||(Q[108]=T("这样就能基于旧策略")),t("mjx-container",o1,[(e(),a("svg",n1,Q[104]||(Q[104]=[l("",1)]))),Q[105]||(Q[105]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[109]||(Q[109]=T("采样出的数据，来估计并优化新策略")),t("mjx-container",r1,[(e(),a("svg",i1,Q[106]||(Q[106]=[l("",1)]))),Q[107]||(Q[107]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])],-1))])])]),t("mjx-container",h1,[(e(),a("svg",g1,Q[111]||(Q[111]=[l("",1)]))),Q[112]||(Q[112]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"v"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"a"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"a"),t("mo",null,"∣"),t("mi",null,"s"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"a"),t("mo",null,"∣"),t("mi",null,"s"),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),t("mjx-container",p1,[(e(),a("svg",H1,Q[113]||(Q[113]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"})],-1)]))),Q[114]||(Q[114]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"})],-1))]),Q[123]||(Q[123]=t("p",null,[t("strong",null,"KL 约束")],-1)),Q[124]||(Q[124]=t("ul",null,[t("li",null,[T("增加"),t("code",null,"KL约束"),T("，"),t("code",null,"保证新旧策略足够近")])],-1)),t("mjx-container",c1,[(e(),a("svg",u1,Q[115]||(Q[115]=[l("",1)]))),Q[116]||(Q[116]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd"),t("mtd",null,[t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])]),t("mtext",null," "),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")")]),t("mo",null,",")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"s"),t("mo",null,"."),t("mi",{mathvariant:"normal"},"t"),t("mo",null,".")]),t("mtext",null," "),t("mtext",null," "),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"v"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"k")])])])])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("mi",null,"s"),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mtext",null," "),t("mtext",null," "),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("mi",null,"s"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),t("mo",null,"≤"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"δ")])])])])])],-1))]),t("mjx-container",x1,[(e(),a("svg",w1,Q[117]||(Q[117]=[l("",1)]))),Q[118]||(Q[118]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd"),t("mtd",null,[t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"max"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])]),t("mtext",null," "),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"L"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")")]),t("mo",null,",")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"s"),t("mo",null,"."),t("mi",{mathvariant:"normal"},"t"),t("mo",null,".")]),t("mtext",null," "),t("mtext",null," "),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"v"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"k")])])])])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"D"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"K"),t("mi",null,"L")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mi",null,"k")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("mi",null,"s"),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mtext",null," "),t("mtext",null," "),t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("mi",null,"s"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),t("mo",null,"≤"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"δ")])])])])])],-1))]),Q[125]||(Q[125]=l("",1))]),Q[286]||(Q[286]=t("p",null,"信任区域示意图：左侧无信任区域，梯度更新可能导致性能骤降；右侧有信任区域，每次梯度更新都能带来稳定提升。",-1)),Q[287]||(Q[287]=t("img",{src:"https://hrl.boyuai.com/static/640.50a56fc9.png",style:{display:"block",margin:"auto"},width:"70%"},null,-1)),t("div",L1,[Q[136]||(Q[136]=t("div",{class:"custom-block-title"},"目标推导过程",-1)),t("p",null,[t("strong",null,[t("mjx-container",f1,[(e(),a("svg",y1,Q[126]||(Q[126]=[l("",1)]))),Q[127]||(Q[127]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1))]),Q[128]||(Q[128]=T(" 另一种形式"))])]),t("mjx-container",M1,[(e(),a("svg",k1,Q[129]||(Q[129]=[l("",1)]))),Q[130]||(Q[130]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"s"),t("mn",null,"0")])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mn",null,"0")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")]),t("mo",null,"⋅"),t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")]),t("mo",null,"⋅"),t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mo",null,"−"),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")])]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("mi",null,"γ"),t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])])])])],-1))]),t("p",null,[t("strong",null,[t("mjx-container",Z1,[(e(),a("svg",D1,Q[131]||(Q[131]=[l("",1)]))),Q[132]||(Q[132]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1))]),Q[133]||(Q[133]=T("推导过程"))])]),t("mjx-container",b1,[(e(),a("svg",V1,Q[134]||(Q[134]=[l("",1)]))),Q[135]||(Q[135]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"left",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mstyle",{mathcolor:"blue"},[t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])]),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"s"),t("mn",null,"0")])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mn",null,"0")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")]),t("mo",null,"−"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"s"),t("mn",null,"0")])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mn",null,"0")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mi",null,"r"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")]),t("mo",null,"+"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")])]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("mi",null,"γ"),t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")])]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mstyle",{mathcolor:"red"},[t("mi",null,"r"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("mi",null,"γ"),t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"V"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"γ"),t("mi",null,"t")])]),t("mo",null,"⋅"),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"v"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"a"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mo",{stretchy:"false"},"["),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",{stretchy:"false"},"]")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"λ")])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,"∼"),t("msup",null,[t("mi",null,"v"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])])]),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"blue"},[t("mi",null,"a"),t("mo",null,"∼"),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mo",null,"⋅"),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])]),t("mo",{stretchy:"false"},"["),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",{stretchy:"false"},"]")])])])])],-1))])]),Q[288]||(Q[288]=t("h4",{id:"广义优势估计",tabindex:"-1"},[T("广义优势估计 "),t("a",{class:"header-anchor",href:"#广义优势估计","aria-label":'Permalink to "广义优势估计"'},"​")],-1)),Q[289]||(Q[289]=t("p",null,[t("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/07-actor-critic.html#%E5%B9%BF%E4%B9%89%E4%BC%98%E5%8A%BF%E4%BC%B0%E8%AE%A1",target:"_blank",rel:"noreferrer"},"GAE 笔记")],-1)),t("div",j1,[Q[143]||(Q[143]=t("div",{class:"custom-block-title"},"GAE",-1)),Q[144]||(Q[144]=t("ul",null,[t("li",null,"对不同TD步数的优势估计进行指数加权平均，平衡方差和偏差")],-1)),t("mjx-container",v1,[(e(),a("svg",O1,Q[137]||(Q[137]=[l("",1)]))),Q[138]||(Q[138]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")")])])],-1))]),t("mjx-container",R1,[(e(),a("svg",A1,Q[139]||(Q[139]=[l("",1)]))),Q[140]||(Q[140]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))]),t("mjx-container",_1,[(e(),a("svg",C1,Q[141]||(Q[141]=[l("",1)]))),Q[142]||(Q[142]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])])],-1))])]),Q[290]||(Q[290]=l("",5)),t("div",E1,[Q[177]||(Q[177]=t("div",{class:"custom-block-title"},"笔记",-1)),Q[178]||(Q[178]=t("p",null,[t("strong",null,"PPO算法流程")],-1)),t("ul",null,[t("li",null,[Q[147]||(Q[147]=T("初始策略参数")),t("mjx-container",X1,[(e(),a("svg",S1,Q[145]||(Q[145]=[l("",1)]))),Q[146]||(Q[146]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"θ"),t("mn",null,"0")])])],-1))])]),t("li",null,[Q[152]||(Q[152]=T("每一次迭代，用前面训练的演员")),t("mjx-container",z1,[(e(),a("svg",P1,Q[148]||(Q[148]=[l("",1)]))),Q[149]||(Q[149]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"θ"),t("mi",null,"k")])])],-1))]),Q[153]||(Q[153]=T(" 和环境交互，采样大量")),t("mjx-container",B1,[(e(),a("svg",I1,Q[150]||(Q[150]=[l("",1)]))),Q[151]||(Q[151]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{stretchy:"false"},"("),t("mi",null,"s"),t("mo",null,","),t("mi",null,"a"),t("mo",{stretchy:"false"},")")])],-1))]),Q[154]||(Q[154]=T("对"))]),t("li",null,[t("strong",null,[Q[157]||(Q[157]=T("根据")),t("mjx-container",J1,[(e(),a("svg",F1,Q[155]||(Q[155]=[l("",1)]))),Q[156]||(Q[156]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"θ"),t("mi",null,"k")])])],-1))]),Q[158]||(Q[158]=T("交互结果"))]),Q[161]||(Q[161]=T("，估计")),t("mjx-container",G1,[(e(),a("svg",N1,Q[159]||(Q[159]=[l("",1)]))),Q[160]||(Q[160]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",null,"k")])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))])]),t("li",null,[Q[164]||(Q[164]=T("采样到这组数据后，最大化目标函数，可以让")),t("mjx-container",q1,[(e(),a("svg",K1,Q[162]||(Q[162]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[163]||(Q[163]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"θ")])],-1))]),Q[165]||(Q[165]=T("更新很多次，"))]),t("li",null,[Q[172]||(Q[172]=T("由于有了重要性采样，")),t("mjx-container",$1,[(e(),a("svg",U1,Q[166]||(Q[166]=[l("",1)]))),Q[167]||(Q[167]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"θ"),t("mi",null,"k")])])],-1))]),Q[173]||(Q[173]=T(" 和 ")),t("mjx-container",W1,[(e(),a("svg",Y1,Q[168]||(Q[168]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[169]||(Q[169]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"θ")])],-1))]),Q[174]||(Q[174]=T(" 有差异也没关系，可以训练")),t("mjx-container",t3,[(e(),a("svg",Q3,Q[170]||(Q[170]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[171]||(Q[171]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"θ")])],-1))])])]),t("mjx-container",T3,[(e(),a("svg",a3,Q[175]||(Q[175]=[l("",1)]))),Q[176]||(Q[176]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"P"),t("mi",null,"P"),t("mi",null,"O")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"θ"),t("mi",null,"k")])])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"θ"),t("mi",null,"k")])])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("mi",null,"θ")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"θ"),t("mi",null,"k")])]),t("mo",{stretchy:"false"},")")])],-1))])]),Q[291]||(Q[291]=t("img",{src:"https://pic3.zhimg.com/v2-9b85882efed12ba7f6808c6ca917cb5c_1440w.jpg",style:{display:"block",margin:"auto"},width:"60%"},null,-1)),Q[292]||(Q[292]=t("h4",{id:"重要性采样-1",tabindex:"-1"},[T("重要性采样 "),t("a",{class:"header-anchor",href:"#重要性采样-1","aria-label":'Permalink to "重要性采样"'},"​")],-1)),t("div",e3,[Q[208]||(Q[208]=t("div",{class:"custom-block-title"},"PPO 重要性采样",-1)),Q[209]||(Q[209]=t("p",null,[t("strong",null,"策略梯度")],-1)),t("ul",null,[t("li",null,[Q[183]||(Q[183]=T("交互策略")),t("mjx-container",l3,[(e(),a("svg",m3,Q[179]||(Q[179]=[l("",1)]))),Q[180]||(Q[180]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])],-1))]),Q[184]||(Q[184]=T("：与环境交互，采集大量数据来训练")),t("mjx-container",s3,[(e(),a("svg",d3,Q[181]||(Q[181]=[l("",1)]))),Q[182]||(Q[182]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))])]),t("li",null,[Q[191]||(Q[191]=T("学习策略")),t("mjx-container",o3,[(e(),a("svg",n3,Q[185]||(Q[185]=[l("",1)]))),Q[186]||(Q[186]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[192]||(Q[192]=T("：要训练学习的网络，")),t("mjx-container",r3,[(e(),a("svg",i3,Q[187]||(Q[187]=[l("",1)]))),Q[188]||(Q[188]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))]),Q[193]||(Q[193]=T("更新多次后，再去更新")),t("mjx-container",h3,[(e(),a("svg",g3,Q[189]||(Q[189]=[l("",1)]))),Q[190]||(Q[190]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])],-1))])])]),t("mjx-container",p3,[(e(),a("svg",H3,Q[194]||(Q[194]=[l("",1)]))),Q[195]||(Q[195]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"τ"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")])]),t("mi",null,"R"),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")"),t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("mi",null,"τ"),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),Q[210]||(Q[210]=t("p",null,[t("strong",null,"优势策略梯度")],-1)),Q[211]||(Q[211]=t("ul",null,[t("li",null,"优势作权重")],-1)),t("mjx-container",c3,[(e(),a("svg",u3,Q[196]||(Q[196]=[l("",1)]))),Q[197]||(Q[197]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"[")]),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mi",null,"θ")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"梯"),t("mi",{mathvariant:"normal"},"度")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"]")])])],-1))]),Q[212]||(Q[212]=t("ul",null,[t("li",null,"引入重要性采样")],-1)),t("mjx-container",x3,[(e(),a("svg",w3,Q[198]||(Q[198]=[l("",1)]))),Q[199]||(Q[199]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"重"),t("mi",{mathvariant:"normal"},"要"),t("mi",{mathvariant:"normal"},"性"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"π"),t("mi",null,"θ")])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"梯"),t("mi",{mathvariant:"normal"},"度")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q[213]||(Q[213]=t("ul",null,[t("li",null,"优势应是演员和环境交互时计算出来的")],-1)),t("mjx-container",L3,[(e(),a("svg",f3,Q[200]||(Q[200]=[l("",1)]))),Q[201]||(Q[201]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"J"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"重"),t("mi",{mathvariant:"normal"},"要"),t("mi",{mathvariant:"normal"},"性"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mi",{mathvariant:"normal"},"∇"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"梯"),t("mi",{mathvariant:"normal"},"度")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),Q[214]||(Q[214]=t("p",null,[t("strong",null,"目标函数")],-1)),t("mjx-container",y3,[(e(),a("svg",M3,Q[202]||(Q[202]=[l("",1)]))),Q[203]||(Q[203]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"重"),t("mi",{mathvariant:"normal"},"要"),t("mi",{mathvariant:"normal"},"性"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t("mjx-container",k3,[(e(),a("svg",Z3,Q[204]||(Q[204]=[l("",1)]))),Q[205]||(Q[205]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("mi",{mathvariant:"normal"},"∇"),t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"重"),t("mi",{mathvariant:"normal"},"要"),t("mi",{mathvariant:"normal"},"性"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"⏟")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"动"),t("mi",{mathvariant:"normal"},"作"),t("mi",null,"a"),t("mi",{mathvariant:"normal"},"的"),t("mi",{mathvariant:"normal"},"权"),t("mi",{mathvariant:"normal"},"重")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t("mjx-container",D3,[(e(),a("svg",b3,Q[206]||(Q[206]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"})],-1)]))),Q[207]||(Q[207]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"})],-1))]),Q[215]||(Q[215]=t("p",null,[t("strong",null,"优点")],-1)),Q[216]||(Q[216]=t("ul",null,[t("li",null,"可通过重要性采样把同策略换成异策略"),t("li",null,"核心还是TRPO里的求解")],-1))]),Q[293]||(Q[293]=t("h4",{id:"目标函数",tabindex:"-1"},[T("目标函数 "),t("a",{class:"header-anchor",href:"#目标函数","aria-label":'Permalink to "目标函数"'},"​")],-1)),t("div",V3,[Q[225]||(Q[225]=t("div",{class:"custom-block-title"},"信息",-1)),Q[226]||(Q[226]=t("p",null,[t("strong",null,"PPO 目标函数")],-1)),t("mjx-container",j3,[(e(),a("svg",v3,Q[217]||(Q[217]=[l("",1)]))),Q[218]||(Q[218]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"P"),t("mi",null,"P"),t("mi",null,"O")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"K"),t("mi",null,"L")]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("mi",null,"θ")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])]),t("mo",{stretchy:"false"},")")])],-1))]),t("mjx-container",O3,[(e(),a("svg",R3,Q[219]||(Q[219]=[l("",1)]))),Q[220]||(Q[220]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")])])],-1))]),t("mjx-container",A3,[(e(),a("svg",_3,Q[221]||(Q[221]=[l("",1)]))),Q[222]||(Q[222]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"P"),t("mi",null,"P"),t("mi",null,"O")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("mi",null,"θ")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])]),t("mo",{stretchy:"false"},")")])],-1))]),Q[227]||(Q[227]=t("p",null,[t("strong",null,"TRPO 目标函数")],-1)),t("mjx-container",C3,[(e(),a("svg",E3,Q[223]||(Q[223]=[l("",1)]))),Q[224]||(Q[224]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"T"),t("mi",null,"R"),t("mi",null,"P"),t("mi",null,"O")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("msub",null,[t("mi",null,"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"∼"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])])])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"[")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"]")]),t("mo",null,","),t("mtext",null," "),t("mtext",null," "),t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("mi",null,"θ")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"≤"),t("mi",null,"δ")])],-1))])]),Q[294]||(Q[294]=t("h4",{id:"gae",tabindex:"-1"},[T("GAE "),t("a",{class:"header-anchor",href:"#gae","aria-label":'Permalink to "GAE"'},"​")],-1)),Q[295]||(Q[295]=t("p",null,[t("a",{href:"https://plmsmile.github.io/posts/llm/rl/theory/07-actor-critic.html#%E5%B9%BF%E4%B9%89%E4%BC%98%E5%8A%BF%E4%BC%B0%E8%AE%A1",target:"_blank",rel:"noreferrer"},"GAE 笔记")],-1)),t("div",X3,[Q[234]||(Q[234]=t("div",{class:"custom-block-title"},"GAE",-1)),Q[235]||(Q[235]=t("ul",null,[t("li",null,"对不同步数的TD优势估计进行指数加权平均，平衡方差和偏差")],-1)),t("mjx-container",S3,[(e(),a("svg",z3,Q[228]||(Q[228]=[l("",1)]))),Q[229]||(Q[229]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")")])])],-1))]),t("mjx-container",P3,[(e(),a("svg",B3,Q[230]||(Q[230]=[l("",1)]))),Q[231]||(Q[231]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"δ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])])])])],-1))]),t("mjx-container",I3,[(e(),a("svg",J3,Q[232]||(Q[232]=[l("",1)]))),Q[233]||(Q[233]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"G"),t("mi",null,"A"),t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mo",null,","),t("mi",null,"λ"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"l"),t("mo",null,"="),t("mn",null,"0")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"∞")])])]),t("mstyle",{mathcolor:"blue"},[t("mo",{stretchy:"false"},"("),t("mi",null,"γ"),t("mi",null,"λ"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"l")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("msub",null,[t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mi",null,"l")])]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")])])])],-1))])]),Q[296]||(Q[296]=t("h4",{id:"ppo-penalty",tabindex:"-1"},[T("PPO-Penalty "),t("a",{class:"header-anchor",href:"#ppo-penalty","aria-label":'Permalink to "PPO-Penalty"'},"​")],-1)),t("div",F3,[Q[252]||(Q[252]=t("div",{class:"custom-block-title"},"PPO-Penalty",-1)),Q[253]||(Q[253]=t("ul",null,[t("li",null,"KL散度：是约束行为上的距离，而不是参数上的距离，也因此无法使用L1L2范数等距离方法。")],-1)),t("mjx-container",G3,[(e(),a("svg",N3,Q[236]||(Q[236]=[l("",1)]))),Q[237]||(Q[237]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"P"),t("mi",null,"P"),t("mi",null,"O")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mi",null,"β"),t("mo",null,"⋅"),t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("mi",null,"θ")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])]),t("mo",{stretchy:"false"},")")])],-1))]),t("ul",null,[t("li",null,[Q[250]||(Q[250]=T("自适应KL散度，自动调节")),t("mjx-container",q3,[(e(),a("svg",K3,Q[238]||(Q[238]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D6FD",d:"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[239]||(Q[239]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"β")])],-1))]),Q[251]||(Q[251]=T("，设置最大值和最小值，自动调节 ")),t("ul",null,[t("li",null,[t("mjx-container",$3,[(e(),a("svg",U3,Q[240]||(Q[240]=[l("",1)]))),Q[241]||(Q[241]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("mi",null,"θ")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])]),t("mo",{stretchy:"false"},")"),t("mo",null,">"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max")])])])],-1))]),Q[244]||(Q[244]=T("： 相距太远，没有起效果，应该增大")),t("mjx-container",W3,[(e(),a("svg",Y3,Q[242]||(Q[242]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D6FD",d:"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[243]||(Q[243]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"β")])],-1))])]),t("li",null,[t("mjx-container",t2,[(e(),a("svg",Q2,Q[245]||(Q[245]=[l("",1)]))),Q[246]||(Q[246]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mstyle",{mathcolor:"red"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")])]),t("mo",{stretchy:"false"},"("),t("mstyle",{mathcolor:"blue"},[t("mi",null,"θ")]),t("mo",null,","),t("mstyle",{mathcolor:"red"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"<"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"KL")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")])])])],-1))]),Q[249]||(Q[249]=T("： 相距太近，KL太强了，应该减小")),t("mjx-container",T2,[(e(),a("svg",a2,Q[247]||(Q[247]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D6FD",d:"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[248]||(Q[248]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"β")])],-1))])])])])])]),Q[297]||(Q[297]=t("h4",{id:"ppo-clip",tabindex:"-1"},[T("PPO-Clip "),t("a",{class:"header-anchor",href:"#ppo-clip","aria-label":'Permalink to "PPO-Clip"'},"​")],-1)),t("div",e2,[Q[256]||(Q[256]=t("div",{class:"custom-block-title"},"PPO-Clip",-1)),Q[257]||(Q[257]=t("p",null,[t("strong",null,"核心思想")],-1)),Q[258]||(Q[258]=t("ul",null,[t("li",null,"不做KL散度，直接做裁剪，约束变化范围，希望采样策略和学习策略不要差距太大。")],-1)),t("mjx-container",l2,[(e(),a("svg",m2,Q[254]||(Q[254]=[l("",1)]))),Q[255]||(Q[255]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("msubsup",null,[t("mi",null,"J"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"P"),t("mi",null,"P"),t("mi",null,"O")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])]),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("munder",null,[t("mo",{"data-mjx-texclass":"OP",movablelimits:"false"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")])])]),t("mstyle",{mathcolor:"red"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"1em"})]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"clip")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},"(")]),t("mfrac",null,[t("mstyle",{mathcolor:"blue"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"p"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-alternate":"1"},"′")])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ"),t("mo",null,","),t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"1.2em",maxsize:"1.2em"},")")]),t("mo",null,"⋅"),t("mstyle",{mathcolor:"blue"},[t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"θ"),t("mi",{"data-mjx-alternate":"1"},"′")])])])])])]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",null,","),t("msub",null,[t("mi",null,"a"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{minsize:"2.047em",maxsize:"2.047em"},")")])])],-1))])]),Q[298]||(Q[298]=t("img",{src:"https://datawhalechina.github.io/easy-rl/img/ch5/5.2.png",style:{display:"block",margin:"auto"},width:"70%"},null,-1)),Q[299]||(Q[299]=t("img",{src:"https://datawhalechina.github.io/easy-rl/img/ch5/5.3.png",style:{display:"block",margin:"auto"},width:"70%"},null,-1)),Q[300]||(Q[300]=t("h4",{id:"缺点不足",tabindex:"-1"},[T("缺点不足 "),t("a",{class:"header-anchor",href:"#缺点不足","aria-label":'Permalink to "缺点不足"'},"​")],-1)),t("div",s2,[Q[261]||(Q[261]=t("div",{class:"custom-block-title"},"PPO不足",-1)),Q[262]||(Q[262]=t("p",null,[t("strong",null,"GAE带来的计算开销大、训练不稳定")],-1)),Q[263]||(Q[263]=t("ul",null,[t("li",null,"GAE 主要依赖于单步时序误差")],-1)),t("mjx-container",d2,[(e(),a("svg",o2,Q[259]||(Q[259]=[l("",1)]))),Q[260]||(Q[260]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"δ"),t("mo",null,"="),t("mstyle",{mathcolor:"red"},[t("msub",null,[t("mi",null,"r"),t("mi",null,"t")]),t("mo",null,"+"),t("mi",null,"γ"),t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"−"),t("mstyle",{mathcolor:"blue"},[t("mi",null,"V"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"s"),t("mi",null,"t")]),t("mo",{stretchy:"false"},")")])])],-1))]),Q[264]||(Q[264]=l("",1))]),Q[301]||(Q[301]=l("",4)),t("div",n2,[Q[280]||(Q[280]=t("div",{class:"custom-block-title"},"GRPO 核心思想",-1)),Q[281]||(Q[281]=t("p",null,[t("strong",null,"Group Relative Policy Optimization")],-1)),t("ul",null,[Q[277]||(Q[277]=t("li",null,[T("核心思想 "),t("ul",null,[t("li",null,"把多次采样的奖励均值，作为优势估计的baseline，避免单独优化Critic模型带来的麻烦")])],-1)),t("li",null,[Q[276]||(Q[276]=T("具体操作 ")),t("ul",null,[t("li",null,[Q[274]||(Q[274]=T("对1个输入1q，多次rollout ")),t("ul",null,[t("li",null,[Q[271]||(Q[271]=T("采样一组")),t("mjx-container",r2,[(e(),a("svg",i2,Q[265]||(Q[265]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D43A",d:"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[266]||(Q[266]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"G")])],-1))]),Q[272]||(Q[272]=T("个输出")),t("mjx-container",h2,[(e(),a("svg",g2,Q[267]||(Q[267]=[l("",1)]))),Q[268]||(Q[268]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{fence:"false",stretchy:"false"},"{"),t("msub",null,[t("mi",null,"o"),t("mn",null,"1")]),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mn",null,"2")]),t("mo",null,","),t("mo",null,"⋯"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mi",null,"G")]),t("mo",{fence:"false",stretchy:"false"},"}")])],-1))]),Q[273]||(Q[273]=T("，为每个样本计算奖励得")),t("mjx-container",p2,[(e(),a("svg",H2,Q[269]||(Q[269]=[l("",1)]))),Q[270]||(Q[270]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{fence:"false",stretchy:"false"},"{"),t("msub",null,[t("mi",null,"r"),t("mn",null,"1")]),t("mo",null,","),t("msub",null,[t("mi",null,"r"),t("mn",null,"2")]),t("mo",null,","),t("mo",null,"⋯"),t("mo",null,","),t("msub",null,[t("mi",null,"r"),t("mi",null,"G")]),t("mo",{fence:"false",stretchy:"false"},"}")])],-1))])])])]),Q[275]||(Q[275]=t("li",null,[T("单个样本中的所有token 共享一个优势 "),t("ul",null,[t("li",null,"优势计算：减去组内奖励均值、除以标准差")])],-1))])])]),t("mjx-container",c2,[(e(),a("svg",u2,Q[278]||(Q[278]=[l("",1)]))),Q[279]||(Q[279]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"A"),t("mo",{stretchy:"false"},"^")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"t")])]),t("mo",null,"="),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"r"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"i")]),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("msub",null,[t("mi",null,"r"),t("mi",null,"i")]),t("mo",null,"−"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"mean")]),t("mo",{stretchy:"false"},"("),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"r")]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-auto-op":"false"},"std")]),t("mo",{stretchy:"false"},"("),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"r")]),t("mo",{stretchy:"false"},")")])])])],-1))])])])}const D2=m(s,[["render",x2]]);export{Z2 as __pageData,D2 as default};

import{_ as a,c as i,o as n,ah as e}from"./chunks/framework.CvbyeFFO.js";const c=JSON.parse('{"title":"旧版博客搭建过程及其问题","description":"","frontmatter":{"title":"旧版博客搭建过程及其问题","date":"2017-03-13T22:52:41.000Z","tags":["hexo搭建","配置Git"],"categories":["心得"]},"headers":[],"relativePath":"posts/olds/env/13-old-blog-problems.md","filePath":"posts/olds/env/13-old-blog-problems.md","lastUpdated":1753200077000}'),l={name:"posts/olds/env/13-old-blog-problems.md"};function p(t,s,r,h,k,o){return n(),i("div",null,s[0]||(s[0]=[e(`<blockquote><p>一直都想搭建一个博客，今天终于把博客给初步搭建好了。搭建的过程其实不那么顺利，所以简答记录一下。</p></blockquote><h2 id="搭建过程" tabindex="-1">搭建过程 <a class="header-anchor" href="#搭建过程" aria-label="Permalink to &quot;搭建过程&quot;">​</a></h2><ul><li>根据<a href="http://www.jianshu.com/p/f4cc5866946b" target="_blank" rel="noreferrer">手把手搭建博客教程</a>这篇文章来进行搭建，其中目前只看了它的第一页</li><li>后期在<a href="https://hexo.io/themes/" target="_blank" rel="noreferrer">hexo主题</a>里面选择了<a href="https://github.com/ahonn/hexo-theme-even" target="_blank" rel="noreferrer">even</a>主题</li><li>依照<a href="https://github.com/ahonn/hexo-theme-even/wiki" target="_blank" rel="noreferrer">even-wiki</a>来添加标签、分类和about页面</li><li>修改主题目录下的<code>_config.yml</code>的menu，把home、tags等手动改成中文了</li></ul><h2 id="遇到的坑" tabindex="-1">遇到的坑 <a class="header-anchor" href="#遇到的坑" aria-label="Permalink to &quot;遇到的坑&quot;">​</a></h2><ul><li>没有看wiki，自己去谷歌建立tags、categories等页面</li><li>建立好tags，却在tags页面没有看到相应的标签。是因为没有为<code>tags/index.md</code>设置<code>layout</code>为tags</li><li>中文语言，在站点目录下的<code>_config.yml</code>中设置<code>language: zh-cn</code>。</li></ul><h2 id="博客重新搭建" tabindex="-1">博客重新搭建 <a class="header-anchor" href="#博客重新搭建" aria-label="Permalink to &quot;博客重新搭建&quot;">​</a></h2><h3 id="配置及源文件" tabindex="-1">配置及源文件 <a class="header-anchor" href="#配置及源文件" aria-label="Permalink to &quot;配置及源文件&quot;">​</a></h3><p>因为经常重装系统，所以博客也需要重新恢复。先配置git相关信息</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes one-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> config</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --global</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> user.name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;plmsmile&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> config</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --global</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> user.email</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;pulimingspark@163.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ssh-keygen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rsa</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;pulimingspark@163.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 去GitHub上添加sshkey</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/.ssh/id_rsa.pub</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 完成后，进行测试</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ssh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -T</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> git@github.com</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>然后把之前的<code>PLMBlogs</code>拷贝到D盘，一般目录是<code>d/PLMBlogs</code></p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes one-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PLMBlogs</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 安装hexo</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hexo-cli</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -g</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 安装插件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hexo-deployer-git</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --save</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 安装依赖</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="数学公式渲染" tabindex="-1">数学公式渲染 <a class="header-anchor" href="#数学公式渲染" aria-label="Permalink to &quot;数学公式渲染&quot;">​</a></h3><p>执行完上面的操作后，执行如下</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes one-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hexo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clean</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hexo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> generate</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	# 这一步会报错	</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hexo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hexo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> deploy</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>错误信息如下</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes one-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">FATAL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Something&#39;s wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.html</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Error: write EPIPE</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at exports._errnoException (util.js:1020:11)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at Socket._writeGeneric (net.js:711:26)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at Socket._write (net.js:730:8)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at doWrite (_stream_writable.js:331:12)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at writeOrBuffer (_stream_writable.js:317:5)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at Socket.Writable.write (_stream_writable.js:243:11)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at Socket.write (net.js:657:40)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at Hexo.pandocRenderer (D:\\PLMBlogs\\node_modules\\hexo-renderer-pandoc\\index.js:64:15)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at Hexo.tryCatcher (D:\\PLMBlogs\\node_modules\\bluebird\\js\\release\\util.js:16:23)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at Hexo.ret (eval at makeNodePromisifiedEval (C:\\Users\\PLM\\AppData\\Roaming\\npm\\node_modules\\hexo-cli\\node_modules\\bluebird\\js\\release\\promisify.js:184:12), &lt;anonymous&gt;:13:39)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at D:\\PLMBlogs\\node_modules\\hexo\\lib\\hexo\\render.js:61:21</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at tryCatcher (D:\\PLMBlogs\\node_modules\\bluebird\\js\\release\\util.js:16:23)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at Promise._settlePromiseFromHandler (D:\\PLMBlogs\\node_modules\\bluebird\\js\\release\\promise.js:512:31)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at Promise._settlePromise (D:\\PLMBlogs\\node_modules\\bluebird\\js\\release\\promise.js:569:18)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at Promise._settlePromiseCtx (D:\\PLMBlogs\\node_modules\\bluebird\\js\\release\\promise.js:606:10)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at Async._drainQueue (D:\\PLMBlogs\\node_modules\\bluebird\\js\\release\\async.js:138:12)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at Async._drainQueues (D:\\PLMBlogs\\node_modules\\bluebird\\js\\release\\async.js:143:10)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at Immediate.Async.drainQueues (D:\\PLMBlogs\\node_modules\\bluebird\\js\\release\\async.js:17:14)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at runCallback (timers.js:672:20)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at tryOnImmediate (timers.js:645:5)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at processImmediate [as _immediateCallback] (timers.js:617:5)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">events.js:160</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      throw er; // Unhandled &#39;error&#39; event</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      ^</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Error: spawn pandoc ENOENT</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at exports._errnoException (util.js:1020:11)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at Process.ChildProcess._handle.onexit (internal/child_process.js:193:32)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at onErrorNT (internal/child_process.js:367:16)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at _combinedTickCallback (internal/process/next_tick.js:80:11)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    at process._tickCallback (internal/process/next_tick.js:104:9)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>原因是有大量的数学公式，所以需要对网页进行渲染。</p><p>一般是使用<code>pandoc</code>进行渲染，先去官网下载，然后下一步安装即可。最后，执行下面的命令，安装就好了。</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes one-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hexo-renderer-pandoc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --save</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 再次应该就不会报错了</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hexo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> generate</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="配置git" tabindex="-1">配置git <a class="header-anchor" href="#配置git" aria-label="Permalink to &quot;配置git&quot;">​</a></h2><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes one-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> config</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --global</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> user.name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> plmsmile</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> config</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --global</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> user.email</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> plmspark@163.com</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 生成Key，一路回车</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ssh-keygen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rsa</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;plmspark@163.com&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/.ssh/id_rsa.pub</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 到github上添加该sshkey</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 测试</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ssh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -T</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> git@github.com</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="潜在问题" tabindex="-1">潜在问题 <a class="header-anchor" href="#潜在问题" aria-label="Permalink to &quot;潜在问题&quot;">​</a></h2><ul><li>本站没有搜索功能，安装插件失败了</li><li>tags页面，标签数量错误</li></ul><h2 id="期望" tabindex="-1">期望 <a class="header-anchor" href="#期望" aria-label="Permalink to &quot;期望&quot;">​</a></h2><ul><li>认真学习</li><li>好好做笔记</li><li>要更新博客</li><li>自己常来看看之前的知识点</li></ul>`,25)]))}const b=a(l,[["render",p]]);export{c as __pageData,b as default};

import{_ as s,c as a,o as e,ah as l,j as t,a as T}from"./chunks/framework.CvbyeFFO.js";const P2=JSON.parse('{"title":"各种注意力总结","description":"","frontmatter":{"title":"各种注意力总结","date":"2018-03-25T14:14:12.000Z","tags":["Attention","论文笔记"],"categories":["自然语言处理"]},"headers":[],"relativePath":"posts/olds/nlp/33-attention-summary.md","filePath":"posts/olds/nlp/33-attention-summary.md","lastUpdated":null}'),m={name:"posts/olds/nlp/33-attention-summary.md"},o={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.385ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 8568.1 1000","aria-hidden":"true"},n={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.373ex",height:"1.457ex",role:"img",focusable:"false",viewBox:"0 -450 607 644","aria-hidden":"true"},i={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.928ex",height:"1.545ex",role:"img",focusable:"false",viewBox:"0 -683 852 683","aria-hidden":"true"},H={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.188ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 967 599.8","aria-hidden":"true"},g={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.781ex",height:"1.52ex",role:"img",focusable:"false",viewBox:"0 -661 345 672","aria-hidden":"true"},x={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.052ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 465 453","aria-hidden":"true"},w={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.055ex"},xmlns:"http://www.w3.org/2000/svg",width:"61.468ex",height:"6.358ex",role:"img",focusable:"false",viewBox:"0 -1460 27168.7 2810.3","aria-hidden":"true"},L={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},f={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.986ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.984ex",height:"9.104ex",role:"img",focusable:"false",viewBox:"0 -2262 19883 4023.9","aria-hidden":"true"},y={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},M={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"29.197ex",height:"2.583ex",role:"img",focusable:"false",viewBox:"0 -891.7 12905 1141.7","aria-hidden":"true"},k={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.576ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.391ex",height:"2.594ex",role:"img",focusable:"false",viewBox:"0 -891.7 6361 1146.5","aria-hidden":"true"},b={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.824ex"},xmlns:"http://www.w3.org/2000/svg",width:"36.293ex",height:"6.744ex",role:"img",focusable:"false",viewBox:"0 -1733 16041.6 2981","aria-hidden":"true"},D={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},j={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.148ex",height:"1.758ex",role:"img",focusable:"false",viewBox:"0 -583 8021.6 777","aria-hidden":"true"},_={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.188ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 967 599.8","aria-hidden":"true"},R={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},O={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.055ex"},xmlns:"http://www.w3.org/2000/svg",width:"53.989ex",height:"6.976ex",role:"img",focusable:"false",viewBox:"0 -1733 23862.9 3083.3","aria-hidden":"true"},C={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.463ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 8160.8 1000","aria-hidden":"true"},X={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.26ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 13375 1000","aria-hidden":"true"},E={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},I={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"63.705ex",height:"6.354ex",role:"img",focusable:"false",viewBox:"0 -1562.5 28157.8 2808.5","aria-hidden":"true"},N={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},B={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.474ex",height:"2.364ex",role:"img",focusable:"false",viewBox:"0 -750 13911.4 1045","aria-hidden":"true"},G={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"25.284ex",height:"2.685ex",role:"img",focusable:"false",viewBox:"0 -891.7 11175.6 1186.7","aria-hidden":"true"},J={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},q={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.932ex",height:"1.38ex",role:"img",focusable:"false",viewBox:"0 -452 854 609.8","aria-hidden":"true"},F={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},W={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.672ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.981ex",height:"1.677ex",role:"img",focusable:"false",viewBox:"0 -444 7063.6 741.1","aria-hidden":"true"},U={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.179ex",height:"1.595ex",role:"img",focusable:"false",viewBox:"0 -694 521 705","aria-hidden":"true"},K={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.176ex",height:"1.593ex",role:"img",focusable:"false",viewBox:"0 -694 520 704","aria-hidden":"true"},t1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Q1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.695ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5611.2 1000","aria-hidden":"true"},T1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"2.433ex",height:"1.57ex",role:"img",focusable:"false",viewBox:"0 -694 1075.6 694","aria-hidden":"true"},e1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.777ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.374ex",height:"2.966ex",role:"img",focusable:"false",viewBox:"0 -967.8 6795.3 1311.1","aria-hidden":"true"},s1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.188ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 967 599.8","aria-hidden":"true"},o1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.373ex",height:"1.457ex",role:"img",focusable:"false",viewBox:"0 -450 607 644","aria-hidden":"true"},n1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.185ex",height:"1.927ex",role:"img",focusable:"false",viewBox:"0 -694 966 851.8","aria-hidden":"true"},i1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.801ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 796 599.8","aria-hidden":"true"},H1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.043ex",height:"1.927ex",role:"img",focusable:"false",viewBox:"0 -694 903 851.8","aria-hidden":"true"},g1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.041ex",height:"1.439ex",role:"img",focusable:"false",viewBox:"0 -442 460 636","aria-hidden":"true"},x1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.444ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 7268.1 1000","aria-hidden":"true"},w1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},u1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.954ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 7051.7 1000","aria-hidden":"true"},L1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},f1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"25.687ex",height:"2.583ex",role:"img",focusable:"false",viewBox:"0 -891.7 11353.6 1141.7","aria-hidden":"true"},y1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},M1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.715ex",height:"6.354ex",role:"img",focusable:"false",viewBox:"0 -1562.5 6504.1 2808.5","aria-hidden":"true"},k1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Z1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.005ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.8ex",height:"3.023ex",role:"img",focusable:"false",viewBox:"0 -891.7 8751.8 1336.1","aria-hidden":"true"},b1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.014ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.8ex",height:"6.935ex",role:"img",focusable:"false",viewBox:"0 -1733 9635.7 3065.1","aria-hidden":"true"},D1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},j1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.811ex"},xmlns:"http://www.w3.org/2000/svg",width:"38.867ex",height:"2.838ex",role:"img",focusable:"false",viewBox:"0 -896 17179.1 1254.5","aria-hidden":"true"},_1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},A1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.81ex"},xmlns:"http://www.w3.org/2000/svg",width:"32.028ex",height:"2.837ex",role:"img",focusable:"false",viewBox:"0 -896 14156.5 1254","aria-hidden":"true"},R1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.185ex",height:"1.927ex",role:"img",focusable:"false",viewBox:"0 -694 966 851.8","aria-hidden":"true"},C1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.373ex",height:"1.457ex",role:"img",focusable:"false",viewBox:"0 -450 607 644","aria-hidden":"true"},X1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},P1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"20.641ex",height:"2.583ex",role:"img",focusable:"false",viewBox:"0 -891.7 9123.3 1141.7","aria-hidden":"true"},E1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.211ex",height:"1.927ex",role:"img",focusable:"false",viewBox:"0 -694 977.3 851.8","aria-hidden":"true"},N1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},B1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"39.571ex",height:"2.583ex",role:"img",focusable:"false",viewBox:"0 -891.7 17490.4 1141.7","aria-hidden":"true"},G1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},z1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"57.159ex",height:"2.667ex",role:"img",focusable:"false",viewBox:"0 -891.7 25264.2 1178.9","aria-hidden":"true"},J1={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},q1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.652ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.991ex",height:"5.955ex",role:"img",focusable:"false",viewBox:"0 -1460 12814.2 2632.1","aria-hidden":"true"},F1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},W1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.986ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 878 453","aria-hidden":"true"},U1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.179ex",height:"1.595ex",role:"img",focusable:"false",viewBox:"0 -694 521 705","aria-hidden":"true"},K1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.767ex",height:"1.382ex",role:"img",focusable:"false",viewBox:"0 -453 781 610.8","aria-hidden":"true"},t2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Q2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.986ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 878 453","aria-hidden":"true"},T2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.767ex",height:"1.382ex",role:"img",focusable:"false",viewBox:"0 -453 781 610.8","aria-hidden":"true"},e2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.014ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.446ex",height:"1.584ex",role:"img",focusable:"false",viewBox:"0 -694 639 700","aria-hidden":"true"},s2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.188ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 967 599.8","aria-hidden":"true"},o2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.014ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.446ex",height:"1.032ex",role:"img",focusable:"false",viewBox:"0 -450 639 456","aria-hidden":"true"},n2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.213ex",height:"1.848ex",role:"img",focusable:"false",viewBox:"0 -805.6 978.3 816.6","aria-hidden":"true"},i2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.452ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.139ex",height:"1.457ex",role:"img",focusable:"false",viewBox:"0 -444 945.3 644","aria-hidden":"true"},H2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.792ex",height:"1.382ex",role:"img",focusable:"false",viewBox:"0 -453 792.3 610.8","aria-hidden":"true"},g2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.046ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 904.3 899","aria-hidden":"true"},x2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"2.167ex",height:"1.018ex",role:"img",focusable:"false",viewBox:"0 -450 958 450","aria-hidden":"true"},w2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.712ex",height:"1.457ex",role:"img",focusable:"false",viewBox:"0 -450 2082.7 644","aria-hidden":"true"},L2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.023ex",height:"1.584ex",role:"img",focusable:"false",viewBox:"0 -700 452 700","aria-hidden":"true"},y2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"2.167ex",height:"1.018ex",role:"img",focusable:"false",viewBox:"0 -450 958 450","aria-hidden":"true"},k2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.712ex",height:"1.457ex",role:"img",focusable:"false",viewBox:"0 -450 2082.7 644","aria-hidden":"true"},b2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.667ex"},xmlns:"http://www.w3.org/2000/svg",width:"22.07ex",height:"3.067ex",role:"img",focusable:"false",viewBox:"0 -1060.7 9754.9 1355.7","aria-hidden":"true"},D2={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},j2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.422ex",height:"2.583ex",role:"img",focusable:"false",viewBox:"0 -891.7 11678.5 1141.7","aria-hidden":"true"};function _2(A2,Q,R2,O2,C2,S2){return e(),a("div",null,[Q[216]||(Q[216]=l("",36)),t("p",null,[t("mjx-container",o,[(e(),a("svg",d,Q[0]||(Q[0]=[l("",1)]))),Q[1]||(Q[1]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"X"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mo",null,":"),t("mi",null,"N")])]),t("mo",null,"="),t("mo",{stretchy:"false"},"["),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mn",null,"1")]),t("mo",null,","),t("mo",null,"⋯"),t("mo",null,","),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mi",null,"N")]),t("mo",{stretchy:"false"},"]")])],-1))]),Q[6]||(Q[6]=T("， 问题")),t("mjx-container",n,[(e(),a("svg",r,Q[2]||(Q[2]=[l("",1)]))),Q[3]||(Q[3]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")])])],-1))]),Q[7]||(Q[7]=T("。 要从")),t("mjx-container",i,[(e(),a("svg",h,Q[4]||(Q[4]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D44B",d:"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[5]||(Q[5]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"X")])],-1))]),Q[8]||(Q[8]=T("中选择一些和任务相关的信息输入给神经网络。"))]),Q[217]||(Q[217]=t("p",null,[t("strong",null,"计算注意力分布")],-1)),t("p",null,[t("mjx-container",H,[(e(),a("svg",p,Q[9]||(Q[9]=[l("",1)]))),Q[10]||(Q[10]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"α"),t("mi",null,"i")])])],-1))]),Q[15]||(Q[15]=T(" : 选择第")),t("mjx-container",g,[(e(),a("svg",V,Q[11]||(Q[11]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D456",d:"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[12]||(Q[12]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"i")])],-1))]),Q[16]||(Q[16]=T("个信息的概率，也称为")),Q[17]||(Q[17]=t("code",null,"注意力分布",-1)),Q[18]||(Q[18]=T(" ，")),t("mjx-container",x,[(e(),a("svg",c,Q[13]||(Q[13]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D467",d:"M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[14]||(Q[14]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"z")])],-1))]),Q[19]||(Q[19]=T("表示被选择信息的索引位置"))]),t("mjx-container",w,[(e(),a("svg",u,Q[20]||(Q[20]=[l("",1)]))),Q[21]||(Q[21]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"α"),t("mi",null,"i")]),t("mo",null,"="),t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"z"),t("mo",null,"="),t("mi",null,"i"),t("mo",null,"∣"),t("mi",null,"X"),t("mo",null,","),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"s"),t("mi",{mathvariant:"normal"},"o"),t("mi",{mathvariant:"normal"},"f"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"m"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"x")]),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mi",{mathvariant:"normal"},"s"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mi",{mathvariant:"normal"},"i")]),t("mo",null,","),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mo",{stretchy:"false"},")"),t("mo",{"data-mjx-texclass":"CLOSE"},")")]),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("mi",null,"exp"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mi",{mathvariant:"normal"},"s"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mi",{mathvariant:"normal"},"i")]),t("mo",null,","),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mo",{stretchy:"false"},")"),t("mo",{"data-mjx-texclass":"CLOSE"},")")])]),t("mrow",null,[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"j"),t("mo",null,"="),t("mn",null,"1")]),t("mi",{mathvariant:"normal"},"N")]),t("mi",null,"exp"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mi",{mathvariant:"normal"},"s"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mi",{mathvariant:"normal"},"j")]),t("mo",null,","),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mo",{stretchy:"false"},")"),t("mo",{"data-mjx-texclass":"CLOSE"},")")])])])])],-1))]),Q[218]||(Q[218]=t("p",null,[t("a",{href:"https://plmsmile.github.io/2017/10/12/Attention-based-NMT/#global-attention",target:"_blank",rel:"noreferrer"},"NMT里面三种score打分函数"),T(" :")],-1)),t("mjx-container",L,[(e(),a("svg",f,Q[22]||(Q[22]=[l("",1)]))),Q[23]||(Q[23]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mstyle",{mathcolor:"blue"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"s"),t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"o"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"e")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",{mathvariant:"normal"},"h"),t("mi",{mathvariant:"normal"},"t")]),t("mo",null,","),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",{mathvariant:"normal"},"h"),t("mo",{stretchy:"false"},"¯")])]),t("mi",{mathvariant:"normal"},"s")]),t("mo",{stretchy:"false"},")")]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"{"),t("mtable",{columnalign:"left left",columnspacing:"1em",rowspacing:".2em"},[t("mtr",null,[t("mtd",null,[t("msubsup",null,[t("mi",null,"h"),t("mi",null,"t"),t("mi",null,"T")]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"h"),t("mo",{stretchy:"false"},"¯")])]),t("mi",null,"s")])]),t("mtd",null,[t("mtext",null,"dot")])]),t("mtr",null,[t("mtd",null,[t("msubsup",null,[t("mi",null,"h"),t("mi",null,"t"),t("mi",null,"T")]),t("msub",null,[t("mi",null,"W"),t("mi",null,"a")]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"h"),t("mo",{stretchy:"false"},"¯")])]),t("mi",null,"s")])]),t("mtd",null,[t("mtext",null,"general")])]),t("mtr",null,[t("mtd",null,[t("msubsup",null,[t("mi",null,"v"),t("mi",null,"a"),t("mi",null,"T")]),t("mi",null,"tanh"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"W"),t("mi",null,"a")]),t("mo",{stretchy:"false"},"["),t("msub",null,[t("mi",null,"h"),t("mi",null,"t")]),t("mo",null,";"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"h"),t("mo",{stretchy:"false"},"¯")])]),t("mi",null,"s")]),t("mo",{stretchy:"false"},"]"),t("mo",{stretchy:"false"},")")]),t("mtd",null,[t("mtext",null,"concat")])])]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"true",stretchy:"true",symmetric:"true"})])])])],-1))]),Q[219]||(Q[219]=t("p",null,[t("code",null,"加性模型")],-1)),t("mjx-container",y,[(e(),a("svg",M,Q[24]||(Q[24]=[l("",1)]))),Q[25]||(Q[25]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"s"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mi",null,"i")]),t("mo",null,","),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("msup",null,[t("mi",null,"v"),t("mi",null,"T")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"n"),t("mi",{mathvariant:"normal"},"h")]),t("mo",{stretchy:"false"},"("),t("mi",{mathvariant:"normal"},"W"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mi",{mathvariant:"normal"},"i")]),t("mo",null,"+"),t("mi",{mathvariant:"normal"},"U"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mo",{stretchy:"false"},")")])],-1))]),Q[220]||(Q[220]=t("p",null,[t("code",null,"点击模型")],-1)),t("mjx-container",k,[(e(),a("svg",Z,Q[26]||(Q[26]=[l("",1)]))),Q[27]||(Q[27]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"s"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mi",null,"i")]),t("mo",null,","),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("msubsup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mi",null,"i"),t("mi",null,"T")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")])])],-1))]),Q[221]||(Q[221]=t("p",null,[t("strong",null,"计算注意力")],-1)),Q[222]||(Q[222]=t("p",null,[t("code",null,"Soft Attention"),T(" 是对所有的信息进行加权求和。"),t("code",null,"Hard Attention"),T("是选择最大信息的那一个。")],-1)),Q[223]||(Q[223]=t("p",null,"使用软性注意力选择机制，对输入信息编码为，实际上也是一个期望。",-1)),t("mjx-container",b,[(e(),a("svg",v,Q[28]||(Q[28]=[l("",1)]))),Q[29]||(Q[29]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"n")]),t("mo",{stretchy:"false"},"("),t("mi",{mathvariant:"normal"},"X"),t("mo",null,","),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"i"),t("mo",null,"="),t("mn",null,"1")]),t("mi",{mathvariant:"normal"},"N")]),t("msub",null,[t("mi",null,"α"),t("mi",{mathvariant:"normal"},"i")]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mi",{mathvariant:"normal"},"i")]),t("mo",null,"="),t("msub",null,[t("mi",{mathvariant:"normal"},"E"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"z"),t("mo",null,"∼"),t("mi",{mathvariant:"normal"},"p"),t("mo",{stretchy:"false"},"("),t("mi",{mathvariant:"normal"},"z"),t("mo",null,"∣"),t("mi",{mathvariant:"normal"},"X"),t("mo",null,","),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},"["),t("mi",{mathvariant:"normal"},"X"),t("mo",{stretchy:"false"},"]")])],-1))]),Q[224]||(Q[224]=l("",10)),t("p",null,[Q[32]||(Q[32]=t("code",null,"Multi-head Attention",-1)),Q[33]||(Q[33]=T("利用多个查询")),t("mjx-container",D,[(e(),a("svg",j,Q[30]||(Q[30]=[l("",1)]))),Q[31]||(Q[31]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mo",null,":"),t("mi",null,"M")])]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mn",null,"1")]),t("mo",null,","),t("mo",null,"⋯"),t("mo",null,","),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mi",null,"M")])])])],-1))]),Q[34]||(Q[34]=T("来并行地从输入信息中选取多个信息。每个注意力关注输入信息的不同部分。比如")),Q[35]||(Q[35]=t("a",{href:"https://arxiv.org/abs/1706.03762",target:"_blank",rel:"noreferrer"},"Attention Is All You Need",-1)),Q[36]||(Q[36]=T("。"))]),Q[225]||(Q[225]=l("",8)),t("p",null,[Q[39]||(Q[39]=T("输入信息：键值对")),Q[40]||(Q[40]=t("code",null,"(Key, Value)",-1)),Q[41]||(Q[41]=T("。 Key用来计算注意力分布")),t("mjx-container",_,[(e(),a("svg",A,Q[37]||(Q[37]=[l("",1)]))),Q[38]||(Q[38]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"α"),t("mi",null,"i")])])],-1))]),Q[42]||(Q[42]=T("，值用来生成选择的信息。"))]),t("mjx-container",R,[(e(),a("svg",O,Q[43]||(Q[43]=[l("",1)]))),Q[44]||(Q[44]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"n")]),t("mo",{stretchy:"false"},"("),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{mathvariant:"bold",stretchy:"false"},"("),t("mi",{mathvariant:"bold"},"K"),t("mo",{mathvariant:"bold"},","),t("mi",{mathvariant:"bold"},"V"),t("mo",{mathvariant:"bold",stretchy:"false"},")")]),t("mo",null,","),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"i"),t("mo",null,"="),t("mn",null,"1")]),t("mi",{mathvariant:"normal"},"N")]),t("msub",null,[t("mi",null,"α"),t("mi",{mathvariant:"normal"},"i")]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"v")]),t("mi",{mathvariant:"normal"},"i")]),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"i"),t("mo",null,"="),t("mn",null,"1")]),t("mi",{mathvariant:"normal"},"N")]),t("mfrac",null,[t("mrow",null,[t("mi",null,"exp"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mi",{mathvariant:"normal"},"s"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"k")]),t("mi",{mathvariant:"normal"},"i")]),t("mo",null,","),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mo",{stretchy:"false"},")"),t("mo",{"data-mjx-texclass":"CLOSE"},")")])]),t("mrow",null,[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"j"),t("mo",null,"="),t("mn",null,"1")]),t("mi",{mathvariant:"normal"},"N")]),t("mi",null,"exp"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mi",{mathvariant:"normal"},"s"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"k")]),t("mi",{mathvariant:"normal"},"j")]),t("mo",null,","),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mo",{stretchy:"false"},")"),t("mo",{"data-mjx-texclass":"CLOSE"},")")])])]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"v")]),t("mi",{mathvariant:"normal"},"i")])])],-1))]),Q[226]||(Q[226]=l("",8)),t("p",null,[Q[47]||(Q[47]=T("输入： ")),t("mjx-container",C,[(e(),a("svg",S,Q[45]||(Q[45]=[l("",1)]))),Q[46]||(Q[46]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"X"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mo",null,":"),t("mi",null,"n")])]),t("mo",null,"="),t("mo",{stretchy:"false"},"["),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mn",null,"1")]),t("mo",null,","),t("mo",null,"⋯"),t("mo",null,","),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mi",null,"n")]),t("mo",{stretchy:"false"},"]")])],-1))])]),t("p",null,[Q[50]||(Q[50]=T("输出：")),t("mjx-container",X,[(e(),a("svg",P,Q[48]||(Q[48]=[l("",1)]))),Q[49]||(Q[49]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"c"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mo",null,":"),t("mi",null,"m")])]),t("mo",null,"="),t("msub",null,[t("mi",null,"c"),t("mn",null,"1")]),t("mo",null,","),t("msub",null,[t("mi",null,"c"),t("mn",null,"2")]),t("mo",null,","),t("mo",null,"⋯"),t("mo",null,","),t("msub",null,[t("mi",null,"c"),t("mi",null,"m")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("msub",null,[t("mi",null,"c"),t("mi",null,"i")]),t("mo",null,"∈"),t("mo",{stretchy:"false"},"["),t("mn",null,"1"),t("mo",null,","),t("mi",null,"n"),t("mo",{stretchy:"false"},"]")])],-1))]),Q[51]||(Q[51]=T("， 输出是序列的下标。如输入123，输出312"))]),Q[227]||(Q[227]=t("img",{src:"http://plm-images.oss-cn-hongkong.aliyuncs.com/img/nlp/papers/pointer-net.png",style:{display:"block",margin:"auto"},width:"80%"},null,-1)),Q[228]||(Q[228]=t("p",null,"条件概率",-1)),t("mjx-container",E,[(e(),a("svg",I,Q[52]||(Q[52]=[l("",1)]))),Q[53]||(Q[53]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"c"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mo",null,":"),t("mi",null,"m")])]),t("mo",null,"∣"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mo",null,":"),t("mi",null,"n")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∏"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"="),t("mn",null,"1")]),t("mi",null,"m")]),t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"c"),t("mi",null,"i")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"c"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mo",null,":"),t("mi",null,"i"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mo",null,":"),t("mi",null,"n")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"≈"),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∏"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"="),t("mn",null,"1")]),t("mi",null,"m")]),t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"c"),t("mi",null,"i")]),t("mo",null,"∣"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"c"),t("mn",null,"1")])])]),t("mo",null,","),t("mo",null,"⋯"),t("mo",null,","),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"c"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"−"),t("mn",null,"1")])])])]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mo",null,":"),t("mi",null,"n")])]),t("mo",{stretchy:"false"},")")])],-1))]),t("mjx-container",N,[(e(),a("svg",B,Q[54]||(Q[54]=[l("",1)]))),Q[55]||(Q[55]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"c"),t("mi",null,"i")]),t("mo",null,"∣"),t("msub",null,[t("mi",null,"c"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mo",null,":"),t("mi",null,"i"),t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,","),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mo",null,":"),t("mi",null,"n")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"s"),t("mi",{mathvariant:"normal"},"o"),t("mi",{mathvariant:"normal"},"f"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"m"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"x")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",{mathvariant:"normal"},"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"i"),t("mo",null,","),t("mi",{mathvariant:"normal"},"j")])]),t("mo",{stretchy:"false"},")")])],-1))]),Q[229]||(Q[229]=t("p",null,"第i步时，每个输入向量的得分（未归一化的注意力分布）：",-1)),t("mjx-container",G,[(e(),a("svg",z,Q[56]||(Q[56]=[l("",1)]))),Q[57]||(Q[57]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"s"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,","),t("mi",null,"j")])]),t("mo",null,"="),t("msup",null,[t("mi",null,"v"),t("mi",null,"T")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"n"),t("mi",{mathvariant:"normal"},"h")]),t("mo",{stretchy:"false"},"("),t("mi",{mathvariant:"normal"},"W"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mi",{mathvariant:"normal"},"j")]),t("mo",null,"+"),t("mi",{mathvariant:"normal"},"U"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"e")]),t("mi",{mathvariant:"normal"},"i")]),t("mo",{stretchy:"false"},")")])],-1))]),t("p",null,[Q[62]||(Q[62]=T("其中向量")),t("mjx-container",J,[(e(),a("svg",q,Q[58]||(Q[58]=[l("",1)]))),Q[59]||(Q[59]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"e")]),t("mi",null,"i")])])],-1))]),Q[63]||(Q[63]=T("是第i个时刻，RNN对")),t("mjx-container",F,[(e(),a("svg",W,Q[60]||(Q[60]=[l("",1)]))),Q[61]||(Q[61]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"c"),t("mn",null,"1")])])]),t("mo",null,","),t("mo",null,"⋯"),t("mo",null,","),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"c"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"−"),t("mn",null,"1")])])])]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"x")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mo",null,":"),t("mi",null,"n")])])])],-1))]),Q[64]||(Q[64]=T(" 的编码。"))]),Q[230]||(Q[230]=t("h1",{id:"各种注意力计算模型",tabindex:"-1"},[T("各种注意力计算模型 "),t("a",{class:"header-anchor",href:"#各种注意力计算模型","aria-label":'Permalink to "各种注意力计算模型"'},"​")],-1)),Q[231]||(Q[231]=t("h2",{id:"注意力的本质",tabindex:"-1"},[T("注意力的本质 "),t("a",{class:"header-anchor",href:"#注意力的本质","aria-label":'Permalink to "注意力的本质"'},"​")],-1)),t("p",null,[Q[73]||(Q[73]=T("有")),t("mjx-container",U,[(e(),a("svg",$,Q[65]||(Q[65]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D458",d:"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[66]||(Q[66]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"k")])],-1))]),Q[74]||(Q[74]=T("个")),t("mjx-container",K,[(e(),a("svg",Y,Q[67]||(Q[67]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D451",d:"M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[68]||(Q[68]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"d")])],-1))]),Q[75]||(Q[75]=T("维的特征向量")),t("mjx-container",t1,[(e(),a("svg",Q1,Q[69]||(Q[69]=[l("",1)]))),Q[70]||(Q[70]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",null,"i")]),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"0.278em"})]),t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",null,"∈"),t("mo",{stretchy:"false"},"["),t("mn",null,"1"),t("mo",null,","),t("mi",null,"k"),t("mo",{stretchy:"false"},"]"),t("mo",{stretchy:"false"},")")])],-1))]),Q[76]||(Q[76]=T("，想要整合这k个特征向量的信息。得到一个向量")),t("mjx-container",T1,[(e(),a("svg",a1,Q[71]||(Q[71]=[l("",1)]))),Q[72]||(Q[72]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mo",null,"∗")])])],-1))]),Q[77]||(Q[77]=T("，一般也是d维。"))]),t("ul",null,[Q[83]||(Q[83]=t("li",null,"简单粗暴：对k个向量求平均。当然不合理啦。",-1)),t("li",null,[Q[80]||(Q[80]=T("加权平均：")),t("mjx-container",e1,[(e(),a("svg",l1,Q[78]||(Q[78]=[l("",1)]))),Q[79]||(Q[79]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mo",null,"∗")]),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"="),t("mn",null,"1")]),t("mi",null,"k")]),t("msub",null,[t("mi",null,"α"),t("mi",null,"i")]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",null,"i")])])],-1))]),Q[81]||(Q[81]=T(" 。")),Q[82]||(Q[82]=t("code",null,"合理",-1))])]),t("p",null,[Q[89]||(Q[89]=T("所以最重要的就是")),t("strong",null,[Q[86]||(Q[86]=T("合理地求出")),t("mjx-container",s1,[(e(),a("svg",m1,Q[84]||(Q[84]=[l("",1)]))),Q[85]||(Q[85]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"α"),t("mi",null,"i")])])],-1))])]),Q[90]||(Q[90]=T("，根据")),Q[91]||(Q[91]=t("code",null,"所关心的对象",-1)),t("mjx-container",o1,[(e(),a("svg",d1,Q[87]||(Q[87]=[l("",1)]))),Q[88]||(Q[88]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")])])],-1))]),Q[92]||(Q[92]=T("(可能是自身)去计算注意力分布"))]),t("ul",null,[t("li",null,[Q[101]||(Q[101]=T("针对每个")),t("mjx-container",n1,[(e(),a("svg",r1,Q[93]||(Q[93]=[l("",1)]))),Q[94]||(Q[94]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",null,"i")])])],-1))]),Q[102]||(Q[102]=T("， 计算出一个")),Q[103]||(Q[103]=t("strong",null,"得分",-1)),Q[104]||(Q[104]=T("，")),t("mjx-container",i1,[(e(),a("svg",h1,Q[95]||(Q[95]=[l("",1)]))),Q[96]||(Q[96]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"i")])])],-1))]),Q[105]||(Q[105]=T("。 ")),t("mjx-container",H1,[(e(),a("svg",p1,Q[97]||(Q[97]=[l("",1)]))),Q[98]||(Q[98]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"h"),t("mi",null,"i")])])],-1))]),Q[106]||(Q[106]=T("与")),t("mjx-container",g1,[(e(),a("svg",V1,Q[99]||(Q[99]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D45E",d:"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[100]||(Q[100]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"q")])],-1))]),Q[107]||(Q[107]=T("越相关，得分越高。"))]),t("li",null,[t("mjx-container",x1,[(e(),a("svg",c1,Q[108]||(Q[108]=[l("",1)]))),Q[109]||(Q[109]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"α"),t("mi",null,"i")]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"s"),t("mi",{mathvariant:"normal"},"o"),t("mi",{mathvariant:"normal"},"f"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"m"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"x")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",{mathvariant:"normal"},"s"),t("mi",{mathvariant:"normal"},"i")]),t("mo",{stretchy:"false"},")")])],-1))])])]),t("mjx-container",w1,[(e(),a("svg",u1,Q[110]||(Q[110]=[l("",1)]))),Q[111]||(Q[111]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"i")]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"s"),t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"o"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"e")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",{mathvariant:"normal"},"i")]),t("mo",null,","),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mo",{stretchy:"false"},")")])],-1))]),Q[232]||(Q[232]=l("",6)),t("mjx-container",L1,[(e(),a("svg",f1,Q[112]||(Q[112]=[l("",1)]))),Q[113]||(Q[113]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"i")]),t("mo",null,"="),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",null,"i")]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"a")]),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",{mathvariant:"normal"},"W"),t("mi",{mathvariant:"normal"},"T")]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",{mathvariant:"normal"},"i")]),t("mo",null,"+"),t("mi",{mathvariant:"normal"},"b"),t("mo",{stretchy:"false"},")")])],-1))]),t("mjx-container",y1,[(e(),a("svg",M1,Q[114]||(Q[114]=[l("",1)]))),Q[115]||(Q[115]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mo",null,"∗")]),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"="),t("mn",null,"1")]),t("mi",null,"n")]),t("msub",null,[t("mi",null,"s"),t("mi",null,"i")]),t("mo",null,"⋅"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",null,"i")])])],-1))]),Q[233]||(Q[233]=l("",4)),t("mjx-container",k1,[(e(),a("svg",Z1,Q[116]||(Q[116]=[l("",1)]))),Q[117]||(Q[117]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"γ"),t("mi",null,"j")]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"s"),t("mi",{mathvariant:"normal"},"o"),t("mi",{mathvariant:"normal"},"f"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"m"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"x")]),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"v")]),t("mi",{mathvariant:"normal"},"T")]),t("msubsup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"g")]),t("mi",{mathvariant:"normal"},"j"),t("mi",{mathvariant:"normal"},"q")]),t("mo",{stretchy:"false"},")")])],-1))]),Q[234]||(Q[234]=t("p",null,"利用新的注意力分布去计算最终的attention向量",-1)),t("mjx-container",b1,[(e(),a("svg",v1,Q[118]||(Q[118]=[l("",1)]))),Q[119]||(Q[119]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"u")]),t("mo",null,"="),t("msub",null,[t("mi",null,"W"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"c"),t("mi",null,"h")])]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"j"),t("mo",null,"="),t("mn",null,"1")]),t("mi",null,"N")]),t("msub",null,[t("mi",null,"γ"),t("mi",null,"j")]),t("msubsup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"g")]),t("mi",null,"j"),t("mi",null,"q")]),t("mo",null,"+"),t("msubsup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"b")]),t("mi",null,"c"),t("mi",null,"q")])])],-1))]),Q[235]||(Q[235]=t("p",null,[t("strong",null,"2 两个得分合并为一个得分")],-1)),Q[236]||(Q[236]=t("p",null,[t("a",{href:"http://wnzhang.net/papers/dadm-kdd.pdf",target:"_blank",rel:"noreferrer"},"Dynamic Attention Deep Model for Article Recommendation by Learning Human Editors’ Demonstration ")],-1)),Q[237]||(Q[237]=t("p",null,"计算两个得分",-1)),t("mjx-container",D1,[(e(),a("svg",j1,Q[120]||(Q[120]=[l("",1)]))),Q[121]||(Q[121]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msubsup",null,[t("mi",null,"λ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"m"),t("mi",null,"t")])]),t("mi",null,"M")]),t("mo",null,"="),t("msubsup",null,[t("mi",null,"w"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"m"),t("mi",null,"t")])]),t("mi",null,"M")]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"o")]),t("mo",null,"+"),t("msubsup",null,[t("mi",null,"b"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"m"),t("mi",null,"t")])]),t("mi",null,"M")]),t("mo",null,","),t("mstyle",{scriptlevel:"0"},[t("mspace",{width:"1em"})]),t("msubsup",null,[t("mi",null,"λ"),t("mi",null,"t"),t("mi",null,"T")]),t("mo",null,"="),t("msubsup",null,[t("mi",null,"w"),t("mi",null,"t"),t("mi",null,"T")]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"o")]),t("mo",null,"+"),t("msubsup",null,[t("mi",null,"b"),t("mi",null,"t"),t("mi",null,"T")])])],-1))]),Q[238]||(Q[238]=t("p",null,"权值合并，求注意力分布：",-1)),t("mjx-container",_1,[(e(),a("svg",A1,Q[122]||(Q[122]=[l("",1)]))),Q[123]||(Q[123]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"p"),t("mi",null,"t")]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"s"),t("mi",{mathvariant:"normal"},"o"),t("mi",{mathvariant:"normal"},"f"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"m"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"x")]),t("mo",{stretchy:"false"},"("),t("mi",null,"α"),t("msubsup",null,[t("mi",null,"λ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",{mathvariant:"normal"},"m"),t("mi",{mathvariant:"normal"},"t")])]),t("mi",{mathvariant:"normal"},"M")]),t("mo",null,"+"),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"α"),t("mo",{stretchy:"false"},")"),t("msubsup",null,[t("mi",null,"λ"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"T")]),t("mo",{stretchy:"false"},")")])],-1))]),Q[239]||(Q[239]=l("",9)),t("p",null,[Q[128]||(Q[128]=T("有外部的信息，")),t("mjx-container",R1,[(e(),a("svg",O1,Q[124]||(Q[124]=[l("",1)]))),Q[125]||(Q[125]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",null,"i")])])],-1))]),Q[129]||(Q[129]=T(" 与 ")),t("mjx-container",C1,[(e(),a("svg",S1,Q[126]||(Q[126]=[l("",1)]))),Q[127]||(Q[127]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")])])],-1))]),Q[130]||(Q[130]=T("进行乘积得分。 ")),Q[131]||(Q[131]=t("a",{href:"https://plmsmile.github.io/2017/10/12/Attention-based-NMT/#global-attention",target:"_blank",rel:"noreferrer"},"机器翻译的应用",-1))]),t("mjx-container",X1,[(e(),a("svg",P1,Q[132]||(Q[132]=[l("",1)]))),Q[133]||(Q[133]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"s"),t("mi",{mathvariant:"normal"},"c"),t("mi",{mathvariant:"normal"},"o"),t("mi",{mathvariant:"normal"},"r"),t("mi",{mathvariant:"normal"},"e")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",{mathvariant:"normal"},"i")]),t("mo",null,","),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("msubsup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",{mathvariant:"normal"},"i"),t("mi",{mathvariant:"normal"},"T")]),t("mi",{mathvariant:"normal"},"W"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"q")])])],-1))]),Q[240]||(Q[240]=t("h2",{id:"concatenation-based",tabindex:"-1"},[T("Concatenation-based "),t("a",{class:"header-anchor",href:"#concatenation-based","aria-label":'Permalink to "Concatenation-based"'},"​")],-1)),t("p",null,[Q[136]||(Q[136]=T("要关注的外部对象是")),t("mjx-container",E1,[(e(),a("svg",I1,Q[134]||(Q[134]=[l("",1)]))),Q[135]||(Q[135]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",null,"t")])])],-1))]),Q[137]||(Q[137]=T("， 可以随时间变化，也可以一直不变(question)。"))]),t("mjx-container",N1,[(e(),a("svg",B1,Q[138]||(Q[138]=[l("",1)]))),Q[139]||(Q[139]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"s"),t("mi",null,"i")]),t("mo",null,"="),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",null,"i")]),t("mo",null,","),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",null,"t")]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"v")]),t("mi",null,"T")]),t("mi",{mathvariant:"normal"},"a"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",{mathvariant:"normal"},"W"),t("mn",null,"1")]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",{mathvariant:"normal"},"i")]),t("mo",null,"+"),t("msub",null,[t("mi",{mathvariant:"normal"},"W"),t("mn",null,"2")]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"h")]),t("mi",{mathvariant:"normal"},"t")]),t("mo",null,"+"),t("mi",{mathvariant:"normal"},"b"),t("mo",{stretchy:"false"},")")])],-1))]),Q[241]||(Q[241]=t("p",null,[t("strong",null,"1 多个元素组成Attention")],-1)),Q[242]||(Q[242]=t("p",null,[t("a",{href:"https://www.comp.nus.edu.sg/~xiangnan/papers/sigir17-AttentiveCF.pdf",target:"_blank",rel:"noreferrer"},"Attentive Collaborative Filtering Multimedia Recommendation with Item- and Component-Level Attention_sigir17")],-1)),Q[243]||(Q[243]=t("p",null,"Item-Level Attention。可以看到需要加什么Attention，直接向公式里面一加就可以了。",-1)),t("mjx-container",G1,[(e(),a("svg",z1,Q[140]||(Q[140]=[l("",1)]))),Q[141]||(Q[141]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"a"),t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",null,","),t("mi",null,"l"),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("msubsup",null,[t("mi",null,"w"),t("mn",null,"1"),t("mi",null,"T")]),t("mi",null,"ϕ"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"W"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mi",null,"u")])]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"u")]),t("mi",null,"i")]),t("mo",null,"+"),t("msub",null,[t("mi",null,"W"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mi",null,"v")])]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"v")]),t("mi",null,"l")]),t("mo",null,"+"),t("msub",null,[t("mi",null,"W"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mi",null,"p")])]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"p")]),t("mi",null,"l")]),t("mo",null,"+"),t("msub",null,[t("mi",null,"W"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"1"),t("mi",null,"x")])]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",{mathvariant:"bold"},"x"),t("mo",{mathvariant:"bold",stretchy:"false"},"¯")])])]),t("mi",null,"l")]),t("mo",null,"+"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"b")]),t("mn",null,"1")]),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"c")]),t("mn",null,"1")])])],-1))]),t("mjx-container",J1,[(e(),a("svg",q1,Q[142]||(Q[142]=[l("",1)]))),Q[143]||(Q[143]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"α"),t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",null,","),t("mi",null,"l"),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("mi",null,"exp"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mo",{stretchy:"false"},"("),t("mi",null,"a"),t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",null,","),t("mi",null,"l"),t("mo",{stretchy:"false"},")"),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mo",null,"∈"),t("mi",null,"R"),t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",{stretchy:"false"},")")])]),t("mi",null,"exp"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mo",{stretchy:"false"},"("),t("mi",null,"a"),t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",null,","),t("mi",null,"n"),t("mo",{stretchy:"false"},")"),t("mo",{stretchy:"false"},")")])])])],-1))]),Q[244]||(Q[244]=t("h2",{id:"多层attention",tabindex:"-1"},[T("多层Attention "),t("a",{class:"header-anchor",href:"#多层attention","aria-label":'Permalink to "多层Attention"'},"​")],-1)),t("p",null,[Q[148]||(Q[148]=T("有")),t("mjx-container",F1,[(e(),a("svg",W1,Q[144]||(Q[144]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D45A",d:"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[145]||(Q[145]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"m")])],-1))]),Q[149]||(Q[149]=T("个句子，每个句子有")),t("mjx-container",U1,[(e(),a("svg",$1,Q[146]||(Q[146]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D458",d:"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[147]||(Q[147]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"k")])],-1))]),Q[150]||(Q[150]=T("个词语。"))]),Q[245]||(Q[245]=t("p",null,[t("code",null,"Word-level Attention")],-1)),t("p",null,[Q[153]||(Q[153]=T("每个句子，有k个词语，每个词语一个词向量，使用")),Q[154]||(Q[154]=t("code",null,"Local-based Attention",-1)),Q[155]||(Q[155]=T(" ， 可以得到这个句子的向量表达")),t("mjx-container",K1,[(e(),a("svg",Y1,Q[151]||(Q[151]=[l("",1)]))),Q[152]||(Q[152]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"s")]),t("mi",null,"i")])])],-1))]),Q[156]||(Q[156]=T("。"))]),Q[246]||(Q[246]=t("p",null,[t("code",null,"Sentence-level Attention")],-1)),t("p",null,[Q[165]||(Q[165]=T("有")),t("mjx-container",t2,[(e(),a("svg",Q2,Q[157]||(Q[157]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D45A",d:"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[158]||(Q[158]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"m")])],-1))]),Q[166]||(Q[166]=T("个句子，每个句子是一个句子向量")),t("mjx-container",T2,[(e(),a("svg",a2,Q[159]||(Q[159]=[l("",1)]))),Q[160]||(Q[160]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"s")]),t("mi",null,"i")])])],-1))]),Q[167]||(Q[167]=T("。 可以再次Attention，得到文档的向量表达")),t("mjx-container",e2,[(e(),a("svg",l2,Q[161]||(Q[161]=[l("",1)]))),Q[162]||(Q[162]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"d")])])],-1))]),Q[168]||(Q[168]=T("， 也可以得到每个句子的权值")),t("mjx-container",s2,[(e(),a("svg",m2,Q[163]||(Q[163]=[l("",1)]))),Q[164]||(Q[164]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"α"),t("mi",null,"i")])])],-1))]),Q[169]||(Q[169]=T("。"))]),Q[247]||(Q[247]=l("",9)),t("p",null,[Q[172]||(Q[172]=T("对句子过GRU，每一时刻的output作为词的编码。再使用Local-Attention对这些词，得到")),Q[173]||(Q[173]=t("strong",null,"问句的表达",-1)),t("mjx-container",o2,[(e(),a("svg",d2,Q[170]||(Q[170]=[l("",1)]))),Q[171]||(Q[171]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"u")])])],-1))]),Q[174]||(Q[174]=T("。"))]),Q[248]||(Q[248]=t("p",null,"第二层Attention",-1)),Q[249]||(Q[249]=t("p",null,"由于上下文有多个句子。",-1)),t("p",null,[Q[179]||(Q[179]=T("首先，对一个句子进行过GRU，得到每一时刻单词的语义信息")),t("mjx-container",n2,[(e(),a("svg",r2,Q[175]||(Q[175]=[l("",1)]))),Q[176]||(Q[176]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"α"),t("mi",null,"t")])])],-1))]),Q[180]||(Q[180]=T("， 然后利用Concat-Attention对这些单词计算，得到这句话的语义信息")),t("mjx-container",i2,[(e(),a("svg",h2,Q[177]||(Q[177]=[l("",1)]))),Q[178]||(Q[178]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"y")]),t("mi",null,"t")])])],-1))]),Q[181]||(Q[181]=T("。"))]),Q[250]||(Q[250]=t("p",null,"再把当前句子的语义信息给到句子的GRU",-1)),Q[251]||(Q[251]=t("p",null,"第三次Attention",-1)),t("p",null,[Q[188]||(Q[188]=T("经过GRU，得到")),Q[189]||(Q[189]=t("strong",null,"每个句子的表达",-1)),t("mjx-container",H2,[(e(),a("svg",p2,Q[182]||(Q[182]=[l("",1)]))),Q[183]||(Q[183]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"s")]),t("mi",null,"t")])])],-1))]),Q[190]||(Q[190]=T("。 再使用Concat-Attention来得到")),Q[191]||(Q[191]=t("strong",null,"每个句子的注意力分配",-1)),t("mjx-container",g2,[(e(),a("svg",V2,Q[184]||(Q[184]=[l("",1)]))),Q[185]||(Q[185]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"β")]),t("mi",null,"t")])])],-1))]),Q[192]||(Q[192]=T(", 然后加权求和得到 ")),Q[193]||(Q[193]=t("strong",null,"整个Context的表达",-1)),t("mjx-container",x2,[(e(),a("svg",c2,Q[186]||(Q[186]=[l("",1)]))),Q[187]||(Q[187]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"m")])])],-1))]),Q[194]||(Q[194]=T("。"))]),Q[252]||(Q[252]=t("p",null,"输出",-1)),t("p",null,[Q[197]||(Q[197]=T("结合")),t("mjx-container",w2,[(e(),a("svg",u2,Q[195]||(Q[195]=[l("",1)]))),Q[196]||(Q[196]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"m"),t("mo",{mathvariant:"bold"},","),t("mi",{mathvariant:"bold"},"u")])])],-1))]),Q[198]||(Q[198]=T("通过GRU去生成答案"))]),Q[253]||(Q[253]=t("ul",null,[t("li",null,[t("code",null,"Period Symbol"),T(" ：是正确答案，直接输出")]),t("li",null,[t("code",null,"Question Mask"),T("： 输出是一个问题，要继续问用户相应的信息")])],-1)),t("p",null,[Q[201]||(Q[201]=T("用户重新给了反馈之后，对所有词汇信息使用")),Q[202]||(Q[202]=t("code",null,"simple attention mechanism",-1)),Q[203]||(Q[203]=T("， 即平均加权，所有的贡献都是一样的。得到反馈的向量表达")),t("mjx-container",L2,[(e(),a("svg",f2,Q[199]||(Q[199]=[l("",1)]))),Q[200]||(Q[200]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"f")])])],-1))]),Q[204]||(Q[204]=T("。"))]),t("p",null,[Q[209]||(Q[209]=T("使用新的反馈向量和原始的问句向量，结合，重新生成新的context的语义表达")),t("mjx-container",y2,[(e(),a("svg",M2,Q[205]||(Q[205]=[l("",1)]))),Q[206]||(Q[206]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"m")])])],-1))]),Q[210]||(Q[210]=T("。 最终得到新的")),t("mjx-container",k2,[(e(),a("svg",Z2,Q[207]||(Q[207]=[l("",1)]))),Q[208]||(Q[208]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"m"),t("mo",{mathvariant:"bold"},","),t("mi",{mathvariant:"bold"},"u")])])],-1))]),Q[211]||(Q[211]=T(" 去重新回答。"))]),t("mjx-container",b2,[(e(),a("svg",v2,Q[212]||(Q[212]=[l("",1)]))),Q[213]||(Q[213]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"r")]),t("mo",null,"="),t("mi",null,"tanh"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"W"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"r"),t("mi",null,"f")])]),t("mi",null,"f"),t("mo",null,"+"),t("msubsup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"b")]),t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"f"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},")")])],-1))]),t("mjx-container",D2,[(e(),a("svg",j2,Q[214]||(Q[214]=[l("",1)]))),Q[215]||(Q[215]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"β"),t("mi",null,"t")]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"s"),t("mi",{mathvariant:"normal"},"o"),t("mi",{mathvariant:"normal"},"f"),t("mi",{mathvariant:"normal"},"t"),t("mi",{mathvariant:"normal"},"m"),t("mi",{mathvariant:"normal"},"a"),t("mi",{mathvariant:"normal"},"x")]),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"u")]),t("mi",{mathvariant:"normal"},"T")]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"s")]),t("mi",{mathvariant:"normal"},"t")]),t("mo",null,"+"),t("msup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"r")]),t("mi",{mathvariant:"normal"},"T")]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"bold"},"s")]),t("mi",{mathvariant:"normal"},"t")]),t("mo",{stretchy:"false"},")")])],-1))]),Q[254]||(Q[254]=t("img",{src:"http://plm-images.oss-cn-hongkong.aliyuncs.com/img/nlp/papers/CAN.png",style:{display:"block",margin:"auto"},width:"100%"},null,-1)),Q[255]||(Q[255]=t("img",{src:"http://plm-images.oss-cn-hongkong.aliyuncs.com/img/nlp/papers/ntm.png",style:{display:"block",margin:"auto"},width:"80%"},null,-1))])}const E2=s(m,[["render",_2]]);export{P2 as __pageData,E2 as default};
